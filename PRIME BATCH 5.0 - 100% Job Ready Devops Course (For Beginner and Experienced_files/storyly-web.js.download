parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"fcMS":[function(require,module,exports) {
function o(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}module.exports=o,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"b9XL":[function(require,module,exports) {
function o(e){return module.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},module.exports.__esModule=!0,module.exports.default=module.exports,o(e)}module.exports=o,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"BvG2":[function(require,module,exports) {
var e=require("./typeof.js").default;function r(r,t){if("object"!==e(r)||null===r)return r;var o=r[Symbol.toPrimitive];if(void 0!==o){var u=o.call(r,t||"default");if("object"!==e(u))return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}module.exports=r,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./typeof.js":"b9XL"}],"GBoX":[function(require,module,exports) {
var e=require("./typeof.js").default,r=require("./toPrimitive.js");function o(o){var t=r(o,"string");return"symbol"===e(t)?t:String(t)}module.exports=o,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./typeof.js":"b9XL","./toPrimitive.js":"BvG2"}],"P8NW":[function(require,module,exports) {
var e=require("./toPropertyKey.js");function r(r,o){for(var t=0;t<o.length;t++){var u=o[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,e(u.key),u)}}function o(e,o,t){return o&&r(e.prototype,o),t&&r(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}module.exports=o,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./toPropertyKey.js":"GBoX"}],"AkAO":[function(require,module,exports) {
function e(o,t){return module.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,o){return e.__proto__=o,e},module.exports.__esModule=!0,module.exports.default=module.exports,e(o,t)}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"d4H2":[function(require,module,exports) {
var e=require("./setPrototypeOf.js");function o(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),t&&e(o,t)}module.exports=o,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./setPrototypeOf.js":"AkAO"}],"E7HD":[function(require,module,exports) {
function e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"pxk2":[function(require,module,exports) {
var e=require("./typeof.js").default,r=require("./assertThisInitialized.js");function o(o,t){if(t&&("object"===e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(o)}module.exports=o,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./typeof.js":"b9XL","./assertThisInitialized.js":"E7HD"}],"UJE0":[function(require,module,exports) {
function e(o){return module.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},module.exports.__esModule=!0,module.exports.default=module.exports,e(o)}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"vNP7":[function(require,module,exports) {
function e(e){return-1!==Function.toString.call(e).indexOf("[native code]")}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"QFb6":[function(require,module,exports) {
function e(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"dJhE":[function(require,module,exports) {
var e=require("./setPrototypeOf.js"),o=require("./isNativeReflectConstruct.js");function t(u,l,r){return o()?(module.exports=t=Reflect.construct.bind(),module.exports.__esModule=!0,module.exports.default=module.exports):(module.exports=t=function(o,t,u){var l=[null];l.push.apply(l,t);var r=new(Function.bind.apply(o,l));return u&&e(r,u.prototype),r},module.exports.__esModule=!0,module.exports.default=module.exports),t.apply(null,arguments)}module.exports=t,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./setPrototypeOf.js":"AkAO","./isNativeReflectConstruct.js":"QFb6"}],"ozpi":[function(require,module,exports) {
var e=require("./getPrototypeOf.js"),t=require("./setPrototypeOf.js"),r=require("./isNativeFunction.js"),o=require("./construct.js");function u(n){var s="function"==typeof Map?new Map:void 0;return module.exports=u=function(u){if(null===u||!r(u))return u;if("function"!=typeof u)throw new TypeError("Super expression must either be null or a function");if(void 0!==s){if(s.has(u))return s.get(u);s.set(u,n)}function n(){return o(u,arguments,e(this).constructor)}return n.prototype=Object.create(u.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t(n,u)},module.exports.__esModule=!0,module.exports.default=module.exports,u(n)}module.exports=u,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./getPrototypeOf.js":"UJE0","./setPrototypeOf.js":"AkAO","./isNativeFunction.js":"vNP7","./construct.js":"dJhE"}],"vBxD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("@babel/runtime/helpers/classCallCheck")),t=o(require("@babel/runtime/helpers/createClass")),r=o(require("@babel/runtime/helpers/inherits")),i=o(require("@babel/runtime/helpers/possibleConstructorReturn")),l=o(require("@babel/runtime/helpers/getPrototypeOf")),n=o(require("@babel/runtime/helpers/wrapNativeSuper"));function o(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=a();return function(){var r,n=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var s=function(i){(0,r.default)(n,i);var l=u(n);function n(){var t;return(0,e.default)(this,n),(t=l.call(this)).init_=!1,t.autoPlay_=!1,t.groupId_=null,t}return(0,t.default)(n,[{key:"connectedCallback",value:function(){this.init_=!0,this.hasAttribute("group")&&(this.groupId_=+this.getAttribute("group")),this.getContainerRatio_()}},{key:"getContainerRatio_",value:function(){var e=this;new MutationObserver(function(t){t.forEach(function(t){if("childList"===t.type){if(!e.groupId_)throw e.innerHTML="",new Error("No Group Attribute For Storyly Embed!");var r=getComputedStyle(e.firstElementChild),i=parseFloat(r.getPropertyValue("height")),l=parseFloat(r.getPropertyValue("width")),n=parseFloat(r.getPropertyValue("position"));if(e.hasAttribute("inPhone")){var o=(window.innerHeight-e.firstElementChild.offsetHeight)/2;e.firstElementChild.style.marginTop="".concat(o,"px"),e.firstElementChild.style.width="min(100vw, calc((100vh * 9) / 16))",e.firstElementChild.style.height="min(100vh, calc((100vw * 16) / 9))"}else i&&l||(l=360,i=640,e.firstElementChild.style.width="".concat(l,"px"),e.firstElementChild.style.height="".concat(i,"px"));["absolute","fixed","relative"].includes(n)||(e.firstElementChild.style.position="relative");var u=e.querySelector("storyly-web");u&&u.setEmbedContainerRatio({height:i,width:l})}})}).observe(this,{childList:!0})}}]),n}((0,n.default)(HTMLElement)),c=s;exports.default=c;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/helpers/wrapNativeSuper":"ozpi"}],"NVR6":[function(require,module,exports) {
function e(e,o){(null==o||o>e.length)&&(o=e.length);for(var l=0,r=new Array(o);l<o;l++)r[l]=e[l];return r}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"XfJI":[function(require,module,exports) {
var r=require("./arrayLikeToArray.js");function e(e){if(Array.isArray(e))return r(e)}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./arrayLikeToArray.js":"NVR6"}],"OMTj":[function(require,module,exports) {
function e(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"UyFj":[function(require,module,exports) {
var r=require("./arrayLikeToArray.js");function e(e,t){if(e){if("string"==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./arrayLikeToArray.js":"NVR6"}],"wFNi":[function(require,module,exports) {
function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"Fhqp":[function(require,module,exports) {
var e=require("./arrayWithoutHoles.js"),r=require("./iterableToArray.js"),o=require("./unsupportedIterableToArray.js"),u=require("./nonIterableSpread.js");function t(t){return e(t)||r(t)||o(t)||u()}module.exports=t,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./arrayWithoutHoles.js":"XfJI","./iterableToArray.js":"OMTj","./unsupportedIterableToArray.js":"UyFj","./nonIterableSpread.js":"wFNi"}],"OUZ9":[function(require,module,exports) {
function e(e){if(Array.isArray(e))return e}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"vKPt":[function(require,module,exports) {
function e(e,l){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,u,n,o,f=[],a=!0,i=!1;try{if(n=(r=r.call(e)).next,0===l){if(Object(r)!==r)return;a=!1}else for(;!(a=(t=n.call(r)).done)&&(f.push(t.value),f.length!==l);a=!0);}catch(d){i=!0,u=d}finally{try{if(!a&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(i)throw u}}return f}}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"Rom6":[function(require,module,exports) {
function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"HETk":[function(require,module,exports) {
var e=require("./arrayWithHoles.js"),r=require("./iterableToArrayLimit.js"),o=require("./unsupportedIterableToArray.js"),t=require("./nonIterableRest.js");function u(u,s){return e(u)||r(u,s)||o(u,s)||t()}module.exports=u,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./arrayWithHoles.js":"OUZ9","./iterableToArrayLimit.js":"vKPt","./unsupportedIterableToArray.js":"UyFj","./nonIterableRest.js":"Rom6"}],"agGE":[function(require,module,exports) {
function e(e,o,t,n,r,u,i){try{var d=e[u](i),l=d.value}catch(s){return void t(s)}d.done?o(l):Promise.resolve(l).then(n,r)}function o(o){return function(){var t=this,n=arguments;return new Promise(function(r,u){var i=o.apply(t,n);function d(o){e(i,r,u,d,l,"next",o)}function l(o){e(i,r,u,d,l,"throw",o)}d(void 0)})}}module.exports=o,module.exports.__esModule=!0,module.exports.default=module.exports;
},{}],"IxO8":[function(require,module,exports) {
var e=require("./toPropertyKey.js");function r(r,o,t){return(o=e(o))in r?Object.defineProperty(r,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[o]=t,r}module.exports=r,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./toPropertyKey.js":"GBoX"}],"mDCk":[function(require,module,exports) {
var define;
var t,r=require("./typeof.js").default;function e(){"use strict";module.exports=e=function(){return t},module.exports.__esModule=!0,module.exports.default=module.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,i=Object.defineProperty||function(t,r,e){t[r]=e.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{f({},"")}catch(P){f=function(t,r,e){return t[r]=e}}function h(t,r,e,n){var o=r&&r.prototype instanceof d?r:d,a=Object.create(o.prototype),u=new k(n||[]);return i(a,"_invoke",{value:E(t,e,u)}),a}function s(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(P){return{type:"throw",arg:P}}}t.wrap=h;var p={};function d(){}function v(){}function y(){}var g={};f(g,u,function(){return this});var m=Object.getPrototypeOf,w=m&&m(m(G([])));w&&w!==n&&o.call(w,u)&&(g=w);var x=y.prototype=d.prototype=Object.create(g);function L(t){["next","throw","return"].forEach(function(r){f(t,r,function(t){return this._invoke(r,t)})})}function b(t,e){var n;i(this,"_invoke",{value:function(i,a){function u(){return new e(function(n,u){!function n(i,a,u,c){var l=s(t[i],t,a);if("throw"!==l.type){var f=l.arg,h=f.value;return h&&"object"==r(h)&&o.call(h,"__await")?e.resolve(h.__await).then(function(t){n("next",t,u,c)},function(t){n("throw",t,u,c)}):e.resolve(h).then(function(t){f.value=t,u(f)},function(t){return n("throw",t,u,c)})}c(l.arg)}(i,a,n,u)})}return n=n?n.then(u,u):u()}})}function E(t,r,e){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return N()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var u=_(a,e);if(u){if(u===p)continue;return u}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var c=s(t,r,e);if("normal"===c.type){if(n=e.done?"completed":"suspendedYield",c.arg===p)continue;return{value:c.arg,done:e.done}}"throw"===c.type&&(n="completed",e.method="throw",e.arg=c.arg)}}}function _(t,r){var e=r.method,n=t.iterator[e];if(void 0===n)return r.delegate=null,"throw"===e&&t.iterator.return&&(r.method="return",r.arg=void 0,_(t,r),"throw"===r.method)||"return"!==e&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+e+"' method")),p;var o=s(n,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,p;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function j(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function O(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function G(t){if(t){var r=t[u];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,n=function r(){for(;++e<t.length;)if(o.call(t,e))return r.value=t[e],r.done=!1,r;return r.value=void 0,r.done=!0,r};return n.next=n}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=y,i(x,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=f(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===v||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,f(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},L(b.prototype),f(b.prototype,c,function(){return this}),t.AsyncIterator=b,t.async=function(r,e,n,o,i){void 0===i&&(i=Promise);var a=new b(h(r,e,n,o),i);return t.isGeneratorFunction(e)?a:a.next().then(function(t){return t.done?t.value:a.next()})},L(x),f(x,l,"Generator"),f(x,u,function(){return this}),f(x,"toString",function(){return"[object Generator]"}),t.keys=function(t){var r=Object(t),e=[];for(var n in r)e.push(n);return e.reverse(),function t(){for(;e.length;){var n=e.pop();if(n in r)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=G,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function e(e,n){return a.type="throw",a.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var u=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,r){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=r,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),p},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),O(e),p}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;O(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:G(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),p}},t}module.exports=e,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./typeof.js":"b9XL"}],"PMvg":[function(require,module,exports) {
function e(o){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}var o=require("../helpers/regeneratorRuntime")();module.exports=o;try{regeneratorRuntime=o}catch(t){"object"===("undefined"==typeof globalThis?"undefined":e(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}
},{"../helpers/regeneratorRuntime":"mDCk"}],"saRr":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var t=new Uint8Array(16);function o(){if(!e&&!(e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(t)}
},{}],"Kfyb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;exports.default=e;
},{}],"dh4g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./regex.js"));function t(e){return e&&e.__esModule?e:{default:e}}function r(t){return"string"==typeof t&&e.default.test(t)}var u=r;exports.default=u;
},{"./regex.js":"Kfyb"}],"Okf7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./validate.js"));function r(e){return e&&e.__esModule?e:{default:e}}for(var t=[],i=0;i<256;++i)t.push((i+256).toString(16).substr(1));function o(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=(t[r[i+0]]+t[r[i+1]]+t[r[i+2]]+t[r[i+3]]+"-"+t[r[i+4]]+t[r[i+5]]+"-"+t[r[i+6]]+t[r[i+7]]+"-"+t[r[i+8]]+t[r[i+9]]+"-"+t[r[i+10]]+t[r[i+11]]+t[r[i+12]]+t[r[i+13]]+t[r[i+14]]+t[r[i+15]]).toLowerCase();if(!(0,e.default)(o))throw TypeError("Stringified UUID is invalid");return o}var u=o;exports.default=u;
},{"./validate.js":"dh4g"}],"ds1e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,r,s=o(require("./rng.js")),n=o(require("./stringify.js"));function o(e){return e&&e.__esModule?e:{default:e}}var u=0,t=0;function a(o,a,l){var d=a&&l||0,i=a||new Array(16),c=(o=o||{}).node||e,v=void 0!==o.clockseq?o.clockseq:r;if(null==c||null==v){var f=o.random||(o.rng||s.default)();null==c&&(c=e=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==v&&(v=r=16383&(f[6]<<8|f[7]))}var q=void 0!==o.msecs?o.msecs:Date.now(),m=void 0!==o.nsecs?o.nsecs:t+1,p=q-u+(m-t)/1e4;if(p<0&&void 0===o.clockseq&&(v=v+1&16383),(p<0||q>u)&&void 0===o.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=q,t=m,r=v;var w=(1e4*(268435455&(q+=122192928e5))+m)%4294967296;i[d++]=w>>>24&255,i[d++]=w>>>16&255,i[d++]=w>>>8&255,i[d++]=255&w;var _=q/4294967296*1e4&268435455;i[d++]=_>>>8&255,i[d++]=255&_,i[d++]=_>>>24&15|16,i[d++]=_>>>16&255,i[d++]=v>>>8|128,i[d++]=255&v;for(var g=0;g<6;++g)i[d+g]=c[g];return a||(0,n.default)(i)}var l=a;exports.default=l;
},{"./rng.js":"saRr","./stringify.js":"Okf7"}],"i9qQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./validate.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(0,e.default)(r))throw TypeError("Invalid UUID");var t,s=new Uint8Array(16);return s[0]=(t=parseInt(r.slice(0,8),16))>>>24,s[1]=t>>>16&255,s[2]=t>>>8&255,s[3]=255&t,s[4]=(t=parseInt(r.slice(9,13),16))>>>8,s[5]=255&t,s[6]=(t=parseInt(r.slice(14,18),16))>>>8,s[7]=255&t,s[8]=(t=parseInt(r.slice(19,23),16))>>>8,s[9]=255&t,s[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,s[11]=t/4294967296&255,s[12]=t>>>24&255,s[13]=t>>>16&255,s[14]=t>>>8&255,s[15]=255&t,s}var s=t;exports.default=s;
},{"./validate.js":"dh4g"}],"jljL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.URL=exports.DNS=void 0,exports.default=s;var e=t(require("./stringify.js")),r=t(require("./parse.js"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){e=unescape(encodeURIComponent(e));for(var r=[],t=0;t<e.length;++t)r.push(e.charCodeAt(t));return r}var a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";exports.DNS=a;var o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function s(t,s,u){function i(t,a,o,i){if("string"==typeof t&&(t=n(t)),"string"==typeof a&&(a=(0,r.default)(a)),16!==a.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var d=new Uint8Array(16+t.length);if(d.set(a),d.set(t,a.length),(d=u(d))[6]=15&d[6]|s,d[8]=63&d[8]|128,o){i=i||0;for(var f=0;f<16;++f)o[i+f]=d[f];return o}return(0,e.default)(d)}try{i.name=t}catch(d){}return i.DNS=a,i.URL=o,i}exports.URL=o;
},{"./stringify.js":"Okf7","./parse.js":"i9qQ"}],"z990":[function(require,module,exports) {
"use strict";function n(n){if("string"==typeof n){var t=unescape(encodeURIComponent(n));n=new Uint8Array(t.length);for(var o=0;o<t.length;++o)n[o]=t.charCodeAt(o)}return r(e(u(n),8*n.length))}function r(n){for(var r=[],t=32*n.length,e=0;e<t;e+=8){var u=n[e>>5]>>>e%32&255,o=parseInt("0123456789abcdef".charAt(u>>>4&15)+"0123456789abcdef".charAt(15&u),16);r.push(o)}return r}function t(n){return 14+(n+64>>>9<<4)+1}function e(n,r){n[r>>5]|=128<<r%32,n[t(r)-1]=r;for(var e=1732584193,u=-271733879,f=-1732584194,a=271733878,v=0;v<n.length;v+=16){var s=e,d=u,p=f,g=a;e=c(e,u,f,a,n[v],7,-680876936),a=c(a,e,u,f,n[v+1],12,-389564586),f=c(f,a,e,u,n[v+2],17,606105819),u=c(u,f,a,e,n[v+3],22,-1044525330),e=c(e,u,f,a,n[v+4],7,-176418897),a=c(a,e,u,f,n[v+5],12,1200080426),f=c(f,a,e,u,n[v+6],17,-1473231341),u=c(u,f,a,e,n[v+7],22,-45705983),e=c(e,u,f,a,n[v+8],7,1770035416),a=c(a,e,u,f,n[v+9],12,-1958414417),f=c(f,a,e,u,n[v+10],17,-42063),u=c(u,f,a,e,n[v+11],22,-1990404162),e=c(e,u,f,a,n[v+12],7,1804603682),a=c(a,e,u,f,n[v+13],12,-40341101),f=c(f,a,e,u,n[v+14],17,-1502002290),e=i(e,u=c(u,f,a,e,n[v+15],22,1236535329),f,a,n[v+1],5,-165796510),a=i(a,e,u,f,n[v+6],9,-1069501632),f=i(f,a,e,u,n[v+11],14,643717713),u=i(u,f,a,e,n[v],20,-373897302),e=i(e,u,f,a,n[v+5],5,-701558691),a=i(a,e,u,f,n[v+10],9,38016083),f=i(f,a,e,u,n[v+15],14,-660478335),u=i(u,f,a,e,n[v+4],20,-405537848),e=i(e,u,f,a,n[v+9],5,568446438),a=i(a,e,u,f,n[v+14],9,-1019803690),f=i(f,a,e,u,n[v+3],14,-187363961),u=i(u,f,a,e,n[v+8],20,1163531501),e=i(e,u,f,a,n[v+13],5,-1444681467),a=i(a,e,u,f,n[v+2],9,-51403784),f=i(f,a,e,u,n[v+7],14,1735328473),e=h(e,u=i(u,f,a,e,n[v+12],20,-1926607734),f,a,n[v+5],4,-378558),a=h(a,e,u,f,n[v+8],11,-2022574463),f=h(f,a,e,u,n[v+11],16,1839030562),u=h(u,f,a,e,n[v+14],23,-35309556),e=h(e,u,f,a,n[v+1],4,-1530992060),a=h(a,e,u,f,n[v+4],11,1272893353),f=h(f,a,e,u,n[v+7],16,-155497632),u=h(u,f,a,e,n[v+10],23,-1094730640),e=h(e,u,f,a,n[v+13],4,681279174),a=h(a,e,u,f,n[v],11,-358537222),f=h(f,a,e,u,n[v+3],16,-722521979),u=h(u,f,a,e,n[v+6],23,76029189),e=h(e,u,f,a,n[v+9],4,-640364487),a=h(a,e,u,f,n[v+12],11,-421815835),f=h(f,a,e,u,n[v+15],16,530742520),e=l(e,u=h(u,f,a,e,n[v+2],23,-995338651),f,a,n[v],6,-198630844),a=l(a,e,u,f,n[v+7],10,1126891415),f=l(f,a,e,u,n[v+14],15,-1416354905),u=l(u,f,a,e,n[v+5],21,-57434055),e=l(e,u,f,a,n[v+12],6,1700485571),a=l(a,e,u,f,n[v+3],10,-1894986606),f=l(f,a,e,u,n[v+10],15,-1051523),u=l(u,f,a,e,n[v+1],21,-2054922799),e=l(e,u,f,a,n[v+8],6,1873313359),a=l(a,e,u,f,n[v+15],10,-30611744),f=l(f,a,e,u,n[v+6],15,-1560198380),u=l(u,f,a,e,n[v+13],21,1309151649),e=l(e,u,f,a,n[v+4],6,-145523070),a=l(a,e,u,f,n[v+11],10,-1120210379),f=l(f,a,e,u,n[v+2],15,718787259),u=l(u,f,a,e,n[v+9],21,-343485551),e=o(e,s),u=o(u,d),f=o(f,p),a=o(a,g)}return[e,u,f,a]}function u(n){if(0===n.length)return[];for(var r=8*n.length,e=new Uint32Array(t(r)),u=0;u<r;u+=8)e[u>>5]|=(255&n[u/8])<<u%32;return e}function o(n,r){var t=(65535&n)+(65535&r);return(n>>16)+(r>>16)+(t>>16)<<16|65535&t}function f(n,r){return n<<r|n>>>32-r}function a(n,r,t,e,u,a){return o(f(o(o(r,n),o(e,a)),u),t)}function c(n,r,t,e,u,o,f){return a(r&t|~r&e,n,r,u,o,f)}function i(n,r,t,e,u,o,f){return a(r&e|t&~e,n,r,u,o,f)}function h(n,r,t,e,u,o,f){return a(r^t^e,n,r,u,o,f)}function l(n,r,t,e,u,o,f){return a(t^(r|~e),n,r,u,o,f)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var v=n;exports.default=v;
},{}],"Nc2A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./v35.js")),r=t(require("./md5.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)("v3",48,r.default),d=u;exports.default=d;
},{"./v35.js":"jljL","./md5.js":"z990"}],"HQTZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./rng.js")),r=t(require("./stringify.js"));function t(e){return e&&e.__esModule?e:{default:e}}function u(t,u,n){var a=(t=t||{}).random||(t.rng||e.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,u){n=n||0;for(var f=0;f<16;++f)u[n+f]=a[f];return u}return(0,r.default)(a)}var n=u;exports.default=n;
},{"./rng.js":"saRr","./stringify.js":"Okf7"}],"F2vf":[function(require,module,exports) {
"use strict";function r(r,e,t,a){switch(r){case 0:return e&t^~e&a;case 1:return e^t^a;case 2:return e&t^e&a^t&a;case 3:return e^t^a}}function e(r,e){return r<<e|r>>>32-e}function t(t){var a=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var s=0;s<n.length;++s)t.push(n.charCodeAt(s))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var f=t.length/4+2,u=Math.ceil(f/16),c=new Array(u),l=0;l<u;++l){for(var i=new Uint32Array(16),v=0;v<16;++v)i[v]=t[64*l+4*v]<<24|t[64*l+4*v+1]<<16|t[64*l+4*v+2]<<8|t[64*l+4*v+3];c[l]=i}c[u-1][14]=8*(t.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<u;++h){for(var p=new Uint32Array(80),y=0;y<16;++y)p[y]=c[h][y];for(var d=16;d<80;++d)p[d]=e(p[d-3]^p[d-8]^p[d-14]^p[d-16],1);for(var A=o[0],g=o[1],w=o[2],M=o[3],x=o[4],U=0;U<80;++U){var C=Math.floor(U/20),_=e(A,5)+r(C,g,w,M)+x+a[C]+p[U]>>>0;x=M,M=w,w=e(g,30)>>>0,g=A,A=_}o[0]=o[0]+A>>>0,o[1]=o[1]+g>>>0,o[2]=o[2]+w>>>0,o[3]=o[3]+M>>>0,o[4]=o[4]+x>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t;exports.default=a;
},{}],"oZbo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./v35.js")),r=t(require("./sha1.js"));function t(e){return e&&e.__esModule?e:{default:e}}var u=(0,e.default)("v5",80,r.default),s=u;exports.default=s;
},{"./v35.js":"jljL","./sha1.js":"F2vf"}],"Bkgj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="00000000-0000-0000-0000-000000000000";exports.default=e;
},{}],"kmp0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./validate.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r){if(!(0,e.default)(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var u=t;exports.default=u;
},{"./validate.js":"dh4g"}],"D6fo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"NIL",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"parse",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"v1",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"v3",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"v4",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"v5",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"validate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"version",{enumerable:!0,get:function(){return i.default}});var e=a(require("./v1.js")),r=a(require("./v3.js")),t=a(require("./v4.js")),n=a(require("./v5.js")),u=a(require("./nil.js")),i=a(require("./version.js")),o=a(require("./validate.js")),f=a(require("./stringify.js")),s=a(require("./parse.js"));function a(e){return e&&e.__esModule?e:{default:e}}
},{"./v1.js":"ds1e","./v3.js":"Nc2A","./v4.js":"HQTZ","./v5.js":"oZbo","./nil.js":"Bkgj","./version.js":"kmp0","./validate.js":"dh4g","./stringify.js":"Okf7","./parse.js":"i9qQ"}],"qmVm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("@babel/runtime/helpers/classCallCheck")),e=o(require("@babel/runtime/helpers/createClass"));function o(t){return t&&t.__esModule?t:{default:t}}var r=function(){function o(){(0,t.default)(this,o),this.storylyWebDom_=null}return(0,e.default)(o,null,[{key:"getNodeByInstanceId",value:function(t){if(this.storylyWebDom_=document.querySelector('storyly-web[data-storyly-instance-id="'.concat(t,'"')),!this.storylyWebDom_){for(var e,o=document.querySelectorAll("body *:not(style):not(meta):not(link):not(script)"),r=o.length,n=0;n<r;n+=1){var s=Array.from(o)[n];if(s.shadowRoot&&s.shadowRoot.querySelector('storyly-web[data-storyly-instance-id="'.concat(t,'"'))){e=s.shadowRoot.querySelector('storyly-web[data-storyly-instance-id="'.concat(t,'"'));break}}this.storylyWebDom_=e}return this}},{key:"getInstanceIdByDom",value:function(t){var e=+t.getRootNode().host.dataset.storylyInstanceId;return this.getNodeByInstanceId(e),this}},{key:"getDataFromGlobal",value:function(){return new Proxy(this.storylyWebDom_,{get:function(t,e){return t[e]}})}}]),o}(),n=r;exports.default=n;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW"}],"NA5d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("@babel/runtime/helpers/defineProperty")),t=r(require("@babel/runtime/helpers/classCallCheck")),n=r(require("@babel/runtime/helpers/createClass"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach(function(n){(0,e.default)(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var s,l="Storyly__localData";try{s=window.localStorage}catch(d){var o={storedData:{},getItem:function(e,t){var n;return null!==(n=this.storedData[e])&&void 0!==n?n:t?{}:null},setItem:function(e,t){this.storedData[e]=t}};s=o}var u=function(){function r(){(0,t.default)(this,r),this.instanceId_=null}return(0,n.default)(r,null,[{key:"setInstanceId",value:function(e){return this.instanceId_=e,this}},{key:"getInstanceIdByDom",value:function(e){if(!e)return null;var t=e.getRootNode().host;return this.instanceId_=+t.dataset.storylyInstanceId,this}},{key:"getItemFromInstance",value:function(e){var t,n,r,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!==(r=(null!==(t=null===(n=(s.getItem(l)?JSON.parse(s.getItem(l)):{}).instances)||void 0===n?void 0:n[this.instanceId_])&&void 0!==t?t:{})[e])&&void 0!==r?r:a?{}:null}},{key:"setItemToInstance",value:function(t,n){var r,a,o,u=s.getItem(l)?JSON.parse(s.getItem(l)):{},c=null!==(r=null===(a=u.instances)||void 0===a?void 0:a[this.instanceId_])&&void 0!==r?r:{},d=i(i({},u),{},{instances:i(i({},null!==(o=u.instances)&&void 0!==o?o:{}),{},(0,e.default)({},this.instanceId_,i(i({},c),{},(0,e.default)({},t,n))))});return s.setItem(l,JSON.stringify(d)),n}},{key:"getItemFromGlobal",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return null!==(t=(s.getItem(l)?JSON.parse(s.getItem(l)):{})[e])&&void 0!==t?t:n?{}:null}},{key:"setItemToGlobal",value:function(t,n){var r=i(i({},s.getItem(l)?JSON.parse(s.getItem(l)):{}),{},(0,e.default)({},t,n));return s.setItem(l,JSON.stringify(r)),n}},{key:"removeItemFromInstance",value:function(t){var n,r,a=null!==(n=s.getItem(l))&&void 0!==n?n:{},o=JSON.parse(null!==(r=a[this.instanceId_])&&void 0!==r?r:"{}"),u=i(i({},a),{},{instances:i(i({},a.instances),{},(0,e.default)({},this.instanceId_,i(i({},o),{},(0,e.default)({},t,void 0))))});return s.setItem(l,JSON.stringify(u)),t}}]),r}(),c=u;exports.default=c;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW"}],"nMub":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("@babel/runtime/helpers/defineProperty")),e=i(require("@babel/runtime/helpers/asyncToGenerator")),r=i(require("@babel/runtime/helpers/classCallCheck")),n=i(require("@babel/runtime/helpers/createClass")),a=i(require("@babel/runtime/regenerator")),s=i(require("./proxy")),o=i(require("./storage"));function i(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?c(Object(n),!0).forEach(function(r){(0,t.default)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var l="v2.3",d=function(){function t(e,n){var a;(0,r.default)(this,t),this.instanceId_=n;var o=s.default.getNodeByInstanceId(this.instanceId_).getDataFromGlobal().globalInstanceData,i=new URLSearchParams(window.location.search);this.token_=e,this.eventPayload_=o.eventPayload,this.url_="https://api.storyly.io/web/".concat(l),this.eventUrl_="https://trk.storyly.io/traffic",this.productDetailsUrl_="https://core.storyly.io/products/web/v2/".concat(l),"qa"===i.get("env")||"qa"===o.apiEnv?(this.url_="https://api.qa.storyly.io/web/".concat(l),this.eventUrl_="https://trk.qa.storyly.io/traffic",this.productDetailsUrl_="https://core.qa.storyly.io/products/web/v2/".concat(l)):"blue"===i.get("env")&&(this.url_="https://api-beta.storyly.io/web/".concat(l)),this.isBlockEvent_=null!==(a=i.get("StorylyTestEnv"))&&void 0!==a?a:o.presentationData||!1,this.isBlockeTag_="dashboard.storyly.io"===window.location.hostname||"docs.developers.storyly.io"===window.location.hostname}return(0,n.default)(t,[{key:"getGroups",value:function(){var t=(0,e.default)(a.default.mark(function t(e){var r,n,s;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_responseData"),n=r.story_groups,t.next=3,fetch("".concat(this.url_,"/").concat(this.token_),{method:"POST",headers:u({"Content-Type":"application/json"},o.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_eTag",!1)&&!this.isBlockeTag_&&n?{"If-None-Match":o.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_eTag",!1)}:{}),body:JSON.stringify(u({},e))});case 3:if(200!==(s=t.sent).status){t.next=8;break}s.headers.get("etag")&&o.default.setInstanceId(this.instanceId_).setItemToInstance("Storyly_eTag",s.headers.get("etag")),t.next=12;break;case 8:if(304!==s.status){t.next=12;break}if(o.default.setInstanceId(this.instanceId_).setItemToInstance("Storyly_responseData",u(u({},o.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_responseData")),{},{ttl:Date.now()})),!n){t.next=12;break}return t.abrupt("return",Promise.resolve(o.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_responseData")));case 12:return t.abrupt("return",s.json());case 13:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"sendEvent",value:function(){var t=(0,e.default)(a.default.mark(function t(){var e,r,n,s=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]?s[0]:{},!this.isBlockEvent_){t.next=3;break}return t.abrupt("return",null);case 3:return r=u(u({},this.eventPayload_),{},{payload:u({},e)}),t.next=6,fetch("".concat(this.eventUrl_,"/").concat(this.token_),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 6:return n=t.sent,t.abrupt("return",n.json());case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getProductDetails",value:function(){var t=(0,e.default)(a.default.mark(function t(){var e,r,n=arguments;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=n.length>0&&void 0!==n[0]?n[0]:{},t.next=3,fetch("".concat(this.productDetailsUrl_,"/").concat(this.token_),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return r=t.sent,t.abrupt("return",r.json());case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),p=d;exports.default=p;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/regenerator":"PMvg","./proxy":"qmVm","./storage":"NA5d"}],"w67G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="rtl",t="ltr",r={RTL:e,LTR:t};exports.default=r;
},{}],"ttLI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="pulse",t={PULSE:e};exports.default=t;
},{}],"vgU2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.inlineStoryGroupStyle=d,exports.inlineStyle=u,exports.removeClass=a,exports.resetStyle=c,exports.setClass=i,exports.setStyle=l,exports.slotStyle=void 0;var o=s(require("@babel/runtime/helpers/slicedToArray")),n=s(require("@babel/runtime/helpers/toConsumableArray")),r=s(require("../constants/directions")),t=s(require("../constants/animation")),e=s(require("./proxy"));function s(o){return o&&o.__esModule?o:{default:o}}function i(o,r){var t;Array.isArray(r)?(t=o.classList).add.apply(t,(0,n.default)(r)):o.classList.add(r)}function a(o,n){o.classList.remove(n)}function l(n,r){var t=(0,o.default)(r,3),e=t[0],s=t[1],i=t[2];n.style.setProperty(e,s,i)}function c(o,n){var r=o;n.forEach(function(o){r.style[o]=null})}var p="[slot^='story-group-'] * {\n    pointer-events: none;\n  }\n  [slot^='story-group-'] .storyly__story-preview {\n    transition: background-image 0.3s ease-in-out;\n  }\n  [slot^='story-group-'] .storyly__story-group-title {\n    z-index: 1;\n  }\n  [slot^='story-group-']::after, [slot^='story-group-']::before {\n    pointer-events: none;\n  }";function y(o){var n=o.type;return n===t.default.PULSE?"\n        .animating-".concat(n," .storyly__story-group-cover::before {\n          animation: pulse-before 1s infinite;\n        }\n        .animating-").concat(n," .storyly__story-group-cover::after {\n          content: '';\n          animation: pulse-after 1s infinite;\n        }\n        @keyframes pulse-after {\n          from {\n            transform: scale(1);\n            opacity: 1;\n          }\n          to {\n            transform: scale(1.15);\n            opacity: 0;\n          }\n        }\n        @keyframes pulse-before {\n          from {\n            transform: scale(0.95);\n            box-shadow: 0px 0px 0px 0px rgba(255, 255, 255, 1);\n          }\n          to {\n            transform: scale(1);\n            box-shadow: 0px 0px 0px 4px rgba(255, 255, 255, 0.1);\n          }\n        }\n      "):""}function u(n,t){var s=n.storyGroupBorderRadius,i=n.storyGroupSize,a=n.storyGroupTextColor,l=n.storyGroupTextFont,c=n.storyGroupMarginHorizontal,p=n.storyGroupIconBorderColorNotSeen,u=n.storyGroupIconBorderColorSeen,d=n.storyGroupTextSize,g=n.storyGroupTextWeight,_=n.storyGroupBorderSize,b=n.storyGroupTextLineHeight,x=n.storyGroupTextVisibility,f=n.storyGroupPinBackgroundColor,h=n.storyGroupPinBorderColor,m=n.scrollIndicatorOptions,k=n.storyGroupPinIcon,v=n.storyGroupTextMarginTop,w=n.storyGroupTextSeenColor,G=n.storyBorderGapSize,z=n.storyBorderGapColor,B=n.storyGroupAnimation,C=m.indicatorWidth,L=m.indicatorHeight,S=m.indicatorBorderRadius,T=m.indicatorBorderWidth,I=m.indicatorBorderColor,P=m.indicatorBoxShadow,M=m.indicatorBoxBackgroundColor,j=m.leftIndicatorMargin,V=m.rightIndicatorMargin,q=i.split("x"),A=(0,o.default)(q,2),N=A[0],F=A[1],H="linear-gradient(to right, ".concat(p.join(", "),")"),R="linear-gradient(to right, ".concat(u.join(", "),")");1===p.length&&(H=(0,o.default)(p,1)[0]);1===u.length&&(R=(0,o.default)(u,1)[0]);var W=_>=4?_:4,D=e.default.getNodeByInstanceId(t).getDataFromGlobal().globalInstanceData,E="\n    .storyly__story-groups::-webkit-scrollbar-track {\n      -webkit-box-shadow: none !important;\n      background-color: transparent;\n    }\n    .storyly__story-groups::-webkit-scrollbar {\n      width: 0px !important;\n      height: 0px !important;\n      background-color: transparent;\n    }\n    .storyly__story-groups::-webkit-scrollbar-thumb {\n      background-color: transparent;\n    }\n    .storyly__groups-list::-webkit-scrollbar-track {\n      -webkit-box-shadow: none !important;\n      background-color: transparent;\n    }\n    .storyly__groups-list::-webkit-scrollbar {\n      width: 0px !important;\n      height: 0px !important;\n      background-color: transparent;\n    }\n    .storyly__groups-list::-webkit-scrollbar-thumb {\n      background-color: transparent;\n    }\n    .storyly__groups-list {\n      display: flex;\n      scrollbar-width: none;\n      padding-top: 2px;\n      ".concat(D.direction===r.default.RTL?"direction: rtl; overflow-x: auto;":"","\n    }\n    .storyly__story-groups {\n      overflow-y: hidden;\n      scrollbar-width: none;\n      padding: 4px 4px 4px 0px;\n      display: flex;\n      direction: ltr;\n      overflow-x: auto;\n    }\n    .storyly__story-groups[embed-mode] {\n      display: none;\n    }\n    .storyly__story-groups .group .icon {\n      background: url('").concat(k||'data:image/svg+xml;charset=utf-8,<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 3L15.09 9.25342L22 10.2624L17 15.1272L18.18 22L12 18.7534L5.82 22L7 15.1272L2 10.2624L8.91 9.25342L12 3V3Z" fill="white"/></svg>',"') no-repeat;\n      background-position: center;\n      display: inline-block;\n      width: 100%;\n      height: 100%;\n      background-size: ").concat(.357*N*.6,"px ").concat(.357*F*.6,"px;\n    }\n    .storyly__story-groups .group .pin-icon {\n      width: ").concat(.357*N,"px;\n      height: ").concat(.357*N,"px;\n      position: absolute;\n      bottom: 0px;\n      right: 0px;\n      background-color: ").concat(f,";\n      ").concat(h?"border: 1px solid ".concat(h,";"):"","\n      border-radius: 50%;\n      z-index: 2;\n      display: none;\n      box-sizing: border-box;\n    }\n    .storyly__story-groups .group.pinned .pin-icon {\n      display: block;\n    }\n    .storyly__story-groups .group .storyly__story-group-badge .storyly__story-group-badge-text {\n      font-family: ").concat(l,", sans-serif;\n      font-size: ").concat(d,"px;\n    }\n    .storyly__story-groups.right::before {\n      content: '';\n      flex: 1;\n    }\n    .storyly__story-groups.center::before,\n    .storyly__story-groups.center::after {\n      content: '';\n      flex: 1;\n    }\n    .storyly__story-groups .group.hidden {\n      display: none !important;\n    }\n    .storyly__story-groups .group {\n      height: auto;\n      margin-inline-start : ").concat(2*Number(c),"px;\n      text-align: center;\n      cursor: pointer;\n      position: relative;\n      width: ").concat(+N+20,"px;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      -webkit-touch-callout: none;\n      -webkit-user-select: none;\n      -khtml-user-select: none;\n      -moz-user-select: none;\n      -ms-user-select: none;\n      user-select: none;\n      padding-top: inherit;\n    }\n    .storyly__story-groups .storyly__story-group-container:not(.storyly__story-group-container-no-flex) {\n      display: flex;\n    }\n    .storyly__story-group-cover {\n      pointer-events: none;\n    }\n    .storyly__story-group-cover::before {\n      background: var(--border-unseen-color, ").concat(H,");\n      content: '';\n      position: absolute;\n      top: 0; right: 0; bottom: 0; left: 0;\n      z-index: 1;\n      margin: -2px;\n      border-radius: inherit;\n    }\n    .storyly__story-group-cover::after {\n      ").concat(1===p.length?"background: ".concat(H,";"):"background-image: ".concat(H,";"),"\n      position: absolute;\n      top: 0; right: 0; bottom: 0; left: 0;\n      z-index: 0;\n      margin: -2px;\n      border-radius: inherit;\n      background-repeat: no-repeat;\n    }\n    .storyly__story-groups .group.reposition {\n      animation: expandGroup 1s linear;\n      position: relative;\n    }\n    .storyly__story-groups .group.seen .storyly__story-group-title {\n      color: ").concat(w,";\n    }\n    .storyly__story-groups .group.seen .storyly__story-group-cover::before{\n      background: ").concat(R,";\n      animation: none;\n    }\n    .storyly__story-groups .group.seen .storyly__story-group-cover::after{\n      animation: none;\n    }\n    .storyly__story-group-cover {\n      position: relative;\n      box-sizing: border-box;\n      background: transparent;\n      background-clip: padding-box;\n      border-radius: ").concat(s,"px;\n      min-width: ").concat(+N+W,"px;\n      min-height: ").concat(+F+W,"px;\n      display: flex;\n      justify-content: center;\n      align-items: center\n    }\n    .storyly__story-groups .group img {\n      width: ").concat(N,"px;\n      height: ").concat(F,"px;\n      border-radius: ").concat(s,"px;\n      border: ").concat(G,"px solid ").concat(z,";\n      z-index: 1;\n      position: relative;\n      pointer-events: none;\n      opacity: 0;\n    }\n    .storyly__story-groups .group[onView] img {\n      opacity: 1;\n    }\n    .storyly__story-groups .group .storyly__story-group-title {\n      font-size: ").concat(d,"px;\n      color: ").concat(a,";\n      font-family: ").concat(l,", sans-serif;\n      font-weight: ").concat(g,";\n      display: ").concat(x?"block":"none",";\n      pointer-events: none;\n      line-height: ").concat(b,";\n      margin-top: ").concat(v,'px;\n    }\n    .storyly__story-groups .group[data-sortorder="0"] {\n      margin-inline-start : 0;\n    }\n    .storyly__scroll-indicator {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      transition: opacity 0.3s ease-in-out;\n    }\n    .storyly__scroll-indicator:first-child {\n      margin-right: ').concat(j,"px;\n    }\n    .storyly__scroll-indicator:last-child {\n      margin-left: ").concat(V,"px;\n    }\n    .storyly__scroll-indicator div {\n      z-index: 99;\n      background-color: ").concat(M,";\n      box-sizing: border-box;\n      cursor: pointer;\n      width: ").concat(C,"px;\n      height: ").concat(L,"px;\n      border: ").concat(T,"px solid ").concat(I,";\n      border-radius: ").concat(S,"px;\n      margin-bottom: ").concat(Number(d)+6,"px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background-repeat: no-repeat;\n      background-position: center;\n      background-size: cover;\n      box-shadow: ").concat(P,";\n    }\n    @keyframes expandGroup {\n      from {\n        left: 0;\n      }\n      to {\n        left: 50%;\n      }\n    }\n  ");B&&(E+=y(B));return E.replace(/\s+/g," ")}function d(o){var n=o.storyGroupProgressBackgroundColor,r=o.storyGroupProgressFillColor,t=o.storyGroupTitleVisible,e=o.storyGroupCoverVisible,s=o.storyGroupCloseButtonVisible;return"\n    .storyly__story-group .progress-wrapper .progress {\n      background-color: ".concat(n,";\n    }\n    .storyly__story-group .progress-wrapper .progress span {\n      background: ").concat(r,";\n    }\n    .storyly__story-group .storyly__story-header .storyly__story-info img {\n      display: ").concat(e?"block":"none","\n    }\n    .storyly__story-group .storyly__story-header .storyly__story-info h4 {\n      display: ").concat(t?"block":"none","\n    }\n    .storyly__action-container #storyly__close-story-button {\n      display: ").concat(s?"inline-block":"none","\n    }\n  ").replace(/\s+/g," ")}exports.slotStyle=p;
},{"@babel/runtime/helpers/slicedToArray":"HETk","@babel/runtime/helpers/toConsumableArray":"Fhqp","../constants/directions":"w67G","../constants/animation":"ttLI","./proxy":"qmVm"}],"kQhN":[function(require,module,exports) {
var e=require("./arrayWithHoles.js"),r=require("./iterableToArray.js"),o=require("./unsupportedIterableToArray.js"),u=require("./nonIterableRest.js");function t(t){return e(t)||r(t)||o(t)||u()}module.exports=t,module.exports.__esModule=!0,module.exports.default=module.exports;
},{"./arrayWithHoles.js":"OUZ9","./iterableToArray.js":"OMTj","./unsupportedIterableToArray.js":"UyFj","./nonIterableRest.js":"Rom6"}],"kUgL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="modern",t="classic",r={MODERN:e,CLASSIC:t};exports.default=r;
},{}],"d0lR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LayerEventTypes=exports.GestureTypes=exports.EventTypes=exports.CustomerEventTypes=void 0;var e="OnScreen",o="Complete",t="NextClicked",r="PreviousClicked",d="Impression",n="Closed",i="GroupComplete",c="PrevSwiped",s="NextSwiped",u="Selected",l="Paused",a="Resumed",y="LinkShared",C="BarViewed",S="click_story_arrow",p="click_keyboard_shortcut",P="default_progress_skip",k="click_story_highlight",w="click_story_group_button",A="click_icon",m="mobile_touch_story",v="mobile_swiped_story",_="ActionClicked",x="ReactionClicked",g="PollSelected",h="ProductTagClicked",R="ProductCardClicked",G="PromoCodeCopied",T="ProductCatalogClicked",Q="QuizAnswered",z="Rated",B="CommentSent",N="ImageQuizAnswered",V="ProductCartAdded",I="ProductAdded",b="ProductCartAddFailed",E="ProductUpdated",O="ProductRemoved",F="CheckoutButtonClicked",L="CartButtonClicked",U="CartViewClicked",f="ProductSelected",H="ProductSheetOpened",j="onStoryPollAnswered",K="onStoryQuizAnswered",M="onStoryReactionAnswered",q="onStoryQuestionAnswered",D="onStoryRatingAnswered",J="onStoryImageQuizAnswered",W="onStoryGroupViewed",X="onStoryViewed",Y="onNextStory",Z="onPreviousStory",$="onNextStoryGroup",ee="onPreviousStoryGroup",oe="onStoryShowFailed",te="onRenderedStoryGroups",re="onStoryCartUpdate",de="onStoryCartClicked",ne="onStorylyHydration",ie={Arrow:S,Keyboard:p,Progress:P,StoryClick:k,Button:w,Icon:A,ClickByTouch:m,Swiped:v};exports.GestureTypes=ie;var ce={ActionClicked:_,ReactionClicked:x,PollSelected:g,ProductTagClicked:h,ProductCardClicked:R,PromoCodeCopied:G,QuizAnswered:Q,Rated:z,CommentSent:B,ImageQuizAnswered:N,ProductCartAdded:V,ProductAdded:I,ProductUpdated:E,ProductRemoved:O,CheckoutButtonClicked:F,CartButtonClicked:L,CartViewClicked:U,ProductCatalogClicked:T,ProductSelected:f,ProductSheetOpened:H,ProductCartAddFailed:b};exports.LayerEventTypes=ce;var se={onStoryPollAnswered:j,onStoryQuizAnswered:K,onStoryReactionAnswered:M,onStoryQuestionAnswered:q,onStoryRatingAnswered:D,onStoryImageQuizAnswered:J,onStoryGroupViewed:W,onStoryViewed:X,onNextStory:Y,onPreviousStory:Z,onNextStoryGroup:$,onPreviousStoryGroup:ee,onStoryShowFailed:oe,onRenderedStoryGroups:te,onStoryCartUpdate:re,onStoryCartClicked:de,onStorylyHydration:ne};exports.CustomerEventTypes=se;var ue={OnScreen:e,Complete:o,NextClicked:t,PreviousClicked:r,Impression:d,Closed:n,GroupComplete:i,PrevSwiped:c,NextSwiped:s,Selected:u,Paused:l,Resumed:a,LinkShared:y,BarViewed:C};exports.EventTypes=ue;
},{}],"aJRz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VIDEO=exports.TEXT=exports.SWIPE=exports.RATING=exports.QUIZ=exports.QUESTION=exports.PROMO_CODE=exports.PRODUCT_TAG=exports.PRODUCT_CATALOG=exports.PRODUCT_CARD=exports.POLL=exports.MEDIA=exports.LayerTemplateTypes=exports.IMAGE_QUIZ=exports.IMAGE_CTA=exports.IMAGE=exports.EMOJI=exports.EMBED_CODE=exports.COUNTDOWN=exports.BUTTON=exports.BLANKSTORY=void 0;var r="emoji";exports.EMOJI=r;var e="poll";exports.POLL=e;var t="rating";exports.RATING=t;var o="quiz";exports.QUIZ=o;var p="media";exports.MEDIA=p;var s="button";exports.BUTTON=s;var O="swipe";exports.SWIPE=O;var T="image";exports.IMAGE=T;var x="video";exports.VIDEO=x;var E="blankstory";exports.BLANKSTORY=E;var a="text";exports.TEXT=a;var A="image_cta";exports.IMAGE_CTA=A;var I="countdown";exports.COUNTDOWN=I;var D="product_tag";exports.PRODUCT_TAG=D;var _="promo_code";exports.PROMO_CODE=_;var C="embed";exports.EMBED_CODE=C;var v="comment";exports.QUESTION=v;var U="product_card";exports.PRODUCT_CARD=U;var M="product_catalog";exports.PRODUCT_CATALOG=M;var R="image_quiz";exports.IMAGE_QUIZ=R;var P={POLL:e,RATING:t,QUIZ:o,MEDIA:p,BUTTON:s,SWIPE:O,IMAGE:T,VIDEO:x,BLANKSTORY:E,TEXT:a,IMAGE_CTA:A,EMOJI:r,COUNTDOWN:I,PRODUCT_TAG:D,PROMO_CODE:_,EMBED_CODE:C,QUESTION:v,PRODUCT_CARD:U,PRODUCT_CATALOG:M,IMAGE_QUIZ:R};exports.LayerTemplateTypes=P;
},{}],"PesM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.storyBackgroundColorHandler=exports.stopEventBubbling=exports.splitTime=exports.setClickEventListener=exports.setAttribute=exports.removeClickEventListener=exports.removeAttribute=exports.randomAlphaNum=exports.productEventPayloadHandler=exports.openProductDetail=exports.openLink=exports.objectLength=exports.kFormatter=exports.isStringHTML=exports.isMobileView=exports.isLiveVideo=exports.isIphone=exports.isHexColor=exports.isArraysEqual=exports.getStoryAssetFromLayers=exports.getProductLayers=exports.getGestureType=exports.getFontFamily=exports.getContrastBgColor=exports.getBrowser=exports.getAssetRatio=exports.generateHtmlFromTemplate=exports.domShow=exports.domHide=exports.decodeJwt=exports.debounce=exports.currencyFormatter=exports.createAndDispatchEvent=exports.copyToClipboard=exports.convertHex=exports.calculateCountdownTimes=exports.calcBorderRadius=void 0;var t=u(require("@babel/runtime/helpers/defineProperty")),e=u(require("@babel/runtime/helpers/toArray")),r=u(require("@babel/runtime/helpers/toConsumableArray")),o=u(require("../constants/layouts")),n=require("../constants/events"),i=u(require("./proxy")),a=require("../constants/layerTypes"),s=u(require("./storage")),c=void 0;function u(t){return t&&t.__esModule?t:{default:t}}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function p(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?l(Object(o),!0).forEach(function(r){(0,t.default)(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var d=function(t,e,r){t.setAttribute(e,r)};exports.setAttribute=d;var f=function(t,e){t.removeAttribute(e)};exports.removeAttribute=f;var v=function(t){var e=document.createElement("template");return e.innerHTML=t,e.content.firstElementChild.cloneNode(!0)};exports.generateHtmlFromTemplate=v;var g=function(t){return Object.keys(t).length};exports.objectLength=g;var h=function(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUWVXYZabcdefghijklmnoprqstuwvxyz",r="",o=0;o<t;o+=1)r+=e[Math.floor(Math.random()*e.length)];return r};exports.randomAlphaNum=h;var m=function(){return(/mobile/i.test(navigator.userAgent)||window.innerWidth<481)&&!/ipad|tablet/i.test(navigator.userAgent)};exports.isMobileView=m;var x=function(t){return/^#[0-9A-F]{6}[0-9a-f]{0,2}$/i.test(t)};exports.isHexColor=x;var y=function(t,e){var r=t.substring(1,3),o=t.substring(3,9),n={FF:100,FC:99,FA:98,F7:97,F5:96,F2:95,F0:94,ED:93,EB:92,E8:91,E6:90,E3:89,E0:88,DE:87,DB:86,D9:85,D6:84,D4:83,D1:82,CF:81,CC:80,C9:79,C7:78,C4:77,C2:76,BF:75,BD:74,BA:73,B8:72,B5:71,B3:70,B0:69,AD:68,AB:67,A8:66,A6:65,A3:64,A1:63,"9E":62,"9C":61,99:60,96:59,94:58,91:57,"8F":56,"8C":55,"8A":54,87:53,85:52,82:51,80:50,"7D":49,"7A":48,78:47,75:46,73:45,70:44,"6E":43,"6B":42,69:41,66:40,63:39,61:38,"5E":37,"5C":36,59:35,57:34,54:33,52:32,"4F":31,"4D":30,"4A":29,47:28,45:27,42:26,40:25,"3D":24,"3B":23,38:22,36:21,33:20,30:19,"2E":18,"2B":17,29:16,26:15,24:14,21:13,"1F":12,"1C":11,"1A":10,17:9,14:8,12:7,"0F":6,"0D":5,"0A":4,"08":3,"05":2,"03":1,"00":0}[r.toLocaleUpperCase()],i=parseInt(o.substring(0,2),16),a=parseInt(o.substring(2,4),16),s=parseInt(o.substring(4,6),16);return"rgba(".concat(i,", ").concat(a,", ").concat(s,", ").concat(null!=e?e:n/100,")")};exports.convertHex=y;var b=function(){var t=function(t){return t.test(window.navigator.userAgent)};switch(!0){case t(/edg/i):return"edge";case t(/trident/i):return"explorer";case t(/firefox|fxios/i):return"firefox";case t(/opr\//i):return"opera";case t(/ucbrowser/i):return"uc_browser";case t(/samsungbrowser/i):return"samsung_browser";case t(/chrome|chromium|crios/i):return"chrome";case t(/safari/i):return"safari";default:return"other"}};exports.getBrowser=b;var C=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"click",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.addEventListener(e,function(t){t.stopPropagation(),r&&t.preventDefault(),t.stopImmediatePropagation()})};exports.stopEventBubbling=C;var A=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=new CustomEvent(e,{detail:r,bubbles:o});t.dispatchEvent(n)};exports.createAndDispatchEvent=A;var w=function(t){return d(t,"hidden",!0)};exports.domHide=w;var T=function(t){return f(t,"hidden")};exports.domShow=T;var _=function(){return window.navigator.userAgent.toLocaleLowerCase().includes("iphone")};exports.isIphone=_;var F=function(t){return(t<0?0:t).toString().padStart(2,"0").split("")};exports.splitTime=F;var L=function(t){var e=t.match(/(http|https|:\/\/)/g)?t:"http://".concat(t);m()?window.location.href=e:window.open(e,"_blank")};exports.openLink=L;var D=function(t){if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",t);var e=document.createElement("textarea");e.textContent=t,e.style.position="fixed",document.body.appendChild(e),e.select(),e.setSelectionRange(0,99999);try{return navigator.clipboard.writeText(e.value)}catch(r){return window.prompt("Copy to clipboard: Ctrl+C, Enter",t)}finally{document.body.removeChild(e)}};exports.copyToClipboard=D;var E=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];clearTimeout(e),e=setTimeout(function(){t.apply(c,n)},r)}};exports.debounce=E;var O=function(t,e){return new Promise(function(r){if("video"===e){var o=document.createElement("video");return o.addEventListener("loadedmetadata",function(){r({asset:o,width:o.videoWidth,height:o.videoHeight})}),void(o.src=t)}var n=new Image;n.src=t,n.onload=function(){r({asset:n,width:n.width,height:n.height})}})};exports.getAssetRatio=O;var B=function(t){var e=t.font,o=t.instanceId,n=i.default.getNodeByInstanceId(o).getDataFromGlobal().globalInstanceData;if(!n.properties)return"";var a=n.properties.storyTextFont,s=["Storyly-Inter"];return!e||s.includes(e)&&a?(0,r.default)(new Set([a,e].concat(s,["sans-serif"]))).filter(Boolean).join(", "):e};exports.getFontFamily=B;var R=function(t){return"string"==typeof t&&!t.replace(/<([^>]+?)([^>]*?)>(.*?)<\/\1>/gi,"").replace(/(<([^>]+)>)/gi,"").trim()};exports.isStringHTML=R;var S=function(t){return JSON.parse(atob(t.split(".")[1]))};exports.decodeJwt=S;var P=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];window.navigator.maxTouchPoints>0?t.addEventListener("pointerdown",e,r):t.addEventListener("click",e,r)};exports.setClickEventListener=P;var G=function(t,e){window.navigator.maxTouchPoints>0?t.removeEventListener("pointerdown",e):t.removeEventListener("click",e)};exports.removeClickEventListener=G;var I=function(t,e){return(null==t?void 0:t.length)>1?"linear-gradient(to bottom, ".concat(t.join(", "),")"):e?y(e):"#000"};exports.storyBackgroundColorHandler=I;var k=function(t){var r,o=t.find(function(t){return"studio_main_layer"===t.studio_component_type}),n=null!==(r=t.find(function(t){return t.is_bg}))&&void 0!==r?r:{bg_color:"#FF000000"},i=t.filter(function(t){return"studio_main_layer"!==t.studio_component_type&&!t.is_bg}),a=o;if(!o){var s=(0,e.default)(t);a=s[0],i=s.slice(1)}return{storyData:a,layers:i,storyBg:p(p({},n),{},{bg_color:I(n.gradient_colors,n.bg_color)})}};function j(){}exports.getStoryAssetFromLayers=k,j.prototype={fontSize:14,rgbClass:{toString:function(){return"<r: ".concat(this.r," g: ").concat(this.g," b: ").concat(this.b," >")}},isValidSixDigitColorCode:function(t){return/^(#)?([0-9a-fA-F]{6})?$/.test(t)},isValidThreeDigitColorCode:function(t){return/^(#)?([0-9a-fA-F]{3})?$/.test(t)},isValidColorCode:function(t){return this.isValidSixDigitColorCode(t)||this.isValidThreeDigitColorCode(t)},isValidRatio:function(t){return"number"==typeof t},convertColorToSixDigit:function(t){return"#".concat(t[1]).concat(t[1]).concat(t[2]).concat(t[2]).concat(t[3]).concat(t[3])},hexToLuminance:function(t){if(!this.isValidColorCode(t))throw new Error("Invalid Color :".concat(t));this.isValidThreeDigitColorCode(t)&&(t=this.convertColorToSixDigit(t)),t=this.getRGBFromHex(t);var e=this.calculateLRGB(t);return this.calculateLuminance(e)},check:function(t,e,r,o){if(void 0!==r&&(this.fontSize=r),!t||!e)return!1;var n=this.hexToLuminance(t),i=this.hexToLuminance(e),a=this.getContrastRatio(n,i);return void 0!==o?!!this.isValidRatio(o)&&this.verifyCustomContrastRatio(a,o):this.verifyContrastRatio(a)},calculateLuminance:function(t){return.2126*t.r+.7152*t.g+.0722*t.b},isLevelAA:function(t,e,r){return this.check(t,e,r).WCAG_AA},isLevelAAA:function(t,e,r){return this.check(t,e,r).WCAG_AAA},isLevelCustom:function(t,e,r){return this.check(t,e,void 0,r).customRatio},getRGBFromHex:function(t){var e=Object.create(this.rgbClass);if("string"!=typeof t)throw new Error("must use string");var r=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),n=parseInt(t.slice(5,7),16);return e.r=r,e.g=o,e.b=n,e},calculateSRGB:function(t){var e,r=Object.create(this.rgbClass);for(e in t)t.hasOwnProperty(e)&&(r[e]=parseFloat(t[e]/255,10));return r},calculateLRGB:function(t){var e,r=this.calculateSRGB(t),o=Object.create(this.rgbClass),n=0;for(e in r)r.hasOwnProperty(e)&&(n=parseFloat(r[e],10),o[e]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4));return o},getContrastRatio:function(t,e){var r,o;return t>=e?(r=t,o=e):(r=e,o=t),(r+.05)/(o+.05)},verifyContrastRatio:function(t){var e=Object.create({toString:function(){return"< WCAG-AA: ".concat(this.WCAG_AA?"pass":"fail"," WCAG-AAA: ").concat(this.WCAG_AAA?"pass":"fail"," >")}});return(this.fontSize||14)>=18?(e.WCAG_AA=t>=3,e.WCAG_AAA=t>=4.5):(e.WCAG_AA=t>=4.5,e.WCAG_AAA=t>=7),e},verifyCustomContrastRatio:function(t,e){var r=Object.create({toString:function(){return"< Custom Ratio: ".concat(this.customRatio?"pass":"fail","  >")}});return r.customRatio=t>=e,r}};var M=function(t){var e=new j;if(!t||3!==t.length&&6!==t.length&&9!==t.length)return"#ff000000";var r=e.hexToLuminance("#".concat("#ff000000".slice(3))),o=e.hexToLuminance("#".concat("#ffffffff".slice(3))),n=e.hexToLuminance("#".concat(null==t?void 0:t.slice(3)));return e.getContrastRatio(r,n)>e.getContrastRatio(o,n)?"#ff000000":"#ffffffff"};exports.getContrastBgColor=M;var H=function(t){return i.default.getNodeByInstanceId(t).getDataFromGlobal().globalInstanceData.layout===o.default.MODERN?"onModalOpen":"onBottomSheetOpen"};exports.openProductDetail=H;var q=function(t,e){return t.length===e.length&&t.every(function(t,r){return t===e[r]})};exports.isArraysEqual=q;var V=function(t){switch(t){case n.GestureTypes.Progress:return"progress";case n.GestureTypes.Swiped:return"swiped";default:return"clicked"}};exports.getGestureType=V;var W=function(t){var e=t||0;return e<1e3?e:e>=1e3&&e<1e6?"".concat(+(e/1e3).toFixed(),"k"):e>=1e6&&e<1e9?"".concat(+(e/1e6).toFixed(),"m"):e>=1e9&&e<1e12?"".concat(+(e/1e9).toFixed(),"b"):e>=1e12?"".concat(+(e/1e12).toFixed(),"t"):e};exports.kFormatter=W;var N=function(t,e){return new Intl.NumberFormat(Intl.NumberFormat.supportedLocalesOf(navigator.languages||navigator.language,{localeMatcher:"lookup"}),{style:"currency",currency:e}).format(t)};exports.currencyFormatter=N;var U=function(t,e){var r=parseFloat(t.h)*e.offsetHeight/100;return t.border_radius/100*(r/2)};exports.calcBorderRadius=U;var z=function(t){var e=[a.LayerTemplateTypes.PRODUCT_CATALOG,a.LayerTemplateTypes.PRODUCT_TAG,a.LayerTemplateTypes.PRODUCT_CARD,a.LayerTemplateTypes.IMAGE_CTA,a.LayerTemplateTypes.SWIPE,a.LayerTemplateTypes.BUTTON];return t.stories.flatMap(function(t){return t.media}).flatMap(function(t){return t.layers}).filter(function(t){return e.includes(t.type)&&t.products})};exports.getProductLayers=z;var J=function(t){var e=t/864e5,r=e%1*24,o=r%1*60,n=o%1*60,i=[Math.floor(e),Math.floor(r),Math.floor(o),Math.floor(n)];return[e=i[0],r=i[1],o=i[2],n=i[3]]};exports.calculateCountdownTimes=J;var $=function(t){return"live"===t};exports.isLiveVideo=$;var K=function(t){var e=s.default.getItemFromGlobal("Storyly_userConfig");return{account_id:t.account_id,id:t.id,p_id:t.product_id,p_group_id:t.product_group_id,title:t.title,url:t.url,image_urls:t.image_urls,price:t.price,total_price:(t.sales_price||t.price)*t.quantity,sales_price:t.sales_price,currency:t.price_currency,quantity:t.quantity,language:e.productFeedLanguage,country:e.productFeedCountry}};exports.productEventPayloadHandler=K;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/toArray":"kQhN","@babel/runtime/helpers/toConsumableArray":"Fhqp","../constants/layouts":"kUgL","../constants/events":"d0lR","./proxy":"qmVm","../constants/layerTypes":"aJRz","./storage":"NA5d"}],"Ooqf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="sg",t="s",s={STORY_GROUP:e,STORY:t};exports.default=s;
},{}],"WCGv":[function(require,module,exports) {

},{}],"QF55":[function(require,module,exports) {

},{"../layers/CTA/style.scss":"WCGv","../layers/Countdown/style.scss":"WCGv","../layers/Emoji/style.scss":"WCGv","../layers/ImageCTA/style.scss":"WCGv","../layers/Media/style.scss":"WCGv","../layers/Poll/style.scss":"WCGv","../layers/ProductTag/style.scss":"WCGv","../layers/PromoCode/style.scss":"WCGv","../layers/Question/style.scss":"WCGv","../layers/Quiz/style.scss":"WCGv","../layers/Rating/style.scss":"WCGv","../layers/Text/style.scss":"WCGv","../layers/ProductCard/style.scss":"WCGv","../layers/ImageQuiz/style.scss":"WCGv","../layers/ProductCatalog/style.scss":"WCGv"}],"yCDU":[function(require,module,exports) {

},{"./layers/style.scss":"QF55","./layouts/Modern/style.scss":"WCGv","./layouts/Classic/style.scss":"WCGv","./components/style.scss":"WCGv"}],"DAaj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/helpers/slicedToArray")),n=require("../lib/util");function t(e){return e&&e.__esModule?e:{default:e}}var r=function(t,r){var o="storyly__story-group-badge-text-".concat((0,n.randomAlphaNum)(4)),a=t.b_u_c,c=t.badge,l=void 0===c?{}:c,i=l.bg_c,s=l.t,u=l.t_c,d=l.e_t,f=s||"";if(d){var p,y=function(){var t=new Date(1e3*d).valueOf()-(new Date).valueOf(),a=function(e){return e<10?"0".concat(e):"".concat(e)},c=(0,n.calculateCountdownTimes)(t>0?t:0),l=(0,e.default)(c,4),i=l[0],s=l[1],u=l[2],y=l[3];if(f="".concat(i?"".concat(a(i),"/"):"").concat(a(s),":").concat(a(u),":").concat(a(y)),t>0){var g=r.querySelector("#".concat(o));g&&(g.innerHTML=f)}else clearInterval(p)};y(),p=setInterval(function(){return y()},1e3)}var g="";if(a){var v=a.map(function(e){return(0,n.convertHex)(e)});g="--border-unseen-color: linear-gradient(to right, ".concat(v.join(","),")")}return{borderUnseenColor:g,template:f?'<div class="storyly__story-group-badge">\n              <span \n                class="storyly__story-group-badge-text"\n                id="'.concat(o,'"\n                style="\n                  background-color: ').concat(i&&(0,n.convertHex)(i)||"#ff000000",";\n                  color: ").concat(u&&(0,n.convertHex)(u)||"#ffffffff",'\n                ">\n                ').concat(f,"\n              </span>\n            </div>"):null,badgeStyle:"\n    <style>\n      .storyly__story-group-badge {\n        position: absolute;\n        bottom: -2px;\n        left: -5px;\n        right: -5px;\n        z-index: 2;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n      .storyly__story-group-badge .storyly__story-group-badge-text {\n        white-space: nowrap;\n        overflow: hidden !important;\n        text-overflow: ellipsis;\n        border-radius: 4px;\n        padding: 4px;\n        font-weight: 600;\n        font-size: inherit;\n        line-height: 1;\n      }\n    </style>\n  "}},o=r;exports.default=o;
},{"@babel/runtime/helpers/slicedToArray":"HETk","../lib/util":"PesM"}],"TkWu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleCustomStoryGroupElement=a,exports.handleCustomStoryGroupStyles=s;var e=require("../lib/style"),t=require("../lib/util"),r=l(require("../lib/storage")),o=l(require("./story-group-badge.impl"));function l(e){return e&&e.__esModule?e:{default:e}}function s(l,s,a,i){var y=s.querySelector(".storyly__story-preview"),n=s.classList.contains("storyly__bar-layout");if(y||n){var u,c=y.getAttribute("fallbackURL"),d=function(){var e,t;if(a)return a;var o=null!==(e=null===(t=r.default.setInstanceId(i).getItemFromInstance("Storyly_story-state")[s.getAttribute("data-id")])||void 0===t?void 0:t.length)&&void 0!==e?e:0;return o>=l.stories.length||o-1<0?0:o-1}(),p=(0,t.getStoryAssetFromLayers)(l.stories[d].media.layers).storyData,_=p.image_path;"video"===p.type&&(n?(_=p.video_path,u=l.stories[d].media.thumbnail_url):_=l.stories[d].media.thumbnail_url);var g=l.stories[d].preview_path&&"".concat(l.media_host).concat(l.stories[d].preview_path),v=s.querySelector(".storyly__story-preview-video");if(v&&n&&"video"===p.type){var m=v.cloneNode(!0);m.querySelector("source").src="".concat(l.media_host).concat(_),m.poster=u?"".concat(l.media_host).concat(u):"",v.remove(),s.querySelector(".storyly__story-preview-video-wrapper").appendChild(m)}else(0,e.setStyle)(y,["background-image","url(".concat(g||c?null!=g?g:c:"".concat(l.media_host).concat(_),")")])}if(n&&l.style){var f=(0,o.default)(l.style,s),b=f.borderUnseenColor,h=f.template,S=f.badgeStyle,q=s.querySelector(".storyly__story-group-cover-wrapper");h&&(q.appendChild((0,t.generateHtmlFromTemplate)(h)),q.appendChild((0,t.generateHtmlFromTemplate)(S))),q.style=b}}function a(r,o,l,a){var i,y=(0,t.generateHtmlFromTemplate)(l);y.slot="story-group-".concat(r.group_id),y.dataset.id=r.group_id,y.dataset.order=o,y.tabIndex="0",y.role="listitem",(0,e.setClass)(y,["storyly__story-group-container","storyly__story-group-container-no-flex"]);var n=y.querySelector(".storyly__story-group-cover"),u=y.querySelector(".storyly__story-group-title"),c=y.querySelector(".storyly__story-group-pin"),d=null!==(i=r.style)&&void 0!==i?i:{},p=d.b_u_c,_=d.badge,g=void 0===_?{}:_,v=g.bg_c,m=g.t,f=g.t_c;if(p){var b=p.map(function(e){return(0,t.convertHex)(e)}),h="linear-gradient(to right, ".concat(b.join(","),")");n.style.setProperty("--border-unseen-color",h)}if(m){var S,q;null===(S=y.querySelector(".storyly_story-group-badge"))||void 0===S||S.style.setProperty("--badge-background-color",(0,t.convertHex)(v||"#ff000000")),null===(q=y.querySelector(".storyly_story-group-badge"))||void 0===q||q.style.setProperty("--badge-text-color",f||"#ffffffff");var x=y.querySelector(".storyly_story-group-badge-text");x&&(x.innerText=m)}return a&&(0,e.setClass)(y,"storyly__story-group-seen"),!r.pinned&&c&&(0,e.setStyle)(c,["display","none"]),n&&(n.src=r.icon_image_url,n.hasAttribute("alt")||(n.alt=r.title)),u&&(u.innerHTML=r.title),s(r,y),y}
},{"../lib/style":"vgU2","../lib/util":"PesM","../lib/storage":"NA5d","./story-group-badge.impl":"DAaj"}],"VKZr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.placeholderFields=exports.layerScales=exports.groupTypes=void 0;var e={PERSONALIZED:"personalized",DEFAULT:"default"};exports.groupTypes=e;var t={swipe:"button_text|outlink",text:"text",image:"image_url",button:"text|outlink"};exports.placeholderFields=t;var r=[.64,.8,1];exports.layerScales=r;
},{}],"vYYL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=o(require("@babel/runtime/helpers/slicedToArray")),r=o(require("@babel/runtime/helpers/defineProperty")),t=require("../constants/common");function o(e){return e&&e.__esModule?e:{default:e}}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function a(r,o){var i=o.template,a=(void 0===i?{}:i).max_story_count,s=o.stories,l=s[0].media.layers;if(!a)return Promise.reject();for(var c=[],u=0,p=0;p<a;p+=1){var f=[],b=r[p],d=!0;if(!b)break;for(var y=l.length,O=0;O<y;O+=1){var v=n({},l[O]);if(v.is_template_layer||v.placeholder){var m=t.placeholderFields[v.type].split("|"),h=(0,e.default)(m,2),j=h[0],P=h[1],g=v[j];if(P){var _=v[P];if(!b[_]){d=!1;break}v[P]=b[_]}if(!b[g]){d=!1;break}v[j]=b[g]}f.push(v)}d&&c.push(n(n({},s[0]),{},{story_id:u-=1,media:n(n({},s[0].media),{},{layers:f})}))}var w=n(n({},o),{},{stories:c,hidden:!c.length});return Promise.resolve(w)}
},{"@babel/runtime/helpers/slicedToArray":"HETk","@babel/runtime/helpers/defineProperty":"IxO8","../constants/common":"VKZr"}],"EE4e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=u;var e=t(require("@babel/runtime/helpers/toConsumableArray")),r=t(require("@babel/runtime/helpers/defineProperty"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function o(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}function u(t,n){for(var u,a,i=(u=t||{},a=Object.keys(u).map(function(e){var t="@".concat(e);return(0,r.default)({},t,u[e])}),Object.assign.apply(Object,[{}].concat((0,e.default)(a)))),c=function(e){return null==e?void 0:e.every(function(e){return!!i[e]})},l=JSON.parse(JSON.stringify(n)),f=/@{(.*?)}/g,s=["icon_image_url","title"],p=!1,b=s.length,d=function(){var e=s[y],r=l[e].match(f),t=c(r);if(!t&&null!=r&&r.length)return p=!0,"break";t&&(r.forEach(function(r){l[e]=l[e].replace(r,i[r])}),l.is_user_property_used=!0)},y=0;y<b;y+=1){if("break"===d())break}if(p)return o(o({},n),{},{hidden:!0});for(var O=l.stories,h=O.length,g=function(e){var r=O[e].media.layers;if(O[e].alt_text){var t=O[e].alt_text.match(f),n=c(t);if(!n&&null!=t&&t.length)return O[e].delete=!0,"break";n&&(t.forEach(function(r){O[e].alt_text=O[e].alt_text.replace(r,i[r])}),l.is_user_property_used=!0)}for(var o=r.length,u=function(){for(var t=r[a],n=Object.keys(t).filter(function(e){return"string"==typeof t[e]&&!!t[e].match(f)}),o=n.length,u=function(){var r,o=n[s],u=null===(r=t[o])||void 0===r?void 0:r.match(f),a=c(u);if(!a&&null!=u&&u.length)return O[e].delete=!0,"break";a&&(l.is_user_property_used=!0,O[e].delete=!1,u.forEach(function(e){t[o]=t[o].replace(new RegExp(e),i[e])}))},s=0;s<o;s+=1){if("break"===u())break}},a=0;a<o;a+=1)u()},v=0;v<h;v+=1){if("break"===g(v))break}var _=O.some(function(e){return e.delete});return o(o({},l),{},{hidden:_})}
},{"@babel/runtime/helpers/toConsumableArray":"Fhqp","@babel/runtime/helpers/defineProperty":"IxO8"}],"eyBV":[function(require,module,exports) {
"use strict";function e(e,r){return new IntersectionObserver(r,{root:e,rootMargin:"0px",threshold:[0]})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"BQvw":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,e=arguments[3];!function(e,n){"function"==typeof t&&t.amd?t(n):"object"==typeof module&&module.exports?module.exports=n():e.EvEmitter=n()}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return-1==i.indexOf(e)&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return-1!=i&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){n=n.slice(0),e=e||[];for(var i=this._onceEvents&&this._onceEvents[t],s=0;s<n.length;s++){var o=n[s];i&&i[o]&&(this.off(t,o),delete i[o]),o.apply(this,e)}return this}},e.allOff=function(){delete this._events,delete this._onceEvents},t});
},{}],"SpQD":[function(require,module,exports) {
var define;
var t;!function(e,i){"function"==typeof t&&t.amd?t(i):"object"==typeof module&&module.exports?module.exports=i():e.getSize=i()}(window,function(){"use strict";function t(t){var e=parseFloat(t);return-1==t.indexOf("%")&&!isNaN(e)&&e}var e="undefined"==typeof console?function(){}:function(t){console.error(t)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],o=i.length;function r(t){var i=getComputedStyle(t);return i||e("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var d,n=!1;function h(e){if(function(){if(!n){n=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=r(e);d=200==Math.round(t(o.width)),h.isBoxSizeOuter=d,i.removeChild(e)}}(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var a=r(e);if("none"==a.display)return function(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;e<o;e++)t[i[e]]=0;return t}();var g={};g.width=e.offsetWidth,g.height=e.offsetHeight;for(var p=g.isBorderBox="border-box"==a.boxSizing,u=0;u<o;u++){var f=i[u],m=a[f],s=parseFloat(m);g[f]=isNaN(s)?0:s}var l=g.paddingLeft+g.paddingRight,c=g.paddingTop+g.paddingBottom,b=g.marginLeft+g.marginRight,x=g.marginTop+g.marginBottom,y=g.borderLeftWidth+g.borderRightWidth,v=g.borderTopWidth+g.borderBottomWidth,W=p&&d,w=t(a.width);!1!==w&&(g.width=w+(W?0:l+y));var B=t(a.height);return!1!==B&&(g.height=B+(W?0:c+v)),g.innerWidth=g.width-(l+y),g.innerHeight=g.height-(c+v),g.outerWidth=g.width+b,g.outerHeight=g.height+x,g}}return h});
},{}],"PZ9L":[function(require,module,exports) {
var define;
var e;!function(t,r){"use strict";"function"==typeof e&&e.amd?e(r):"object"==typeof module&&module.exports?module.exports=r():t.matchesSelector=r()}(window,function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],r=0;r<t.length;r++){var o=t[r]+"MatchesSelector";if(e[o])return o}}();return function(t,r){return t[e](r)}});
},{}],"PmK6":[function(require,module,exports) {
var define;
var e;!function(t,r){"function"==typeof e&&e.amd?e(["desandro-matches-selector/matches-selector"],function(e){return r(t,e)}):"object"==typeof module&&module.exports?module.exports=r(t,require("desandro-matches-selector")):t.fizzyUIUtils=r(t,t.matchesSelector)}(window,function(e,t){"use strict";var r={extend:function(e,t){for(var r in t)e[r]=t[r];return e},modulo:function(e,t){return(e%t+t)%t}},n=Array.prototype.slice;r.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?n.call(e):[e]},r.removeFrom=function(e,t){var r=e.indexOf(t);-1!=r&&e.splice(r,1)},r.getParent=function(e,r){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,r))return e},r.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},r.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.filterFindElements=function(e,n){e=r.makeArray(e);var o=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(n){t(e,n)&&o.push(e);for(var r=e.querySelectorAll(n),a=0;a<r.length;a++)o.push(r[a])}else o.push(e)}),o},r.debounceMethod=function(e,t,r){r=r||100;var n=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];clearTimeout(e);var t=arguments,a=this;this[o]=setTimeout(function(){n.apply(a,t),delete a[o]},r)}},r.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},r.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,r){return t+"-"+r}).toLowerCase()};var o=e.console;return r.htmlInit=function(t,n){r.docReady(function(){var a=r.toDashed(n),u="data-"+a,c=document.querySelectorAll("["+u+"]"),i=document.querySelectorAll(".js-"+a),s=r.makeArray(c).concat(r.makeArray(i)),l=u+"-options",d=e.jQuery;s.forEach(function(e){var r,a=e.getAttribute(u)||e.getAttribute(l);try{r=a&&JSON.parse(a)}catch(i){return void(o&&o.error("Error parsing "+u+" on "+e.className+": "+i))}var c=new t(e,r);d&&d.data(e,n,c)})})},r});
},{"desandro-matches-selector":"PZ9L"}],"molc":[function(require,module,exports) {
var define;
var t;!function(i,n){"function"==typeof t&&t.amd?t(["ev-emitter/ev-emitter","get-size/get-size"],n):"object"==typeof module&&module.exports?module.exports=n(require("ev-emitter"),require("get-size")):(i.Outlayer={},i.Outlayer.Item=n(i.EvEmitter,i.getSize))}(window,function(t,i){"use strict";var n=document.documentElement.style,o="string"==typeof n.transition?"transition":"WebkitTransition",e="string"==typeof n.transform?"transform":"WebkitTransform",s={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],r={transform:e,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"};function a(t,i){t&&(this.element=t,this.layout=i,this.position={x:0,y:0},this._create())}var h=a.prototype=Object.create(t.prototype);h.constructor=a,h._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},h.handleEvent=function(t){var i="on"+t.type;this[i]&&this[i](t)},h.getSize=function(){this.size=i(this.element)},h.css=function(t){var i=this.element.style;for(var n in t){i[r[n]||n]=t[n]}},h.getPosition=function(){var t=getComputedStyle(this.element),i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=t[i?"left":"right"],e=t[n?"top":"bottom"],s=parseFloat(o),r=parseFloat(e),a=this.layout.size;-1!=o.indexOf("%")&&(s=s/100*a.width),-1!=e.indexOf("%")&&(r=r/100*a.height),s=isNaN(s)?0:s,r=isNaN(r)?0:r,s-=i?a.paddingLeft:a.paddingRight,r-=n?a.paddingTop:a.paddingBottom,this.position.x=s,this.position.y=r},h.layoutPosition=function(){var t=this.layout.size,i={},n=this.layout._getOption("originLeft"),o=this.layout._getOption("originTop"),e=n?"paddingLeft":"paddingRight",s=n?"left":"right",r=n?"right":"left",a=this.position.x+t[e];i[s]=this.getXValue(a),i[r]="";var h=o?"paddingTop":"paddingBottom",l=o?"top":"bottom",u=o?"bottom":"top",p=this.position.y+t[h];i[l]=this.getYValue(p),i[u]="",this.css(i),this.emitEvent("layout",[this])},h.getXValue=function(t){var i=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!i?t/this.layout.size.width*100+"%":t+"px"},h.getYValue=function(t){var i=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&i?t/this.layout.size.height*100+"%":t+"px"},h._transitionTo=function(t,i){this.getPosition();var n=this.position.x,o=this.position.y,e=t==this.position.x&&i==this.position.y;if(this.setPosition(t,i),!e||this.isTransitioning){var s=t-n,r=i-o,a={};a.transform=this.getTranslate(s,r),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},h.getTranslate=function(t,i){return"translate3d("+(t=this.layout._getOption("originLeft")?t:-t)+"px, "+(i=this.layout._getOption("originTop")?i:-i)+"px, 0)"},h.goTo=function(t,i){this.setPosition(t,i),this.layoutPosition()},h.moveTo=h._transitionTo,h.setPosition=function(t,i){this.position.x=parseFloat(t),this.position.y=parseFloat(i)},h._nonTransition=function(t){for(var i in this.css(t.to),t.isCleaning&&this._removeStyles(t.to),t.onTransitionEnd)t.onTransitionEnd[i].call(this)},h.transition=function(t){if(parseFloat(this.layout.options.transitionDuration)){var i=this._transn;for(var n in t.onTransitionEnd)i.onEnd[n]=t.onTransitionEnd[n];for(n in t.to)i.ingProperties[n]=!0,t.isCleaning&&(i.clean[n]=!0);if(t.from){this.css(t.from);this.element.offsetHeight;null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0}else this._nonTransition(t)};var l="opacity,"+e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()});h.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(s,this,!1)}},h.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},h.onotransitionend=function(t){this.ontransitionend(t)};var u={"-webkit-transform":"transform"};h.ontransitionend=function(t){if(t.target===this.element){var i=this._transn,n=u[t.propertyName]||t.propertyName;if(delete i.ingProperties[n],function(t){for(var i in t)return!1;return!0}(i.ingProperties)&&this.disableTransition(),n in i.clean&&(this.element.style[t.propertyName]="",delete i.clean[n]),n in i.onEnd)i.onEnd[n].call(this),delete i.onEnd[n];this.emitEvent("transitionEnd",[this])}},h.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(s,this,!1),this.isTransitioning=!1},h._removeStyles=function(t){var i={};for(var n in t)i[n]="";this.css(i)};var p={transitionProperty:"",transitionDuration:"",transitionDelay:""};return h.removeTransitionStyles=function(){this.css(p)},h.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},h.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},h.remove=function(){o&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},h.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,i={};i[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:i})},h.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},h.getHideRevealTransitionEndProperty=function(t){var i=this.layout.options[t];if(i.opacity)return"opacity";for(var n in i)return n},h.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,i={};i[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:i})},h.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},h.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a});
},{"ev-emitter":"BQvw","get-size":"SpQD"}],"k1dT":[function(require,module,exports) {
var define;
var t;!function(e,i){"use strict";"function"==typeof t&&t.amd?t(["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(t,n,s,o){return i(e,t,n,s,o)}):"object"==typeof module&&module.exports?module.exports=i(e,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=i(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,function(t,e,i,n,s){"use strict";var o=t.console,r=t.jQuery,a=function(){},h=0,u={};function m(t,e){var i=n.getQueryElement(t);if(i){this.element=i,r&&(this.$element=r(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var s=++h;this.element.outlayerGUID=s,u[s]=this,this._create(),this._getOption("initLayout")&&this.layout()}else o&&o.error("Bad element for "+this.constructor.namespace+": "+(i||t))}m.namespace="outlayer",m.Item=s,m.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=m.prototype;function l(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}n.extend(c,e.prototype),c.option=function(t){n.extend(this.options,t)},c._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},m.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],s=0;s<e.length;s++){var o=new i(e[s],this);n.push(o)}return n},c._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(t){return t.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(t,e){var n,s=this.options[t];s?("string"==typeof s?n=this.element.querySelector(s):s instanceof HTMLElement&&(n=s),this[t]=n?i(n)[e]:s):this[t]=0},c.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},c._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},c._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},c.updateStagger=function(){var t=this.options.stagger;if(null!=t)return this.stagger=function(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var s=f[n]||1;return i*s}(t),this.stagger;this.stagger=0},c._positionItem=function(t,e,i,n,s){n?t.goTo(e,i):(t.stagger(s*this.stagger),t.moveTo(e,i))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){if(this._getOption("resizeContainer")){var t=this._getContainerSize();t&&(this._setContainerMeasure(t.width,!0),this._setContainerMeasure(t.height,!1))}},c._getContainerSize=a,c._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},c._emitCompleteOnItems=function(t,e){var i=this;function n(){i.dispatchEvent(t+"Complete",null,[e])}var s=e.length;if(e&&s){var o=0;e.forEach(function(e){e.once(t,r)})}else n();function r(){++o==s&&n()}},c.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),r)if(this.$element=this.$element||r(this.element),e){var s=r.Event(e);s.type=t,this.$element.trigger(s,i)}else this.$element.trigger(t,i)},c.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},c.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},c.stamp=function(t){(t=this._find(t))&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},c.unstamp=function(t){(t=this._find(t))&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},c._find=function(t){if(t)return"string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},c._manageStamp=a,c._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,s=i(t);return{left:e.left-n.left-s.marginLeft,top:e.top-n.top-s.marginTop,right:n.right-e.right-s.marginRight,bottom:n.bottom-e.bottom-s.marginBottom}},c.handleEvent=n.handleEvent,c.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},n.debounceMethod(m,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var t=i(this.element);return this.size&&t&&t.innerWidth!==this.size.innerWidth},c.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},c.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},c.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},c.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},c.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},c.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},c.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},c.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},c.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},c.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},c.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete u[e],delete this.element.outlayerGUID,r&&r.removeData(this.element,this.constructor.namespace)},m.data=function(t){var e=(t=n.getQueryElement(t))&&t.outlayerGUID;return e&&u[e]},m.create=function(t,e){var i=l(m);return i.defaults=n.extend({},m.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},m.compatOptions),i.namespace=t,i.data=m.data,i.Item=l(s),n.htmlInit(i,t),r&&r.bridget&&r.bridget(t,i),i};var f={ms:1,s:1e3};return m.Item=s,m});
},{"ev-emitter":"BQvw","get-size":"SpQD","fizzy-ui-utils":"PmK6","./item":"molc"}],"Tr1i":[function(require,module,exports) {
var define;
var t;!function(o,e){"function"==typeof t&&t.amd?t(["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(o.Isotope=o.Isotope||{},o.Isotope.Item=e(o.Outlayer))}(window,function(t){"use strict";function o(){t.Item.apply(this,arguments)}var e=o.prototype=Object.create(t.Item.prototype),a=e._create;e._create=function(){this.id=this.layout.itemGUID++,a.call(this),this.sortData={}},e.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,o=this.layout._sorters;for(var e in t){var a=o[e];this.sortData[e]=a(this.element,this)}}};var i=e.destroy;return e.destroy=function(){i.apply(this,arguments),this.css({display:""})},o});
},{"outlayer":"k1dT"}],"Nkzt":[function(require,module,exports) {
var define;
var e;!function(t,i){"function"==typeof e&&e.amd?e(["get-size/get-size","outlayer/outlayer"],i):"object"==typeof module&&module.exports?module.exports=i(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=i(t.getSize,t.Outlayer))}(window,function(e,t){"use strict";function i(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}var o=i.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach(function(e){o[e]=function(){return t.prototype[e].apply(this.isotope,arguments)}}),o.needsVerticalResizeLayout=function(){var t=e(this.isotope.element);return this.isotope.size&&t&&t.innerHeight!=this.isotope.size.innerHeight},o._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},o.getColumnWidth=function(){this.getSegmentSize("column","Width")},o.getRowHeight=function(){this.getSegmentSize("row","Height")},o.getSegmentSize=function(e,t){var i=e+t,o="outer"+t;if(this._getMeasurement(i,o),!this[i]){var s=this.getFirstItemSize();this[i]=s&&s[o]||this.isotope.size["inner"+t]}},o.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},o.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},o.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(e,t){function s(){i.apply(this,arguments)}return s.prototype=Object.create(o),s.prototype.constructor=s,t&&(s.options=t),s.prototype.namespace=e,i.modes[e]=s,s},i});
},{"get-size":"SpQD","outlayer":"k1dT"}],"l7pb":[function(require,module,exports) {
var define;
var t;!function(i,o){"function"==typeof t&&t.amd?t(["outlayer/outlayer","get-size/get-size"],o):"object"==typeof module&&module.exports?module.exports=o(require("outlayer"),require("get-size")):i.Masonry=o(i.Outlayer,i.getSize)}(window,function(t,i){"use strict";var o=t.create("masonry");o.compatOptions.fitWidth="isFitWidth";var e=o.prototype;return e._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},e.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],o=t&&t.element;this.columnWidth=o&&i(o).outerWidth||this.containerWidth}var e=this.columnWidth+=this.gutter,h=this.containerWidth+this.gutter,n=h/e,s=e-h%e;n=Math[s&&s<1?"round":"floor"](n),this.cols=Math.max(n,1)},e.getContainerWidth=function(){var t=this._getOption("fitWidth")?this.element.parentNode:this.element,o=i(t);this.containerWidth=o&&o.innerWidth},e._getItemLayoutPosition=function(t){t.getSize();var i=t.size.outerWidth%this.columnWidth,o=Math[i&&i<1?"round":"ceil"](t.size.outerWidth/this.columnWidth);o=Math.min(o,this.cols);for(var e=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](o,t),h={x:this.columnWidth*e.col,y:e.y},n=e.y+t.size.outerHeight,s=o+e.col,r=e.col;r<s;r++)this.colYs[r]=n;return h},e._getTopColPosition=function(t){var i=this._getTopColGroup(t),o=Math.min.apply(Math,i);return{col:i.indexOf(o),y:o}},e._getTopColGroup=function(t){if(t<2)return this.colYs;for(var i=[],o=this.cols+1-t,e=0;e<o;e++)i[e]=this._getColGroupY(e,t);return i},e._getColGroupY=function(t,i){if(i<2)return this.colYs[t];var o=this.colYs.slice(t,t+i);return Math.max.apply(Math,o)},e._getHorizontalColPosition=function(t,i){var o=this.horizontalColIndex%this.cols;o=t>1&&o+t>this.cols?0:o;var e=i.size.outerWidth&&i.size.outerHeight;return this.horizontalColIndex=e?o+t:this.horizontalColIndex,{col:o,y:this._getColGroupY(o,t)}},e._manageStamp=function(t){var o=i(t),e=this._getElementOffset(t),h=this._getOption("originLeft")?e.left:e.right,n=h+o.outerWidth,s=Math.floor(h/this.columnWidth);s=Math.max(0,s);var r=Math.floor(n/this.columnWidth);r-=n%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var a=(this._getOption("originTop")?e.top:e.bottom)+o.outerHeight,u=s;u<=r;u++)this.colYs[u]=Math.max(a,this.colYs[u])},e._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},e._getContainerFitWidth=function(){for(var t=0,i=this.cols;--i&&0===this.colYs[i];)t++;return(this.cols-t)*this.columnWidth-this.gutter},e.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},o});
},{"outlayer":"k1dT","get-size":"SpQD"}],"U5Zw":[function(require,module,exports) {
var define;
var t;!function(o,e){"function"==typeof t&&t.amd?t(["../layout-mode","masonry-layout/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(o.Isotope.LayoutMode,o.Masonry)}(window,function(t,o){"use strict";var e=t.create("masonry"),i=e.prototype,s={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var r in o.prototype)s[r]||(i[r]=o.prototype[r]);var n=i.measureColumns;i.measureColumns=function(){this.items=this.isotope.filteredItems,n.call(this)};var u=i._getOption;return i._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:u.apply(this.isotope,arguments)},e});
},{"../layout-mode":"Nkzt","masonry-layout":"l7pb"}],"SiBL":[function(require,module,exports) {
var define;
var t;!function(e,i){"function"==typeof t&&t.amd?t(["../layout-mode"],i):"object"==typeof exports?module.exports=i(require("../layout-mode")):i(e.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var o={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,o},i._getContainerSize=function(){return{height:this.maxY}},e});
},{"../layout-mode":"Nkzt"}],"rlDn":[function(require,module,exports) {
var define;
var t;!function(e,o){"function"==typeof t&&t.amd?t(["../layout-mode"],o):"object"==typeof module&&module.exports?module.exports=o(require("../layout-mode")):o(e.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),o=e.prototype;return o._resetLayout=function(){this.y=0},o._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,o=this.y;return this.y+=t.size.outerHeight,{x:e,y:o}},o._getContainerSize=function(){return{height:this.y}},e});
},{"../layout-mode":"Nkzt"}],"bsRB":[function(require,module,exports) {
var define;
var t;!function(e,i){"function"==typeof t&&t.amd?t(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","./item","./layout-mode","./layout-modes/masonry","./layout-modes/fit-rows","./layout-modes/vertical"],function(t,r,o,s,n,a){return i(e,t,r,o,s,n,a)}):"object"==typeof module&&module.exports?module.exports=i(e,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):e.Isotope=i(e,e.Outlayer,e.getSize,e.matchesSelector,e.fizzyUIUtils,e.Isotope.Item,e.Isotope.LayoutMode)}(window,function(t,e,i,r,o,s,n){"use strict";var a=t.jQuery,u=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},h=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});h.Item=s,h.LayoutMode=n;var l=h.prototype;l._create=function(){for(var t in this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],n.modes)this._initLayoutMode(t)},l.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},l._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){t[i].id=this.itemGUID++}return this._updateItemsSortData(t),t},l._initLayoutMode=function(t){var e=n.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},l.layout=function(){this._isLayoutInited||!this._getOption("initLayout")?this._layout():this.arrange()},l._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},l.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},l._init=l.arrange,l._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},l._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},l._bindArrangeComplete=function(){var t,e,i,r=this;function o(){t&&e&&i&&r.dispatchEvent("arrangeComplete",null,[r.filteredItems])}this.once("layoutComplete",function(){t=!0,o()}),this.once("hideComplete",function(){e=!0,o()}),this.once("revealComplete",function(){i=!0,o()})},l._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],r=[],o=[],s=this._getFilterTest(e),n=0;n<t.length;n++){var a=t[n];if(!a.isIgnored){var u=s(a);u&&i.push(a),u&&a.isHidden?r.push(a):u||a.isHidden||o.push(a)}}return{matches:i,needReveal:r,needHide:o}},l._getFilterTest=function(t){return a&&this.options.isJQueryFiltering?function(e){return a(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return r(e.element,t)}},l.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},l._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=m(i)}},l._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&i<e;i++){t[i].updateSortData()}};var m=function(){return function(t){if("string"!=typeof t)return t;var e=u(t).split(" "),i=e[0],r=i.match(/^\[(.+)\]$/),o=function(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}(r&&r[1],i),s=h.sortDataParsers[e[1]];return t=s?function(t){return t&&s(o(t))}:function(t){return t&&o(t)}}}();h.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},l._sort=function(){if(this.options.sortBy){var t=o.makeArray(this.options.sortBy);this._getIsSameSortBy(t)||(this.sortHistory=t.concat(this.sortHistory));var e=function(t,e){return function(i,r){for(var o=0;o<t.length;o++){var s=t[o],n=i.sortData[s],a=r.sortData[s];if(n>a||n<a){var u=void 0!==e[s]?e[s]:e,h=u?1:-1;return(n>a?1:-1)*h}}return 0}}(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(e)}},l._getIsSameSortBy=function(t){for(var e=0;e<t.length;e++)if(t[e]!=this.sortHistory[e])return!1;return!0},l._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},l._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},l._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},l._manageStamp=function(t){this._mode()._manageStamp(t)},l._getContainerSize=function(){return this._mode()._getContainerSize()},l.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},l.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},l._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},l.insert=function(t){var e=this.addItems(t);if(e.length){var i,r,o=e.length;for(i=0;i<o;i++)r=e[i],this.element.appendChild(r.element);var s=this._filter(e).matches;for(i=0;i<o;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<o;i++)delete e[i].isLayoutInstant;this.reveal(s)}};var d=l.remove;return l.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);d.call(this,t);for(var i=e&&e.length,r=0;i&&r<i;r++){var s=e[r];o.removeFrom(this.filteredItems,s)}},l.shuffle=function(){for(var t=0;t<this.items.length;t++){this.items[t].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var r=t.apply(this,e);return this.options.transitionDuration=i,r},l.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},h});
},{"outlayer":"k1dT","get-size":"SpQD","desandro-matches-selector":"PZ9L","fizzy-ui-utils":"PmK6","./item":"Tr1i","./layout-mode":"Nkzt","./layout-modes/masonry":"U5Zw","./layout-modes/fit-rows":"SiBL","./layout-modes/vertical":"rlDn"}],"FkU0":[function(require,module,exports) {
var define;
var t;!function(e,o){"function"==typeof t&&t.amd?t(["isotope-layout/js/layout-mode"],o):"object"==typeof module&&module.exports?module.exports=o(require("isotope-layout/js/layout-mode")):o(e.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("horiz",{verticalAlignment:0}),o=e.prototype;return o._resetLayout=function(){this.x=0},o._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerHeight-t.size.outerHeight)*this.options.verticalAlignment,o=this.x;return this.x+=t.size.outerWidth,{x:o,y:e}},o._getContainerSize=function(){return{width:this.x}},o.needsResizeLayout=function(){return this.needsVerticalResizeLayout()},e});
},{"isotope-layout/js/layout-mode":"Nkzt"}],"bHi6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=o(require("isotope-layout"));require("isotope-horizontal");var t=o(require("../constants/directions")),r=o(require("../lib/proxy"));function o(e){return e&&e.__esModule?e:{default:e}}function a(o,a){var i=r.default.getNodeByInstanceId(a).getDataFromGlobal().globalInstanceData;return new e.default(o,{itemSelector:".storyly__story-group-container",layoutMode:"horiz",originLeft:i.direction===t.default.LTR,getSortData:{order:"[data-sortorder] parseInt"}})}
},{"isotope-layout":"bsRB","isotope-horizontal":"FkU0","../constants/directions":"w67G","../lib/proxy":"qmVm"}],"kohK":[function(require,module,exports) {
var global = arguments[3];
var define;
var e,t=arguments[3];(function(){"use strict";var r={function:!0,object:!0},i=r[typeof window]&&window||this,n=r[typeof exports]&&exports,a=r[typeof module]&&module&&!module.nodeType&&module,o=n&&a&&"object"==typeof t&&t;!o||o.global!==o&&o.window!==o&&o.self!==o||(i=o);var l=Math.pow(2,53)-1,s=/\bOpera/,b=Object.prototype,p=b.hasOwnProperty,c=b.toString;function u(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function d(e){return e=m(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:u(e)}function f(e,t){for(var r in e)p.call(e,r)&&t(e[r],r,e)}function S(e){return null==e?u(e):c.call(e).slice(8,-1)}function x(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function h(e,t){var r=null;return function(e,t){var r=-1,i=e?e.length:0;if("number"==typeof i&&i>-1&&i<=l)for(;++r<i;)t(e[r],r,e);else f(e,t)}(e,function(i,n){r=t(r,i,n,e)}),r}function m(e){return String(e).replace(/^ +| +$/g,"")}var g=function e(t){var r=i,n=t&&"object"==typeof t&&"String"!=S(t);n&&(r=t,t=null);var a=r.navigator||{},o=a.userAgent||"";t||(t=o);var l,b,p,u,g,O=n?!!a.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(c.toString()),y=n?"Object":"ScriptBridgingProxyObject",M=n?"Object":"Environment",E=n&&r.java?"JavaPackage":S(r.java),w=n?"Object":"RuntimeObject",v=/\bJava/.test(E)&&r.java,P=v&&S(r.environment)==M,C=v?"a":"α",B=v?"b":"β",W=r.document||{},k=r.operamini||r.opera,R=s.test(R=n&&k?k["[[Class]]"]:S(k))?R:k=null,A=t,I=[],F=null,T=t==o,G=T&&k&&"function"==typeof k.version&&k.version(),$=h([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],function(e,r){return e||RegExp("\\b"+(r.pattern||x(r))+"\\b","i").exec(t)&&(r.label||r)}),j=function(e){return h(e,function(e,r){return e||RegExp("\\b"+(r.pattern||x(r))+"\\b","i").exec(t)&&(r.label||r)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),X=V([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),K=function(e){return h(e,function(e,r,i){return e||(r[X]||r[/^[a-z]+(?: +[a-z]+\b)*/i.exec(X)]||RegExp("\\b"+x(i)+"(?:\\b|\\w*\\d)","i").exec(t))&&i})}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),N=function(e){return h(e,function(e,r){var i=r.pattern||x(r);return!e&&(e=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,r){var i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&r&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(i=i[/[\d.]+$/.exec(e)])&&(e="Windows "+i),e=String(e),t&&r&&(e=e.replace(RegExp(t,"i"),r)),e=d(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,i,r.label||r)),e})}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function V(e){return h(e,function(e,r){var i=r.pattern||x(r);return!e&&(e=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(r.label&&!RegExp(i,"i").test(r.label)?r.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),r=r.label||r,e=d(e[0].replace(RegExp(i,"i"),r).replace(RegExp("; *(?:"+r+"[_-])?","i")," ").replace(RegExp("("+r+")[-_.]?(\\w)","i"),"$1 $2"))),e})}function z(e){return h(e,function(e,r){return e||(RegExp(r+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})}if($&&($=[$]),/\bAndroid\b/.test(N)&&!X&&(l=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(X=m(l[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),K&&!X?X=V([K]):K&&X&&(X=X.replace(RegExp("^("+x(K)+")[-_.\\s]","i"),K+" ").replace(RegExp("^("+x(K)+")[-_.]?(\\w)","i"),K+" $2")),(l=/\bGoogle TV\b/.exec(X))&&(X=l[0]),/\bSimulator\b/i.test(t)&&(X=(X?X+" ":"")+"Simulator"),"Opera Mini"==j&&/\bOPiOS\b/.test(t)&&I.push("running in Turbo/Uncompressed mode"),"IE"==j&&/\blike iPhone OS\b/.test(t)?(K=(l=e(t.replace(/like iPhone OS/,""))).manufacturer,X=l.product):/^iP/.test(X)?(j||(j="Safari"),N="iOS"+((l=/ OS ([\d_]+)/i.exec(t))?" "+l[1].replace(/_/g,"."):"")):"Konqueror"==j&&/^Linux\b/i.test(N)?N="Kubuntu":K&&"Google"!=K&&(/Chrome/.test(j)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(X))||/\bAndroid\b/.test(N)&&/^Chrome/.test(j)&&/\bVersion\//i.test(t)?(j="Android Browser",N=/\bAndroid\b/.test(N)?N:"Android"):"Silk"==j?(/\bMobi/i.test(t)||(N="Android",I.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&I.unshift("accelerated")):"UC Browser"==j&&/\bUCWEB\b/.test(t)?I.push("speed mode"):"PaleMoon"==j&&(l=/\bFirefox\/([\d.]+)\b/.exec(t))?I.push("identifying as Firefox "+l[1]):"Firefox"==j&&(l=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(N||(N="Firefox OS"),X||(X=l[1])):!j||(l=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(j))?(j&&!X&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(l+"/")+8))&&(j=null),(l=X||K||N)&&(X||K||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(N))&&(j=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(N)?N:l)+" Browser")):"Electron"==j&&(l=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&I.push("Chromium "+l),G||(G=z(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",x(j),"(?:Firefox|Minefield|NetFront)"])),(l=("iCab"==$&&parseFloat(G)>3?"WebKit":/\bOpera\b/.test(j)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test($)&&"WebKit"||!$&&/\bMSIE\b/i.test(t)&&("Mac OS"==N?"Tasman":"Trident")||"WebKit"==$&&/\bPlayStation\b(?! Vita\b)/i.test(j)&&"NetFront")&&($=[l]),"IE"==j&&(l=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(j+=" Mobile",N="Windows Phone "+(/\+$/.test(l)?l:l+".x"),I.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(j="IE Mobile",N="Windows Phone 8.x",I.unshift("desktop mode"),G||(G=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=j&&"Trident"==$&&(l=/\brv:([\d.]+)/.exec(t))&&(j&&I.push("identifying as "+j+(G?" "+G:"")),j="IE",G=l[1]),T){if(u="global",g=null!=(p=r)?typeof p[u]:"number",/^(?:boolean|number|string|undefined)$/.test(g)||"object"==g&&!p[u])S(l=r.runtime)==y?(j="Adobe AIR",N=l.flash.system.Capabilities.os):S(l=r.phantom)==w?(j="PhantomJS",G=(l=l.version||null)&&l.major+"."+l.minor+"."+l.patch):"number"==typeof W.documentMode&&(l=/\bTrident\/(\d+)/i.exec(t))?(G=[G,W.documentMode],(l=+l[1]+4)!=G[1]&&(I.push("IE "+G[1]+" mode"),$&&($[1]=""),G[1]=l),G="IE"==j?String(G[1].toFixed(1)):G[0]):"number"==typeof W.documentMode&&/^(?:Chrome|Firefox)\b/.test(j)&&(I.push("masking as "+j+" "+G),j="IE",G="11.0",$=["Trident"],N="Windows");else if(v&&(A=(l=v.lang.System).getProperty("os.arch"),N=N||l.getProperty("os.name")+" "+l.getProperty("os.version")),P){try{G=r.require("ringo/engine").version.join("."),j="RingoJS"}catch(L){(l=r.system)&&l.global.system==r.system&&(j="Narwhal",N||(N=l[0].os||null))}j||(j="Rhino")}else"object"==typeof r.process&&!r.process.browser&&(l=r.process)&&("object"==typeof l.versions&&("string"==typeof l.versions.electron?(I.push("Node "+l.versions.node),j="Electron",G=l.versions.electron):"string"==typeof l.versions.nw&&(I.push("Chromium "+G,"Node "+l.versions.node),j="NW.js",G=l.versions.nw)),j||(j="Node.js",A=l.arch,N=l.platform,G=(G=/[\d.]+/.exec(l.version))?G[0]:null));N=N&&d(N)}if(G&&(l=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(G)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(T&&a.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(F=/b/i.test(l)?"beta":"alpha",G=G.replace(RegExp(l+"\\+?$"),"")+("beta"==F?B:C)+(/\d+\+?/.exec(l)||"")),"Fennec"==j||"Firefox"==j&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(N))j="Firefox Mobile";else if("Maxthon"==j&&G)G=G.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(X))"Xbox 360"==X&&(N=null),"Xbox 360"==X&&/\bIEMobile\b/.test(t)&&I.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(j)&&(!j||X||/Browser|Mobi/.test(j))||"Windows CE"!=N&&!/Mobi/i.test(t))if("IE"==j&&T)try{null===r.external&&I.unshift("platform preview")}catch(L){I.unshift("embedded")}else(/\bBlackBerry\b/.test(X)||/\bBB10\b/.test(t))&&(l=(RegExp(X.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||G)?(N=((l=[l,/BB10/.test(t)])[1]?(X=null,K="BlackBerry"):"Device Software")+" "+l[0],G=null):this!=f&&"Wii"!=X&&(T&&k||/Opera/.test(j)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==j&&/\bOS X (?:\d+\.){2,}/.test(N)||"IE"==j&&(N&&!/^Win/.test(N)&&G>5.5||/\bWindows XP\b/.test(N)&&G>8||8==G&&!/\bTrident\b/.test(t)))&&!s.test(l=e.call(f,t.replace(s,"")+";"))&&l.name&&(l="ing as "+l.name+((l=l.version)?" "+l:""),s.test(j)?(/\bIE\b/.test(l)&&"Mac OS"==N&&(N=null),l="identify"+l):(l="mask"+l,j=R?d(R.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(l)&&(N=null),T||(G=null)),$=["Presto"],I.push(l));else j+=" Mobile";(l=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(l=[parseFloat(l.replace(/\.(\d)$/,".0$1")),l],"Safari"==j&&"+"==l[1].slice(-1)?(j="WebKit Nightly",F="alpha",G=l[1].slice(0,-1)):G!=l[1]&&G!=(l[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(G=null),l[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==l[0]&&537.36==l[2]&&parseFloat(l[1])>=28&&"WebKit"==$&&($=["Blink"]),T&&(O||l[1])?($&&($[1]="like Chrome"),l=l[1]||((l=l[0])<530?1:l<532?2:l<532.05?3:l<533?4:l<534.03?5:l<534.07?6:l<534.1?7:l<534.13?8:l<534.16?9:l<534.24?10:l<534.3?11:l<535.01?12:l<535.02?"13+":l<535.07?15:l<535.11?16:l<535.19?17:l<536.05?18:l<536.1?19:l<537.01?20:l<537.11?"21+":l<537.13?23:l<537.18?24:l<537.24?25:l<537.36?26:"Blink"!=$?"27":"28")):($&&($[1]="like Safari"),l=(l=l[0])<400?1:l<500?2:l<526?3:l<533?4:l<534?"4+":l<535?5:l<537?6:l<538?7:l<601?8:l<602?9:l<604?10:l<606?11:l<608?12:"12"),$&&($[1]+=" "+(l+="number"==typeof l?".x":/[.+]/.test(l)?"":"+")),"Safari"==j&&(!G||parseInt(G)>45)?G=l:"Chrome"==j&&/\bHeadlessChrome/i.test(t)&&I.unshift("headless")),"Opera"==j&&(l=/\bzbov|zvav$/.exec(N))?(j+=" ",I.unshift("desktop mode"),"zvav"==l?(j+="Mini",G=null):j+="Mobile",N=N.replace(RegExp(" *"+l+"$"),"")):"Safari"==j&&/\bChrome\b/.exec($&&$[1])?(I.unshift("desktop mode"),j="Chrome Mobile",G=null,/\bOS X\b/.test(N)?(K="Apple",N="iOS 4.3+"):N=null):/\bSRWare Iron\b/.test(j)&&!G&&(G=z("Chrome")),G&&0==G.indexOf(l=/[\d.]+$/.exec(N))&&t.indexOf("/"+l+"-")>-1&&(N=m(N.replace(l,""))),N&&-1!=N.indexOf(j)&&!RegExp(j+" OS").test(N)&&(N=N.replace(RegExp(" *"+x(j)+" *"),"")),$&&!/\b(?:Avant|Nook)\b/.test(j)&&(/Browser|Lunascape|Maxthon/.test(j)||"Safari"!=j&&/^iOS/.test(N)&&/\bSafari\b/.test($[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(j)&&$[1])&&(l=$[$.length-1])&&I.push(l),I.length&&(I=["("+I.join("; ")+")"]),K&&X&&X.indexOf(K)<0&&I.push("on "+K),X&&I.push((/^on /.test(I[I.length-1])?"":"on ")+X),N&&(l=/ ([\d.+]+)$/.exec(N),b=l&&"/"==N.charAt(N.length-l[0].length-1),N={architecture:32,family:l&&!b?N.replace(l[0],""):N,version:l?l[1]:null,toString:function(){var e=this.version;return this.family+(e&&!b?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(l=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(A))&&!/\bi686\b/i.test(A)?(N&&(N.architecture=64,N.family=N.family.replace(RegExp(" *"+l),"")),j&&(/\bWOW64\b/i.test(t)||T&&/\w(?:86|32)$/.test(a.cpuClass||a.platform)&&!/\bWin64; x64\b/i.test(t))&&I.unshift("32-bit")):N&&/^OS X/.test(N.family)&&"Chrome"==j&&parseFloat(G)>=39&&(N.architecture=64),t||(t=null);var H={};return H.description=t,H.layout=$&&$[0],H.manufacturer=K,H.name=j,H.prerelease=F,H.product=X,H.ua=t,H.version=j&&G,H.os=N||{architecture:null,family:null,version:null,toString:function(){return"null"}},H.parse=e,H.toString=function(){return this.description||""},H.version&&I.unshift(G),H.name&&I.unshift(j),N&&j&&(N!=String(N).split(" ")[0]||N!=j.split(" ")[0]&&!X)&&I.push(X?"("+N+")":"on "+N),I.length&&(H.description=I.join(" ")),H}();"function"==typeof e&&"object"==typeof e.amd&&e.amd?(i.platform=g,e(function(){return g})):n&&a?f(g,function(e,t){n[t]=e}):i.platform=g}).call(this);
},{}],"PYdG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=o;var e=r(require("platform"));function r(e){return e&&e.__esModule?e:{default:e}}function o(){var r=(e.default.name||"").toLocaleLowerCase().replace(" ","_").replace("_mobile",""),o=e.default.os;return{os:{name:(o.family||"").toLocaleLowerCase().replace(" ","_"),version:o.version},browser:{name:r,version:e.default.version}}}
},{"platform":"kohK"}],"irwm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.xIcon=exports.userPropImage=exports.twitterLogo=exports.trashIcon=exports.shoppingBagIcon=exports.sendIcon=exports.loadingIcon=exports.facebookLogo=exports.embedRePlayIcon=exports.embedPlayIcon=exports.copyLinkIcon=exports.copyIcon=exports.chevronRight=exports.chevronLeft=exports.checkIconGradient=exports.checkIcon=exports.arrowRight=exports.accessibilityIcon=void 0;var n=function(n){return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M15 18L9 12L15 6" stroke="'.concat(n,'" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n')};exports.chevronLeft=n;var e=function(n){return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M9 18L15 12L9 6" stroke="'.concat(n,'" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n')};exports.chevronRight=e;var t=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#000";return'\n  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M2.66669 8H13.3334" stroke="'.concat(n,'" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n    <path d="M9.33331 4L13.3333 8L9.33331 12" stroke="').concat(n,'" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>')};exports.arrowRight=t;var o=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#7A4BFF",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#00E0E4";return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M3 4C3 3.44772 3.44772 3 4 3H13C13.5523 3 14 3.44772 14 4V5C14 5.55228 14.4477 6 15 6C15.5523 6 16 5.55228 16 5V4C16 2.34315 14.6569 1 13 1H4C2.34315 1 1 2.34315 1 4V13C1 14.6569 2.34315 16 4 16H5C5.55228 16 6 15.5523 6 15C6 14.4477 5.55228 14 5 14H4C3.44772 14 3 13.5523 3 13V4ZM11 8C9.34315 8 8 9.34315 8 11V20C8 21.6569 9.34315 23 11 23H20C21.6569 23 23 21.6569 23 20V11C23 9.34315 21.6569 8 20 8H11ZM10 11C10 10.4477 10.4477 10 11 10H20C20.5523 10 21 10.4477 21 11V20C21 20.5523 20.5523 21 20 21H11C10.4477 21 10 20.5523 10 20V11Z" fill="url(#paint0_linear_336_5910_'.concat(n,')"/>\n<defs>\n<linearGradient id="paint0_linear_336_5910_').concat(n,'" x1="23" y1="12" x2="1" y2="12" gradientUnits="userSpaceOnUse">\n<stop stop-color="').concat(e,'"/>\n<stop offset="1" stop-color="').concat(t,'"/>\n</linearGradient>\n</defs>\n</svg>')};exports.copyIcon=o;var i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAC8CAYAAADGvBSWAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAhGVYSWZNTQAqAAAACAAFARIAAwAAAAEAAQAAARoABQAAAAEAAABKARsABQAAAAEAAABSASgAAwAAAAEAAgAAh2kABAAAAAEAAABaAAAAAAAAANgAAAABAAAA2AAAAAEAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAvqADAAQAAAABAAAAvAAAAAAZsGcGAAAACXBIWXMAACE4AAAhOAFFljFgAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgoZXuEHAAAXbUlEQVR4Ae2dfewlVXnH77qyK7LrLi+uWDDLosHi8qJdQNIWWUxJq13EqhArICW6qbFN7B82GpMaxLZpoklt2iataNoCahW1xaWFxsbdlTZBgbaw5UWqLBsFfFlell0WF1m338/9zfnt3Htn5s7MnTnnzNznSZ7fzD1z5pzn+Z7vPHPmzJzzWzIwmRmBQ4cOrVEhb5CeLT1V+grpKukK6ZHSZdKl0iWJajPcZ3uIPxK26EHpc9Jnpfuke6Tfl94vvUP6zSVLlvxYW5MZEKAhTEoiIIIfo6yXSC+Qni49QbpS+gKpT/m5KtsrfUS6Q7pVeqMuiCe0NSmBgBG/ACQRfYMOXyXdKF0nfbE0Ztkv43ZKt0n/ThfCXdqaZCBgxE+BIqKv1s8PSN8ufbWULkqXhS7Td6Rfkf6FLoSnuuxMk7bPPfFFdvrj10g3SY+V9hUTnh8el94s/aguAp4b5lb62siFDZr01T+pTBdJ+0z2PBzcRbBFGT44j88Gc0V8Ef531NAfkb5KOle+y9884SL4rvRPdQH8fV6mvqX3vvFF9pVqtGulF0tf1LcGbNifn6q8m6SbdRHsbbjsqIrrLfFFeMbTPyM9V+p7uDGqRq5hDMOlt0vfqwuA9we9k94RX4TnJdL10lOkvfPPMwPpBj0ovUIXAC/PeiO9IYYI/zq1yg1SIn1v/IqEaVwARP7LdQH8dyQ2zWRG5wkiwjMc+TXpmdLO+zNTa7Z/MhfA3dK36ALo9HBoZ/u+IvwR0hvVCA9LXys10guElgWMwfphsKcNWq6vteI7SXwB/iEhwqjDO6Sd9KG1FvVTMJiD/d6kLfzU2mAtnYqSAvmV8v3r0nUNYmBFzY7AThVxobo/35u9KD8ldCZaivSfFiSMMBjp/XCjSi20yYNJG1U5L1je6CO+wGSUZpuUb95N4keAuQIbFf2jHv+POuKL9NcIxB1SI338hHcW0lY7krZzadFto4z4Ao3PDL4lJdqbdBcBov7rFf2j+/whuogv0p8nsH4kNdJ3l/DOctrwR0mburQotlERXwBdLVS2SY+UmvQDAdpyW9K20XgUTVdHwGwTKudHg4wZ0gYC29Xt2dhGwVXLDE58Ef4oGX2vdG1V4y1/JxHYJavX6wJ4JqT1Qbs6Ij0vpB6VGulDssBv3bT1o0nb+605VVsw4stxHmLvk74kZY/tzgcCtPl9CQeCeByE+HL4zfJ2q3RZEK+t0hgQoO23Jlzwbo934svRy+TlFulS795ahbEhAAe2JJzwaptX4svBzfLuOqnXer0iapVVRQAuXJdwo+q5tfN7G9WRY5fLyn+QGulrN1evT2Se75Ua7WEWXevihfgi/dvkCZNGjPStN2mnK4D8l4j8X23bi9aJL9L/hpxg9S7r07fdmv0o/6Dc2CTy39qmO60SX6RfL+P/R/rCNp2wsnuHwPPy6LUiPy82W5HWiC/SHyeLd0ljX2G4FWCt0JkR2K8S1or8u2cuKaOAVogv0jMJ+QdS+44+A3RLKo0Ak1pOFPl/VvqMkhnbeti8U/Ub6Us2gmXLRQAOwaXGpXHiK9r/raw8o3FLrcB5ReCMhFON+t9oV0cG/ras+5y00XIb9dgK6yICh2T0ZeryfKEp4xsjqEi/TkaxCoKN4DTVOlZOGgFGek4R+XemE+vuN0n8x2TE8XUNsfMMgRII/FDEf3mJfFOzNNLHV7T/R9VkpJ8Kt2WYEYHjxbVGujszR3wZsknOsGjrzGXNCIqdPh8I0N9n0Vq+BqgtM5FVpF+ump+U2uTw2k1gJ9ZA4Fmdc7TIf6DGucNTZu3q3KJSjPR10bfz6iIA5+BebalNfEV7ZlFtrF2znWgIzIbAxoSDtUqp1dVRhVww/LNgVjwzMQRCIcAKbavV5eFz5kpSN+LzZG2krwS1ZW4BAThYa5SncsRXtF+ryh6S1r1oWvDfipxjBIj2Jyvq76qCQR3yMoxU57wqdlleQ6AsAnCx8tBmJQIr2r9VlZxW1iLLZwh4QuC0hJulq6vU1VHhu1XysaVLt4yGgD8Edqu789Ky1ZWO+CL9+1Wokb4sspbPNwLHJRwtVW/piK9CGb5cVapUy2QIhEFgj6L+6jJVl4r4Iv2HVJiRvgyilickAqsSrk61oVTEV2FPqyQbt58Kp2WIAIG9ivpTFyKeGvFF+t810kfQnGZCWQRWJpwtzD814quQx1SCfWtfCKMdjAyBqRNWCiO+SH+hkT6yJjVzyiDAhBW4myuFEV8n36czT8092w4YAvEicL/6+q/JMy+X+CI9K6GxoE9unrxCLd0QiAABZmqtEfl56TohRV2dP1duI/0EZJbQEQTgLhzOlFxiK+LzrfOKzLMs0RDoBgL7FPEzh+EzI75I/w75ZaTvRuOalfkIrEi4PJEjM+Ir853KuWEityUYAt1D4C5F/bPGzc4jPqvT2opo42jZ7y4i8LyIz+rdIzLR1VG036wcRvoRmOxHhxF4YcLpERcmIr4y3aMcp4/k8vzjgFZN+c63B4PdjwwGe5/IrvyCd+k/Qx+Tfayp1Ee+u2AH2zw7mqqr6XKOO2EwQE9SS54ctDWb9qxWeTsU9UdW8M6K7MFeWEH4//ynweABkT6kQPJvfH4wgPBdFYIGCpYrFSDe+vsL2676M6PdE5weIb6i/SZVMJI2Y4WlT4ds//xX4SPr4yILdnAR9kXA9kufGAwuFvm5CzQtru3Gy+WOvFxLP/3CqwaDdbrrcAEGEro7/EO5m1394yT/PXfA59YBxzakODv6RHqHJz7dpAv60j9sh4BZbefSHtoxGPyH7uS/eM5gcLb+B2agCwBuLxJ//OH2XAeUz+0dt4aP9Pjbt0g/3oaQny5cKKHbFfCuPsLtReLrVsCNaJVvUGiM0H16fN6pqOQilG8MfNbHc0vIZ5eAd1VmZy12ttJdnfeoASZGedpulEenPEByW6R/ON43pe/YpED8POH2fMb5C/3VvDwxpRNMGBWje5ElHDtB/e5QAvkZxHijRuY8CtyG43raGX2QvYgE38LIQ55AevqkTZM8q76f5Njxq7+1QPqsc2JNAy8uVC4AupHjEjLiO1sINNjno21dndrC8Qnin5bKEMUukd4XMIzmZMmr9UDWVYH8WcRvuku3TBfaePR+TqS+e3t+9xHSc7enjT3KelfXsKujvg99/VLLMrgTfWx9kb7IlxhsKLKv6Jgv26mHEZtxIWgwjJp3oeWlj5fT4O+j4bqGNX/uHm4Zv/fev2/QISsqQgS4IIoiOlHfs8BxuL64+OubPBtg1c0JAr7uOhXgHHLdjeqcVeFEy5qBACMlDMvysO4e2hiJ4naf1Q3IKMKS/CAw5Loj/jo/dfavFvqpt3x2gfBp7yC/GzPnAXPOv5VJQxN6/yQMcH187y+uQnvfRP2QnjeRRUOy1OPyBXiYa8LNvpUxHMR5gZ5yj5JnLvL3zclW/any+t3dGVo1yAovgwAfrB1FxD+vTG7LM4oAffqqEdx9Jjxakv0KgMB5EH/k450ARnSyyrrfF3HBmARH4FyI7/fdWXCfmzEgr1/Pdz3v/9TC57dZNeWdl5XX0lpD4HSIv7a14ntccN7LF4iPuO3Cr8N/8847nMP2PCCwFuJH96mCB8dnriLvxYz7NsZtxyvKO288n/1uFYHVjOasbLWKnhbOy6msrxwhfB7pgWL88+qy8FDmPfroC+GF2K/oq1GT2gisJOLriwqTqgjUfRtb52tPZk1BfLpJKF89hpxJVRWrCPMfCfGXhzSsq31eCFw1ejO/oOoFA8GzRpBIM/LXZu5yiL+09ukNnJj3HTxFB5qUXNqrN2k+T1kbycdnC1Ukj/SuDCO/Q6LydinE51PNIEKfNauf7IypGlHdeb62jszTyI8fVb/VmUZ652OXyR/wbr+Eh1vvxMdhSF/0EAiZYic+5MPOKz66MMcVEjJOj3+M3mB/na8zy5I+TX72x2dBueMht0Wr3RXd7Vu2eUj8lus4XDzRnUnGvOqfdrXnjYMfLi2uPQhe58F13IuqpHfnc9EhsZH/WF38eQIfsLvqc09eeVXSvXZ19onwLiLmGUmkZIJ3CDDybPKVPo30YFKES4zdHu56RXdufObOX/W7pxnbxG/EzzPWdQtYaq5Ly3jk+VMnvQzp09HcRfjxulx6Ou94Ht+/eefAKm55AvFRLhDu9EXTFfPKqJpOH/+Q1Hs/P20oZO9a1yZt/6z7VUnvSO1IPl6/S3f5xo/7/s0aPoyAsc5PUWSf1hto0O5DED+40FA86LCkNSBNGyUJbnCDBlQlvavakdqR3KW7bV66O+57SxQnorOkCGvqsI5R0UXQtn1RRHwAQFlcFNJza5yHNd3rkt6Romvkp23dIIDr3jhfPG+H6+nQ1fEiLDxU9KCDEVwAt2oOa9H4vhdjW65kVtI78yB/0QOvyxfDlpE8CE9/3313FMiuYVfnoCr38vaW2x0KubkVA0KeMOzJ8oF9lKZI77CZFvldvpBb995m2jC2JxsPMpx5wFNli9Vwy+Nh1jXY4oHUDg86aN+kadI7fGKO/Mw648G2iPRuZK/ohZfztYHtAfr4+6UrGyischHcogElr1sD8ad1jSpXGvCEtkjvXHKBJLYH228X3NmxnSDoeRh7PxF/nwMuxLbozR5dor5I26R3OMUW+QleRe3Iy0qIT8T3KPsg/lMeK5yoyrPDE/X7SPBFeudLTOQv+h6HoWsifQB5CuLvClDx3FTpm/QO2FjI/3TBXbvobu/8aGm7C+IX/C+Qlqqdk2JDkd7B6/r87nds24B3+x0Q//bYAOmDPaFJ3wcMW/Thdoh/W4sVzGXRRvrom/02/jvEMzLz+ehN7YiBRvroG+p5OE/ER4KO7CyY0P2/RvpOtOGQ6474D3fC5IiNNNJH3Dijpj3MT0f8O0eP2a8qCBjpq6AVPO+Q6474twQ3p6MGGOk713BDrjvi3yzzvX2e3Dmocgw20ucAE28yHIfrC10d/u+n9p8kwaQcAkb6cjhFluvJhOuLfXzsuzcyI6M1x0gfbdNMM2yR466rwwlbpp01j8fHvyHvEunHbZ/H9hvzeZHjaeJrwl9c/XyfDZc3wT09Ra5LpKfB8/7tUJ/mOIwRu+gn/Xs4PpRF4qvvw3d0e5J0b5uiD5WYje+L/HwimyVMj4T8XSI9mGE3s56yZE6Jvyfh+BASZmClhQ/WNC3An+RFWixgAsOXPjEYnKlvtpmonhbm7hZdNOm8ZfaZ/Z83cymPQOlyOTfv/HS+GPbBzpf4Clwl/Bn5GHOc+H+tArwSn9XTIHAeQJA/i3iXa6HWJolPxEfzpkGWALYTWQg0vohPm3LXjkTg9qKMEF+3gpv1z2/5YG0kfTF3CzuQl4aIIVry/Tp3mLyLsAX3vRYJ1lXX6C9jYBbBmXII6YumHXrscvFh2nD83vmTRfD7ddDjzXBhASkibRFIzuA2t0TDi/XPG1j3pW/kd6Qv6lrWxfY5RXaegaoKd3tPAqdHZPHhNpX6l6l9L7ttNkpVB4hCrOfTBkGq2tJUfrpw+BRwqt+EK6ywQbt7kglOZy4Wq+7Oz2RQ1t2gVTuJ+IxGlOn20Mdvew0WbtUot220S8KFC+F5aGfbptBu119TvgZsq/ofYsqXPpGTbs4R46l55L5bGTeMZ277N4DQz2a5CQjHAqN0OYomLLdpE88evh4E2/QjprI9kx7X4fKE5BH/z5TzxoncnhIAh2UnAi094cnL+auG7g0LAnvs4gAyXJ6QzK4OudTd2avNiokzLMEQGEOArk7ewy1BjOcmulyeCY+V+9TNWTlm7vBnEfGvV47Ls06yNEOgIwjcIOJfkWVrEfGP0wk/lubmySrQ0gyBSBDg25w1Iv7uLHuyhjOH+ZITHsg6ydIMgQ4g8EAe6bE9l/iJYx/ogINmoiGQhUAhd6d2Y/SQ+5hKPT6rZEszBCJF4IeK9i8vsm1axOfcq4sKsGOGQIQIXD3NpqkRnwIU9Z/WJnNYaFoFdtwQ8IzAXkX7l0yrs0zEp4w/mVaQHTcEIkGgFFdLRXwcUtRn6bVVkThnZhgCWQgwy2p11oHxtLIRn/M+Mn6y/TYEIkOgNEdLR3wcVNT/iTa82DIxBGJDYLei/UvLGlUl4lPm5rIFWz5DwDMClbhZKeLjiKK+PhgenObZKavOEChC4H8V7SvNGqxD/LWy4CFp1btFkeF2zBCoiwDLX54s4u+qUkBl8iYVfLlKJZbXEGgRgS9XJT22VI74nKTuDhcMw5v2UgtATEIhwJyR1SI+Ub+SVI74lJ5U9E7t8umniSEQAgG49846pMfYWhHfeanI/w3tX+B+29YQ8IjAVpH+jXXrm5X4y1Xxk1J/C0XU9dTO6xMCWoJgcLSIf6CuU7W6Oq6ypOJL9du6PA4U27aNAFy7dBbSY+BMxKcAGcDSbF9k38QQ8IDAFxPOzVTVTF2ddM3q79uElTQgtt8GAlMnmJStdOaIn6rol7XPgrMmhkAbCMAtONaINEZ83X52yqJ3S62/30jTWCEpBODUuxOOpZLr7zZGfEyQYV/Q5jP1zbEzDYFMBK5NuJV5sE5iY338dOXq77Ne4RnpNNs3BGoicI9If2bNc3NPa4v4R6jGH0jX5NZsBwyB6QiwoNmJIj6rdzcqjXZ1nGWJoev1e79Ls60hUBEBuLO+DdJjRyvEp2AZzNJt50htpAdATKogAGfOSThU5bzSeVsjPhbI8Hu1uUh6kN8mhkAJBODKpoQ7JbLXy9Iq8TFJDuh/nAwulVb+dJTzTeYKATjC5wj/1rbXrRMfB+TIV7W5UmrkBxCTLATgxpUJV7KON5rmhfhYLIdu0OZ9UiM/gJikEYAT70s4kk5vbb+V4cwiazXGf5mOXyf1dtEV2WPHgiMA6Xkr+zmflngnPs6J/G/W5mvSpfw2mVsEeJB9i0j/r74RCEJ8nBT5z9Pm36XL+G0ydwg8J49/TaS/LYTnwYiPsyL/K7X5L+nU1W3Jb9IbBFh9+5dE+u+F8igo8XFa5D9KG8b71/LbpPcI7JKHvJF9JqSnwR8wAUB6kkDYHhIIq9sLAttpa9rcS20FlQQnvrNNYGzU/sekNtzpQOnPljb9WNLGUXi1JAorUkYkD728ubOVG1K4dHiXFRF+XaQP8hCbh1t0xMdQkZ8V2r4lPZXfJp1F4H5Z/nqRnhXPopJoujppVABK+hql/bGUsV6TbiFAm32cNoyR9EAZZcRPt7GiP1F/m3RNOt32o0WAySMbRXiifbQSZcRPowWA0pcp7VqpPfimwYlrn7ZhbuzLYic9sEUf8dNtq+jPC6+vS9el020/OAI7ZcGFInywF1JVEYg+4qcdAljpyUr7sLT2uonpMm1/JgRogw/TJl0iPR53KuKnm0jRnwntn5e+TdqpCzjtR0f36dYwx+JdInzjE8F9YNJZ4jtwdAG8Qvt86ckSFJ33x/kV6ZaFnVg6hi8qvx+pjaXM6nykpAGkr5O3G6SMJNA4Js0iAKZguwGsu056oOldhNQd4Gz5db30lD76J598CoR/UHqFyH6Hz4rbrqt3xHeA6QJg/J/lDM+Vdv7O5vzytKUPf7v0vSJ81OPxdfHoLfEdILoAVmv/b6QXS1/k0m2bicBPlXqTdLMIH91nBpkW10zsfSRUAz4l5Z+EHSmMrpL+n9SeAw4TBizA5CowSrDqNelxvfcRHyfHRXeBY5T2SSmLXR0rnTccIPvj0i3SD4rsT2g7VzJvDT7RuLoIGA79uPQ3pX2+CBzZ/0V+/pHI3unhSPkwk8w98dPoJc8Df6C0t0sZFVqWPt7BfSZ0MyrzFemnRHb+KbeJEDDiF9BAF8IGHX6P9A3SddIXS2OW/TJup/Sb0s+K6HfFbGxI24z4FdBPng0u0SkXSE+XnihdIfU9SMBw4z4p/4Ngh3Sr9MZ57KvL71pixK8F2+hJuiCYK3C+9Cwp7w94blgl5aJgNIku01IpeDvM3Za+N8IWPSili/KsFHLvkdIfZzz9Tul2EZxv3k1mQOD/ASx89TeqJHWDAAAAAElFTkSuQmCC";exports.userPropImage=i;var r=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFF";return'<svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M0.602285 0.598969C0.41242 0.606084 0.236084 0.698994 0.122945 0.851749C0.00994551 1.00436 -0.0275779 1.20023 0.0212453 1.3838L2.10363 9.18887L11.299 10.5963L2.10506 12.0025L0.0214237 19.8097C-0.0205676 19.9658 -0.000338941 20.1323 0.0777825 20.2737C0.156044 20.4153 0.285921 20.5212 0.440483 20.5689C0.594913 20.6166 0.7619 20.6027 0.906288 20.5298L19.6556 11.1552C19.7944 11.0854 19.9021 10.9667 19.958 10.8218C20.014 10.677 20.014 10.5165 19.958 10.3717C19.9021 10.2269 19.7944 10.1081 19.6556 10.0383L0.906288 0.663649C0.812123 0.616775 0.707495 0.594594 0.602449 0.598919L0.602285 0.598969Z" fill="'.concat(n,'"/>\n</svg>\n')};exports.sendIcon=r;var A=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFF";return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M13 2C13 1.44772 12.5523 1 12 1C11.4477 1 11 1.44772 11 2V6C11 6.55228 11.4477 7 12 7C12.5523 7 13 6.55228 13 6V2ZM13 18C13 17.4477 12.5523 17 12 17C11.4477 17 11 17.4477 11 18V22C11 22.5523 11.4477 23 12 23C12.5523 23 13 22.5523 13 22V18ZM4.22282 4.22295C4.61335 3.83242 5.24651 3.83242 5.63704 4.22295L8.46704 7.05295C8.85756 7.44347 8.85756 8.07664 8.46704 8.46716C8.07651 8.85768 7.44335 8.85768 7.05282 8.46716L4.22282 5.63716C3.8323 5.24664 3.8323 4.61347 4.22282 4.22295ZM16.9471 15.5329C16.5566 15.1424 15.9234 15.1424 15.5329 15.5329C15.1424 15.9234 15.1424 16.5566 15.5329 16.9471L18.3629 19.7771C18.7534 20.1676 19.3866 20.1676 19.7771 19.7771C20.1676 19.3866 20.1676 18.7534 19.7771 18.3629L16.9471 15.5329ZM1 12C1 11.4477 1.44772 11 2 11H6C6.55228 11 7 11.4477 7 12C7 12.5523 6.55228 13 6 13H2C1.44772 13 1 12.5523 1 12ZM18 11C17.4477 11 17 11.4477 17 12C17 12.5523 17.4477 13 18 13H22C22.5523 13 23 12.5523 23 12C23 11.4477 22.5523 11 22 11H18ZM8.46704 15.5329C8.85756 15.9234 8.85756 16.5566 8.46704 16.9471L5.63704 19.7771C5.24651 20.1676 4.61335 20.1676 4.22282 19.7771C3.8323 19.3866 3.8323 18.7534 4.22282 18.3629L7.05282 15.5329C7.44335 15.1424 8.07651 15.1424 8.46704 15.5329ZM19.7771 5.63716C20.1676 5.24664 20.1676 4.61347 19.7771 4.22295C19.3866 3.83242 18.7534 3.83242 18.3629 4.22295L15.5329 7.05295C15.1424 7.44347 15.1424 8.07664 15.5329 8.46716C15.9234 8.85768 16.5566 8.85768 16.9471 8.46716L19.7771 5.63716Z" fill="'.concat(n,'"/>\n</svg>\n')};exports.loadingIcon=A;var l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFF";return'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M20 7L9 18L4 13" stroke="'.concat(n,'" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>')};exports.checkIcon=l;var C=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFF";return'\n<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M14.194 3.80598C14.625 4.2369 14.625 4.93557 14.194 5.36649L5.36646 14.1941C4.93554 14.625 4.23687 14.625 3.80595 14.1941C3.37503 13.7632 3.37503 13.0645 3.80595 12.6336L12.6335 3.80598C13.0645 3.37506 13.7631 3.37506 14.194 3.80598Z" fill="'.concat(n,'"/>\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M3.80595 3.80598C4.23687 3.37506 4.93554 3.37506 5.36646 3.80598L14.194 12.6336C14.625 13.0645 14.625 13.7632 14.194 14.1941C13.7631 14.625 13.0645 14.625 12.6335 14.1941L3.80595 5.36649C3.37503 4.93557 3.37503 4.2369 3.80595 3.80598Z" fill="').concat(n,'"/>\n</svg>')};exports.xIcon=C;var d='<svg width="25" height="24" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M20.1702 7L9.17023 18L4.17023 13" stroke="url(#paint0_linear_101_13400)" stroke-width="1.70213" stroke-linecap="round" stroke-linejoin="round"/>\n<defs>\n<linearGradient id="paint0_linear_101_13400" x1="20.1702" y1="12.5" x2="4.17023" y2="12.5" gradientUnits="userSpaceOnUse">\n<stop stop-color="#7A4BFF"/>\n<stop offset="1" stop-color="#00E0E4"/>\n</linearGradient>\n</defs>\n</svg>\n';exports.checkIconGradient=d;var s='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <rect width="24" height="24" rx="12" fill="white"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M10.1831 11.3257C9.96822 13.792 9.40247 16.1845 8.5206 18.5101C8.30534 19.078 8.59157 19.7137 9.15938 19.9289C9.72731 20.1442 10.3629 19.8579 10.5782 19.2901C11.2023 17.6438 11.6796 15.9665 11.9999 14.2566C12.3203 15.9667 12.7973 17.644 13.4216 19.2901C13.6369 19.8581 14.2725 20.1442 14.8404 19.9289C15.4084 19.7137 15.6945 19.078 15.4792 18.5101C14.5981 16.1856 14.0323 13.7947 13.8172 11.3302C15.1351 11.2655 16.4538 11.1273 17.7724 10.9131C18.3718 10.8157 18.7794 10.25 18.682 9.65063C18.5846 9.05117 18.0188 8.64354 17.4195 8.74095C13.8045 9.32848 10.1891 9.30533 6.57408 8.73999C5.9742 8.64613 5.41079 9.05705 5.31707 9.65693C5.22321 10.2571 5.63413 10.8202 6.23401 10.9141C7.55034 11.1199 8.86642 11.2579 10.183 11.3254L10.1831 11.3257Z" fill="black"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M13.9861 6.27208C13.9861 7.36879 13.0969 8.25789 12.0001 8.25789C10.9033 8.25789 10.0142 7.36876 10.0142 6.27208C10.0142 5.17523 10.9033 4.28613 12.0001 4.28613C13.0969 4.28613 13.9861 5.17526 13.9861 6.27208Z" fill="black"/>\n  </svg>';exports.accessibilityIcon=s;var v='\n<svg width="86" height="86" viewBox="0 0 86 86" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="43" cy="43" r="41.5" fill="white" fill-opacity="0.3" stroke="white" stroke-width="3"/>\n<path d="M34.6241 26.3185C33.2917 25.4937 31.5714 26.452 31.5714 28.019V57.9813C31.5714 59.5483 33.2917 60.5066 34.6241 59.6818L58.8244 44.7007C60.0875 43.9188 60.0875 42.0815 58.8244 41.2996L34.6241 26.3185Z" fill="white"/>\n</svg>\n';exports.embedPlayIcon=v;var p='\n<svg width="86" height="86" viewBox="0 0 86 86" fill="none" xmlns="http://www.w3.org/2000/svg">\n<circle cx="43" cy="43" r="41.5" fill="white" fill-opacity="0.3" stroke="white" stroke-width="3"/>\n<path d="M28.5477 46.4528L28.5464 46.4385L28.5442 46.4244C28.463 45.8964 28.2442 45.4375 27.8786 45.0718C27.5016 44.6949 27.0329 44.5004 26.5 44.5004C25.9368 44.5004 25.4445 44.7016 25.0615 45.1071C24.684 45.5068 24.5065 45.9951 24.5516 46.5407C24.9283 51.3314 26.8761 55.3648 30.3851 58.6171C33.8966 61.8716 38.1105 63.5004 43 63.5004C45.5639 63.5004 47.9728 63.0214 50.2215 62.0601C52.4618 61.1025 54.4239 59.7836 56.1036 58.1039C57.7832 56.4243 59.1021 54.4622 60.0598 52.2219C61.021 49.9732 61.5 47.5643 61.5 45.0004C61.5 42.4365 61.021 40.0276 60.0598 37.7789C59.1021 35.5386 57.7832 33.5765 56.1036 31.8968C54.4239 30.2171 52.4618 28.8983 50.2215 27.9406C47.9895 26.9865 45.5997 26.5075 43.057 26.5005L45.1036 24.4539C45.4701 24.0874 45.65 23.6241 45.65 23.1004C45.65 22.5775 45.4714 22.1094 45.1237 21.7182L45.1042 21.6962L45.0822 21.6767C44.691 21.329 44.2229 21.1504 43.7 21.1504C43.1763 21.1504 42.713 21.3303 42.3464 21.6968L37.0464 26.9968C36.8462 27.1971 36.6841 27.4188 36.5858 27.6647C36.4929 27.8968 36.45 28.144 36.45 28.4004C36.45 28.6567 36.4929 28.904 36.5858 29.1361C36.6841 29.382 36.8462 29.6037 37.0464 29.8039L42.2964 35.0539C42.6839 35.4414 43.1587 35.6504 43.7 35.6504C44.2413 35.6504 44.7161 35.4414 45.1036 35.0539C45.491 34.6665 45.7 34.1917 45.7 33.6504C45.7 33.1091 45.491 32.6343 45.1036 32.2468L43.3574 30.5007C47.3451 30.5255 50.6791 31.9317 53.3914 34.7238C56.1316 37.5446 57.5 40.9602 57.5 45.0004C57.5 49.036 56.0933 52.45 53.2714 55.2718C50.4496 58.0937 47.0356 59.5004 43 59.5004C39.1877 59.5004 35.9255 58.2529 33.1869 55.7559C30.4457 53.2566 28.9026 50.1632 28.5477 46.4528Z" fill="white" stroke="white"/>\n</svg>\n';exports.embedRePlayIcon=p;var h=function(n){return'<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M4 1.33325L2 3.99992V13.3333C2 13.6869 2.14048 14.026 2.39052 14.2761C2.64057 14.5261 2.97971 14.6666 3.33333 14.6666H12.6667C13.0203 14.6666 13.3594 14.5261 13.6095 14.2761C13.8595 14.026 14 13.6869 14 13.3333V3.99992L12 1.33325H4Z" stroke="'.concat(n,'" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M2 4H14" stroke="').concat(n,'" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n        <path d="M10.6668 6.66675C10.6668 7.37399 10.3859 8.05227 9.88578 8.55237C9.38568 9.05246 8.70741 9.33341 8.00016 9.33341C7.29292 9.33341 6.61464 9.05246 6.11454 8.55237C5.61445 8.05227 5.3335 7.37399 5.3335 6.66675" stroke="').concat(n,'" stroke-width="1.33333" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>')};exports.shoppingBagIcon=h;var w=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FF4D50";return'\n<svg width="33" height="33" viewBox="0 0 33 33" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <g clip-path="url(#clip0_2997_92830)">\n  <g filter="url(#filter0_d_2997_92830)">\n  <path fill-rule="evenodd" clip-rule="evenodd" d="M12.789 4.55576C13.1041 4.2406 13.5316 4.06354 13.9773 4.06354H19.3551C19.8008 4.06354 20.2282 4.2406 20.5434 4.55576C20.8586 4.87093 21.0356 5.29839 21.0356 5.7441V7.42465H12.2968V5.7441C12.2968 5.29839 12.4738 4.87093 12.789 4.55576ZM10.2801 7.42465V5.7441C10.2801 4.76353 10.6696 3.82313 11.363 3.12977C12.0563 2.4364 12.9967 2.04688 13.9773 2.04688H19.3551C20.3356 2.04688 21.2761 2.4364 21.9694 3.12977C22.6628 3.82313 23.0523 4.76353 23.0523 5.7441V7.42465H26.0773H28.7662C29.3231 7.42465 29.7745 7.8761 29.7745 8.43299C29.7745 8.98987 29.3231 9.44132 28.7662 9.44132H27.0856V27.2552C27.0856 28.2358 26.6961 29.1762 26.0027 29.8695C25.3094 30.5629 24.369 30.9524 23.3884 30.9524H9.94397C8.96341 30.9524 8.023 30.5629 7.32964 29.8695C6.63628 29.1762 6.24675 28.2358 6.24675 27.2552V9.44132H4.56619C4.00931 9.44132 3.55786 8.98987 3.55786 8.43299C3.55786 7.8761 4.00931 7.42465 4.56619 7.42465H7.25508H10.2801ZM8.26342 9.44132V27.2552C8.26342 27.7009 8.44047 28.1284 8.75564 28.4435C9.07081 28.7587 9.49826 28.9358 9.94397 28.9358H23.3884C23.8341 28.9358 24.2616 28.7587 24.5767 28.4435C24.8919 28.1284 25.069 27.7009 25.069 27.2552V9.44132H22.044H11.2884H8.26342ZM13.9773 14.1469C14.5342 14.1469 14.9856 14.5983 14.9856 15.1552V23.2219C14.9856 23.7788 14.5342 24.2302 13.9773 24.2302C13.4204 24.2302 12.969 23.7788 12.969 23.2219V15.1552C12.969 14.5983 13.4204 14.1469 13.9773 14.1469ZM20.3634 15.1552C20.3634 14.5983 19.912 14.1469 19.3551 14.1469C18.7982 14.1469 18.3468 14.5983 18.3468 15.1552V23.2219C18.3468 23.7788 18.7982 24.2302 19.3551 24.2302C19.912 24.2302 20.3634 23.7788 20.3634 23.2219V15.1552Z" fill="'.concat(n,'"/>\n  </g>\n  </g>\n  <defs>\n  <filter id="filter0_d_2997_92830" x="0.868973" y="-0.642014" width="31.5943" height="34.284" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n  <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n  <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>\n  <feOffset/>\n  <feGaussianBlur stdDeviation="1.34444"/>\n  <feComposite in2="hardAlpha" operator="out"/>\n  <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/>\n  <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_2997_92830"/>\n  <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_2997_92830" result="shape"/>\n  </filter>\n  <clipPath id="clip0_2997_92830">\n  <rect width="32.2667" height="32.2667" fill="white" transform="translate(0.533203 0.365234)"/>\n  </clipPath>\n  </defs>\n</svg>\n')};exports.trashIcon=w;var a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#ffffff";return'\n<svg xmlns="http://www.w3.org/2000/svg" width="34" height="29" viewBox="0 0 34 29" fill="none">\n  <path d="M21 7.21082C20.1716 7.21082 19.5 7.88239 19.5 8.71082C19.5 9.53924 20.1716 10.2108 21 10.2108V7.21082ZM25 8.71082V7.21082V8.71082ZM21 18.8775C20.1716 18.8775 19.5 19.5491 19.5 20.3775C19.5 21.2059 20.1716 21.8775 21 21.8775V18.8775ZM13.0002 21.8775C13.8286 21.8775 14.5002 21.2059 14.5002 20.3775C14.5002 19.5491 13.8286 18.8775 13.0002 18.8775V21.8775ZM13.0002 10.2108C13.8286 10.2108 14.5002 9.53924 14.5002 8.71082C14.5002 7.88239 13.8286 7.21082 13.0002 7.21082V10.2108ZM21 10.2108H25V7.21082H21V10.2108ZM25 10.2108C26.4302 10.2108 27.768 10.7097 28.7263 11.5482L30.7018 9.29049C29.1596 7.94107 27.1061 7.21082 25 7.21082V10.2108ZM28.7263 11.5482C29.6782 12.3811 30.1667 13.4644 30.1667 14.5441H33.1667C33.1667 12.5297 32.2504 10.6455 30.7018 9.29049L28.7263 11.5482ZM30.1667 14.5441C30.1667 16.7555 28.0479 18.8775 25 18.8775V21.8775C29.3159 21.8775 33.1667 18.7761 33.1667 14.5441H30.1667ZM25 18.8775H21V21.8775H25V18.8775ZM13.0002 18.8775H9.00016V21.8775H13.0002V18.8775ZM9.00016 18.8775C7.56999 18.8775 6.23215 18.3786 5.27387 17.5401L3.29836 19.7978C4.84057 21.1472 6.89411 21.8775 9.00016 21.8775V18.8775ZM5.27387 17.5401C4.32199 16.7072 3.8335 15.6239 3.8335 14.5441H0.833496C0.833496 16.5586 1.74976 18.4428 3.29836 19.7978L5.27387 17.5401ZM3.8335 14.5441C3.8335 12.3328 5.95228 10.2108 9.00016 10.2108V7.21082C4.68425 7.21082 0.833496 10.3122 0.833496 14.5441H3.8335ZM9.00016 10.2108H13.0002V7.21082H9.00016V10.2108Z" fill="'.concat(n,'"/>\n  <path d="M11.6665 14.5442H22.3332" stroke="').concat(n,'" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n')};exports.copyLinkIcon=a;var c='<svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M40.5 0.000488281H7.5C3.35786 0.000488281 0 3.35835 0 7.50049V40.5005C0 44.6426 3.35786 48.0005 7.5 48.0005H40.5C44.6421 48.0005 48 44.6426 48 40.5005V7.50049C48 3.35835 44.6421 0.000488281 40.5 0.000488281Z" fill="black"/>\n<path d="M30.4032 13.9995H33.7961L26.3836 22.4716L35.1039 34.0001H28.276L22.9281 27.0081L16.809 34.0001H13.414L21.3424 24.9383L12.9771 13.9995H19.9783L24.8123 20.3905L30.4032 13.9995ZM29.2124 31.9693H31.0925L18.9567 15.9237H16.9392L29.2124 31.9693Z" fill="white"/>\n</svg>';exports.twitterLogo=c;var g='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48" fill="none">\n<path d="M40.5 0.000488281H7.5C3.35786 0.000488281 0 3.35835 0 7.50049V40.5005C0 44.6426 3.35786 48.0005 7.5 48.0005H40.5C44.6421 48.0005 48 44.6426 48 40.5005V7.50049C48 3.35835 44.6421 0.000488281 40.5 0.000488281Z" fill="#1877F2"/>\n<path d="M36 24.0005C36 17.4005 30.6 12.0005 24 12.0005C17.4 12.0005 12 17.4005 12 24.0005C12 30.0005 16.35 34.9505 22.05 35.8505V27.4505H19.05V24.0005H22.05V21.3005C22.05 18.3005 23.85 16.6505 26.55 16.6505C27.9 16.6505 29.25 16.9505 29.25 16.9505V19.9505H27.75C26.25 19.9505 25.8 20.8505 25.8 21.7505V24.0005H29.1L28.5 27.4505H25.65V36.0005C31.65 35.1005 36 30.0005 36 24.0005Z" fill="white"/>\n</svg>';exports.facebookLogo=g;
},{}],"JpL0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("@babel/runtime/helpers/slicedToArray")),t=require("../lib/style"),r=require("../lib/util"),l=require("../lib/icons");function o(e){return e&&e.__esModule?e:{default:e}}var i='\n  <div class="storyly__scroll-indicator">\n    <div></div>\n  </div>',n=function o(n,a){if(a.scrollIndicator&&!(0,r.isMobileView)()){var c,s=n.querySelector(".storyly__groups-list");(c=n.querySelectorAll(".storyly__scroll-indicator")).length&&c.forEach(function(e){return e.remove()});var d=s.scrollWidth,u=s.clientWidth;if(window.addEventListener("resize",(0,r.debounce)(function(){o(n,a)})),!(u>=d)){var f=a.scrollIndicatorOptions,y=f.customLeftIndicator,p=f.customRightIndicator,v=f.indicatorDefaultIconsColor,h=s.firstChild.offsetWidth+2*Number(a.storyGroupMarginHorizontal),m=(0,r.generateHtmlFromTemplate)(i),b=(0,r.generateHtmlFromTemplate)(i),g=(0,e.default)(m.children,1)[0],S=(0,e.default)(b.children,1)[0];if(y)(0,t.setStyle)(g,["background-image","url(".concat(y,")")]);else{var _=(0,r.generateHtmlFromTemplate)((0,l.chevronLeft)(v));g.appendChild(_)}if(p)(0,t.setStyle)(S,["background-image","url(".concat(p,")")]);else{var L=(0,r.generateHtmlFromTemplate)((0,l.chevronRight)(v));S.appendChild(L)}(0,t.setStyle)(s,["overflow-x","auto"]),(0,t.setStyle)(s,["overflow-y","hidden"]),(0,t.setStyle)(m,["opacity","0"]),n.prepend(m),n.appendChild(b),s.addEventListener("scroll",function(){var e=s.scrollWidth,r=s.scrollLeft,l=s.clientWidth;r>0?(0,t.setStyle)(m,["opacity","1"]):(0,t.setStyle)(m,["opacity","0"]),r+l+Number(a.storyGroupMarginHorizontal)>=e?(0,t.setStyle)(b,["opacity","0"]):(0,t.setStyle)(b,["opacity","1"])}),S.addEventListener("click",function(){s.scroll({left:s.scrollLeft+h,behavior:"smooth"})}),g.addEventListener("click",function(){s.scroll({left:s.scrollLeft-h,behavior:"smooth"})})}}},a=n;exports.default=a;
},{"@babel/runtime/helpers/slicedToArray":"HETk","../lib/style":"vgU2","../lib/util":"PesM","../lib/icons":"irwm"}],"vfVQ":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];function s(e,t,s){return(t=a(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function a(e){var t=i(e,"string");return"symbol"===n(t)?t:String(t)}function i(e,t){if("object"!==n(e)||null===e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!==n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(t,s){"object"===("undefined"==typeof exports?"undefined":n(exports))&&"undefined"!=typeof module?module.exports=s():"function"==typeof e&&e.amd?e(s):(t="undefined"!=typeof globalThis?globalThis:t||self).Swiper=s()}(this,function(){"use strict";function e(e){return null!==e&&"object"===n(e)&&"constructor"in e&&e.constructor===Object}function t(s={},a={}){Object.keys(a).forEach(i=>{void 0===s[i]?s[i]=a[i]:e(a[i])&&e(s[i])&&Object.keys(a[i]).length>0&&t(s[i],a[i])})}const a={body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},createElementNS:function(){return{}},importNode:function(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function i(){const e="undefined"!=typeof document?document:{};return t(e,a),e}const r={document:a,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState:function(){},pushState:function(){},go:function(){},back:function(){}},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){},matchMedia:function(){return{}},requestAnimationFrame:function(e){return"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0)},cancelAnimationFrame:function(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function o(){const e="undefined"!=typeof window?window:{};return t(e,r),e}class l extends Array{constructor(e){super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:function(){return t},set:function(e){t.__proto__=e}})}(this)}}function c(e=[]){const t=[];return e.forEach(e=>{Array.isArray(e)?t.push(...c(e)):t.push(e)}),t}function d(e,t){return Array.prototype.filter.call(e,t)}function p(e,t){const s=o(),a=i();let n=[];if(!t&&e instanceof l)return e;if(!e)return new l(n);if("string"==typeof e){const s=e.trim();if(s.indexOf("<")>=0&&s.indexOf(">")>=0){let e="div";0===s.indexOf("<li")&&(e="ul"),0===s.indexOf("<tr")&&(e="tbody"),0!==s.indexOf("<td")&&0!==s.indexOf("<th")||(e="tr"),0===s.indexOf("<tbody")&&(e="table"),0===s.indexOf("<option")&&(e="select");const t=a.createElement(e);t.innerHTML=s;for(let s=0;s<t.childNodes.length;s+=1)n.push(t.childNodes[s])}else n=function(e,t){if("string"!=typeof e)return[e];const s=[],a=t.querySelectorAll(e);for(let i=0;i<a.length;i+=1)s.push(a[i]);return s}(e.trim(),t||a)}else if(e.nodeType||e===s||e===a)n.push(e);else if(Array.isArray(e)){if(e instanceof l)return e;n=e}return new l(function(e){const t=[];for(let s=0;s<e.length;s+=1)-1===t.indexOf(e[s])&&t.push(e[s]);return t}(n))}p.fn=l.prototype;const u={addClass:function(...e){const t=c(e.map(e=>e.split(" ")));return this.forEach(e=>{e.classList.add(...t)}),this},removeClass:function(...e){const t=c(e.map(e=>e.split(" ")));return this.forEach(e=>{e.classList.remove(...t)}),this},hasClass:function(...e){const t=c(e.map(e=>e.split(" ")));return d(this,e=>t.filter(t=>e.classList.contains(t)).length>0).length>0},toggleClass:function(...e){const t=c(e.map(e=>e.split(" ")));this.forEach(e=>{t.forEach(t=>{e.classList.toggle(t)})})},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let s=0;s<this.length;s+=1)if(2===arguments.length)this[s].setAttribute(e,t);else for(const t in e)this[s][t]=e[t],this[s].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?"".concat(e,"ms"):e;return this},on:function(...e){let[t,s,a,i]=e;function n(e){const t=e.target;if(!t)return;const i=e.target.dom7EventData||[];if(i.indexOf(e)<0&&i.unshift(e),p(t).is(s))a.apply(t,i);else{const e=p(t).parents();for(let t=0;t<e.length;t+=1)p(e[t]).is(s)&&a.apply(e[t],i)}}function r(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),a.apply(this,t)}"function"==typeof e[1]&&([t,a,i]=e,s=void 0),i||(i=!1);const o=t.split(" ");let l;for(let c=0;c<this.length;c+=1){const e=this[c];if(s)for(l=0;l<o.length;l+=1){const t=o[l];e.dom7LiveListeners||(e.dom7LiveListeners={}),e.dom7LiveListeners[t]||(e.dom7LiveListeners[t]=[]),e.dom7LiveListeners[t].push({listener:a,proxyListener:n}),e.addEventListener(t,n,i)}else for(l=0;l<o.length;l+=1){const t=o[l];e.dom7Listeners||(e.dom7Listeners={}),e.dom7Listeners[t]||(e.dom7Listeners[t]=[]),e.dom7Listeners[t].push({listener:a,proxyListener:r}),e.addEventListener(t,r,i)}}return this},off:function(...e){let[t,s,a,i]=e;"function"==typeof e[1]&&([t,a,i]=e,s=void 0),i||(i=!1);const n=t.split(" ");for(let r=0;r<n.length;r+=1){const e=n[r];for(let t=0;t<this.length;t+=1){const n=this[t];let r;if(!s&&n.dom7Listeners?r=n.dom7Listeners[e]:s&&n.dom7LiveListeners&&(r=n.dom7LiveListeners[e]),r&&r.length)for(let t=r.length-1;t>=0;t-=1){const s=r[t];a&&s.listener===a?(n.removeEventListener(e,s.proxyListener,i),r.splice(t,1)):a&&s.listener&&s.listener.dom7proxy&&s.listener.dom7proxy===a?(n.removeEventListener(e,s.proxyListener,i),r.splice(t,1)):a||(n.removeEventListener(e,s.proxyListener,i),r.splice(t,1))}}}return this},trigger:function(...e){const t=o(),s=e[0].split(" "),a=e[1];for(let i=0;i<s.length;i+=1){const n=s[i];for(let s=0;s<this.length;s+=1){const i=this[s];if(t.CustomEvent){const s=new t.CustomEvent(n,{detail:a,bubbles:!0,cancelable:!0});i.dom7EventData=e.filter((e,t)=>t>0),i.dispatchEvent(s),i.dom7EventData=[],delete i.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",function s(a){a.target===this&&(e.call(this,a),t.off("transitionend",s))}),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=o();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=o(),t=i(),s=this[0],a=s.getBoundingClientRect(),n=t.body,r=s.clientTop||n.clientTop||0,l=s.clientLeft||n.clientLeft||0,c=s===e?e.scrollY:s.scrollTop,d=s===e?e.scrollX:s.scrollLeft;return{top:a.top+c-r,left:a.left+d-l}}return null},css:function(e,t){const s=o();let a;if(1===arguments.length){if("string"!=typeof e){for(a=0;a<this.length;a+=1)for(const t in e)this[a].style[t]=e[t];return this}if(this[0])return s.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(a=0;a<this.length;a+=1)this[a].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((t,s)=>{e.apply(t,[t,s])}),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=o(),s=i(),a=this[0];let n,r;if(!a||void 0===e)return!1;if("string"==typeof e){if(a.matches)return a.matches(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);for(n=p(e),r=0;r<n.length;r+=1)if(n[r]===a)return!0;return!1}if(e===s)return a===s;if(e===t)return a===t;if(e.nodeType||e instanceof l){for(n=e.nodeType?[e]:e,r=0;r<n.length;r+=1)if(n[r]===a)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return p([]);if(e<0){const s=t+e;return p(s<0?[]:[this[s]])}return p([this[e]])},append:function(...e){let t;const s=i();for(let a=0;a<e.length;a+=1){t=e[a];for(let e=0;e<this.length;e+=1)if("string"==typeof t){const a=s.createElement("div");for(a.innerHTML=t;a.firstChild;)this[e].appendChild(a.firstChild)}else if(t instanceof l)for(let s=0;s<t.length;s+=1)this[e].appendChild(t[s]);else this[e].appendChild(t)}return this},prepend:function(e){const t=i();let s,a;for(s=0;s<this.length;s+=1)if("string"==typeof e){const i=t.createElement("div");for(i.innerHTML=e,a=i.childNodes.length-1;a>=0;a-=1)this[s].insertBefore(i.childNodes[a],this[s].childNodes[0])}else if(e instanceof l)for(a=0;a<e.length;a+=1)this[s].insertBefore(e[a],this[s].childNodes[0]);else this[s].insertBefore(e,this[s].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&p(this[0].nextElementSibling).is(e)?p([this[0].nextElementSibling]):p([]):this[0].nextElementSibling?p([this[0].nextElementSibling]):p([]):p([])},nextAll:function(e){const t=[];let s=this[0];if(!s)return p([]);for(;s.nextElementSibling;){const a=s.nextElementSibling;e?p(a).is(e)&&t.push(a):t.push(a),s=a}return p(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&p(t.previousElementSibling).is(e)?p([t.previousElementSibling]):p([]):t.previousElementSibling?p([t.previousElementSibling]):p([])}return p([])},prevAll:function(e){const t=[];let s=this[0];if(!s)return p([]);for(;s.previousElementSibling;){const a=s.previousElementSibling;e?p(a).is(e)&&t.push(a):t.push(a),s=a}return p(t)},parent:function(e){const t=[];for(let s=0;s<this.length;s+=1)null!==this[s].parentNode&&(e?p(this[s].parentNode).is(e)&&t.push(this[s].parentNode):t.push(this[s].parentNode));return p(t)},parents:function(e){const t=[];for(let s=0;s<this.length;s+=1){let a=this[s].parentNode;for(;a;)e?p(a).is(e)&&t.push(a):t.push(a),a=a.parentNode}return p(t)},closest:function(e){let t=this;return void 0===e?p([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let s=0;s<this.length;s+=1){const a=this[s].querySelectorAll(e);for(let e=0;e<a.length;e+=1)t.push(a[e])}return p(t)},children:function(e){const t=[];for(let s=0;s<this.length;s+=1){const a=this[s].children;for(let s=0;s<a.length;s+=1)e&&!p(a[s]).is(e)||t.push(a[s])}return p(t)},filter:function(e){return p(d(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};function h(e,t=0){return setTimeout(e,t)}function m(){return Date.now()}function f(e,t="x"){const s=o();let a,i,n;const r=function(e){const t=o();let s;return t.getComputedStyle&&(s=t.getComputedStyle(e,null)),!s&&e.currentStyle&&(s=e.currentStyle),s||(s=e.style),s}(e);return s.WebKitCSSMatrix?((i=r.transform||r.webkitTransform).split(",").length>6&&(i=i.split(", ").map(e=>e.replace(",",".")).join(", ")),n=new s.WebKitCSSMatrix("none"===i?"":i)):a=(n=r.MozTransform||r.OTransform||r.MsTransform||r.msTransform||r.transform||r.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(i=s.WebKitCSSMatrix?n.m41:16===a.length?parseFloat(a[12]):parseFloat(a[4])),"y"===t&&(i=s.WebKitCSSMatrix?n.m42:16===a.length?parseFloat(a[13]):parseFloat(a[5])),i||0}function g(e){return"object"===n(e)&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function v(...e){const t=Object(e[0]),s=["__proto__","constructor","prototype"];for(let i=1;i<e.length;i+=1){const n=e[i];if(null!=n&&(a=n,!("undefined"!=typeof window&&void 0!==window.HTMLElement?a instanceof HTMLElement:a&&(1===a.nodeType||11===a.nodeType)))){const e=Object.keys(Object(n)).filter(e=>s.indexOf(e)<0);for(let s=0,a=e.length;s<a;s+=1){const a=e[s],i=Object.getOwnPropertyDescriptor(n,a);void 0!==i&&i.enumerable&&(g(t[a])&&g(n[a])?n[a].__swiper__?t[a]=n[a]:v(t[a],n[a]):!g(t[a])&&g(n[a])?(t[a]={},n[a].__swiper__?t[a]=n[a]:v(t[a],n[a])):t[a]=n[a])}}}var a;return t}function w(e,t,s){e.style.setProperty(t,s)}function b({swiper:e,targetPosition:t,side:a}){const i=o(),n=-e.translate;let r,l=null;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const d=t>n?"next":"prev",p=(e,t)=>"next"===d&&e>=t||"prev"===d&&e<=t,u=()=>{r=(new Date).getTime(),null===l&&(l=r);const o=Math.max(Math.min((r-l)/c,1),0),d=.5-Math.cos(o*Math.PI)/2;let h=n+d*(t-n);if(p(h,t)&&(h=t),e.wrapperEl.scrollTo(s({},a,h)),p(h,t))return e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo(s({},a,h))}),void i.cancelAnimationFrame(e.cssModeFrameID);e.cssModeFrameID=i.requestAnimationFrame(u)};u()}let x,y,E;function T(){return x||(x=function(){const e=o(),t=i();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const a=Object.defineProperty({},"passive",{get:function(){t=!0}});e.addEventListener("testPassiveListener",null,a)}catch(s){}return t}(),gestures:"ongesturestart"in e}}()),x}function C(e={}){return y||(y=function({userAgent:e}={}){const t=T(),s=o(),a=s.navigator.platform,i=e||s.navigator.userAgent,n={ios:!1,android:!1},r=s.screen.width,l=s.screen.height,c=i.match(/(Android);?[\s\/]+([\d.]+)?/);let d=i.match(/(iPad).*OS\s([\d_]+)/);const p=i.match(/(iPod)(.*OS\s([\d_]+))?/),u=!d&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===a;let m="MacIntel"===a;return!d&&m&&t.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(r,"x").concat(l))>=0&&((d=i.match(/(Version)\/([\d.]+)/))||(d=[0,1,"13_0_0"]),m=!1),c&&!h&&(n.os="android",n.android=!0),(d||u||p)&&(n.os="ios",n.ios=!0),n}(e)),y}function S(){return E||(E=function(){const e=o();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),E}Object.keys(u).forEach(e=>{Object.defineProperty(p.fn,e,{value:u[e],writable:!0})});var M={on:function(e,t,s){const a=this;if("function"!=typeof t)return a;const i=s?"unshift":"push";return e.split(" ").forEach(e=>{a.eventsListeners[e]||(a.eventsListeners[e]=[]),a.eventsListeners[e][i](t)}),a},once:function(e,t,s){const a=this;if("function"!=typeof t)return a;function i(...s){a.off(e,i),i.__emitterProxy&&delete i.__emitterProxy,t.apply(a,s)}return i.__emitterProxy=t,a.on(e,i,s)},onAny:function(e,t){const s=this;if("function"!=typeof e)return s;const a=t?"unshift":"push";return s.eventsAnyListeners.indexOf(e)<0&&s.eventsAnyListeners[a](e),s},offAny:function(e){const t=this;if(!t.eventsAnyListeners)return t;const s=t.eventsAnyListeners.indexOf(e);return s>=0&&t.eventsAnyListeners.splice(s,1),t},off:function(e,t){const s=this;return s.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?s.eventsListeners[e]=[]:s.eventsListeners[e]&&s.eventsListeners[e].forEach((a,i)=>{(a===t||a.__emitterProxy&&a.__emitterProxy===t)&&s.eventsListeners[e].splice(i,1)})}),s):s},emit:function(...e){const t=this;if(!t.eventsListeners)return t;let s,a,i;return"string"==typeof e[0]||Array.isArray(e[0])?(s=e[0],a=e.slice(1,e.length),i=t):(s=e[0].events,a=e[0].data,i=e[0].context||t),a.unshift(i),(Array.isArray(s)?s:s.split(" ")).forEach(e=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(t=>{t.apply(i,[e,...a])}),t.eventsListeners&&t.eventsListeners[e]&&t.eventsListeners[e].forEach(e=>{e.apply(i,a)})}),t}};function P({swiper:e,runCallbacks:t,direction:s,step:a}){const{activeIndex:i,previousIndex:n}=e;let r=s;if(r||(r=i>n?"next":i<n?"prev":"reset"),e.emit("transition".concat(a)),t&&i!==n){if("reset"===r)return void e.emit("slideResetTransition".concat(a));e.emit("slideChangeTransition".concat(a)),"next"===r?e.emit("slideNextTransition".concat(a)):e.emit("slidePrevTransition".concat(a))}}function $(e){const t=this,s=i(),a=o(),n=t.touchEventsData,{params:r,touches:l,enabled:c}=t;if(!c)return;if(t.animating&&r.preventInteractionOnTransition)return;!t.animating&&r.cssMode&&r.loop&&t.loopFix();let d=e;d.originalEvent&&(d=d.originalEvent);let u=p(d.target);if("wrapper"===r.touchEventsTarget&&!u.closest(t.wrapperEl).length)return;if(n.isTouchEvent="touchstart"===d.type,!n.isTouchEvent&&"which"in d&&3===d.which)return;if(!n.isTouchEvent&&"button"in d&&d.button>0)return;if(n.isTouched&&n.isMoved)return;!!r.noSwipingClass&&""!==r.noSwipingClass&&d.target&&d.target.shadowRoot&&e.path&&e.path[0]&&(u=p(e.path[0]));const h=r.noSwipingSelector?r.noSwipingSelector:".".concat(r.noSwipingClass),f=!(!d.target||!d.target.shadowRoot);if(r.noSwiping&&(f?function(e,t=this){return function t(s){return s&&s!==i()&&s!==o()?(s.assignedSlot&&(s=s.assignedSlot),s.closest(e)||t(s.getRootNode().host)):null}(t)}(h,d.target):u.closest(h)[0]))return void(t.allowClick=!0);if(r.swipeHandler&&!u.closest(r.swipeHandler)[0])return;l.currentX="touchstart"===d.type?d.targetTouches[0].pageX:d.pageX,l.currentY="touchstart"===d.type?d.targetTouches[0].pageY:d.pageY;const g=l.currentX,v=l.currentY,w=r.edgeSwipeDetection||r.iOSEdgeSwipeDetection,b=r.edgeSwipeThreshold||r.iOSEdgeSwipeThreshold;if(w&&(g<=b||g>=a.innerWidth-b)){if("prevent"!==w)return;e.preventDefault()}if(Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=g,l.startY=v,n.touchStartTime=m(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,r.threshold>0&&(n.allowThresholdMove=!1),"touchstart"!==d.type){let e=!0;u.is(n.focusableElements)&&(e=!1),s.activeElement&&p(s.activeElement).is(n.focusableElements)&&s.activeElement!==u[0]&&s.activeElement.blur();const a=e&&t.allowTouchMove&&r.touchStartPreventDefault;!r.touchStartForcePreventDefault&&!a||u[0].isContentEditable||d.preventDefault()}t.emit("touchStart",d)}function k(){const e=this,{params:t,el:s}=e;if(s&&0===s.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:a,allowSlidePrev:i,snapGrid:n}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=i,e.allowSlideNext=a,e.params.watchOverflow&&n!==e.snapGrid&&e.checkOverflow()}let z=!1;function O(){}const I=(e,t)=>{const s=i(),{params:a,touchEvents:n,el:r,wrapperEl:o,device:l,support:c}=e,d=!!a.nested,p="on"===t?"addEventListener":"removeEventListener",u=t;if(c.touch){const t=!("touchstart"!==n.start||!c.passiveListener||!a.passiveListeners)&&{passive:!0,capture:!1};r[p](n.start,e.onTouchStart,t),r[p](n.move,e.onTouchMove,c.passiveListener?{passive:!1,capture:d}:d),r[p](n.end,e.onTouchEnd,t),n.cancel&&r[p](n.cancel,e.onTouchEnd,t)}else r[p](n.start,e.onTouchStart,!1),s[p](n.move,e.onTouchMove,d),s[p](n.end,e.onTouchEnd,!1);(a.preventClicks||a.preventClicksPropagation)&&r[p]("click",e.onClick,!0),a.cssMode&&o[p]("scroll",e.onScroll),a.updateOnWindowResize?e[u](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",k,!0):e[u]("observerUpdate",k,!0)};const L=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var A={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function D(e,t){return function(s={}){const a=Object.keys(s)[0],i=s[a];"object"===n(i)&&null!==i?(["navigation","pagination","scrollbar"].indexOf(a)>=0&&!0===e[a]&&(e[a]={auto:!0}),a in e&&"enabled"in i?(!0===e[a]&&(e[a]={enabled:!0}),"object"!==n(e[a])||"enabled"in e[a]||(e[a].enabled=!0),e[a]||(e[a]={enabled:!1}),v(t,s)):v(t,s)):v(t,s)}}const G={eventsEmitter:M,update:{updateSize:function(){const e=this;let t,s;const a=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:a[0].clientWidth,s=void 0!==e.params.height&&null!==e.params.height?e.params.height:a[0].clientHeight,0===t&&e.isHorizontal()||0===s&&e.isVertical()||(t=t-parseInt(a.css("padding-left")||0,10)-parseInt(a.css("padding-right")||0,10),s=s-parseInt(a.css("padding-top")||0,10)-parseInt(a.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(s)&&(s=0),Object.assign(e,{width:t,height:s,size:e.isHorizontal()?t:s}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function a(e,s){return parseFloat(e.getPropertyValue(t(s))||0)}const i=e.params,{$wrapperEl:n,size:r,rtlTranslate:o,wrongRTL:l}=e,c=e.virtual&&i.virtual.enabled,d=c?e.virtual.slides.length:e.slides.length,p=n.children(".".concat(e.params.slideClass)),u=c?e.virtual.slides.length:p.length;let h=[];const m=[],f=[];let g=i.slidesOffsetBefore;"function"==typeof g&&(g=i.slidesOffsetBefore.call(e));let v=i.slidesOffsetAfter;"function"==typeof v&&(v=i.slidesOffsetAfter.call(e));const b=e.snapGrid.length,x=e.slidesGrid.length;let y=i.spaceBetween,E=-g,T=0,C=0;if(void 0===r)return;"string"==typeof y&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*r),e.virtualSize=-y,o?p.css({marginLeft:"",marginBottom:"",marginTop:""}):p.css({marginRight:"",marginBottom:"",marginTop:""}),i.centeredSlides&&i.cssMode&&(w(e.wrapperEl,"--swiper-centered-offset-before",""),w(e.wrapperEl,"--swiper-centered-offset-after",""));const S=i.grid&&i.grid.rows>1&&e.grid;let M;S&&e.grid.initSlides(u);const P="auto"===i.slidesPerView&&i.breakpoints&&Object.keys(i.breakpoints).filter(e=>void 0!==i.breakpoints[e].slidesPerView).length>0;for(let s=0;s<u;s+=1){M=0;const n=p.eq(s);if(S&&e.grid.updateSlide(s,n,u,t),"none"!==n.css("display")){if("auto"===i.slidesPerView){P&&(p[s].style[t("width")]="");const r=getComputedStyle(n[0]),o=n[0].style.transform,l=n[0].style.webkitTransform;if(o&&(n[0].style.transform="none"),l&&(n[0].style.webkitTransform="none"),i.roundLengths)M=e.isHorizontal()?n.outerWidth(!0):n.outerHeight(!0);else{const e=a(r,"width"),t=a(r,"padding-left"),s=a(r,"padding-right"),i=a(r,"margin-left"),o=a(r,"margin-right"),l=r.getPropertyValue("box-sizing");if(l&&"border-box"===l)M=e+i+o;else{const{clientWidth:a,offsetWidth:r}=n[0];M=e+t+s+i+o+(r-a)}}o&&(n[0].style.transform=o),l&&(n[0].style.webkitTransform=l),i.roundLengths&&(M=Math.floor(M))}else M=(r-(i.slidesPerView-1)*y)/i.slidesPerView,i.roundLengths&&(M=Math.floor(M)),p[s]&&(p[s].style[t("width")]="".concat(M,"px"));p[s]&&(p[s].swiperSlideSize=M),f.push(M),i.centeredSlides?(E=E+M/2+T/2+y,0===T&&0!==s&&(E=E-r/2-y),0===s&&(E=E-r/2-y),Math.abs(E)<.001&&(E=0),i.roundLengths&&(E=Math.floor(E)),C%i.slidesPerGroup==0&&h.push(E),m.push(E)):(i.roundLengths&&(E=Math.floor(E)),(C-Math.min(e.params.slidesPerGroupSkip,C))%e.params.slidesPerGroup==0&&h.push(E),m.push(E),E=E+M+y),e.virtualSize+=M+y,T=M,C+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+v,o&&l&&("slide"===i.effect||"coverflow"===i.effect)&&n.css({width:"".concat(e.virtualSize+i.spaceBetween,"px")}),i.setWrapperSize&&n.css(s({},t("width"),"".concat(e.virtualSize+i.spaceBetween,"px"))),S&&e.grid.updateWrapperSize(M,h,t),!i.centeredSlides){const t=[];for(let s=0;s<h.length;s+=1){let a=h[s];i.roundLengths&&(a=Math.floor(a)),h[s]<=e.virtualSize-r&&t.push(a)}h=t,Math.floor(e.virtualSize-r)-Math.floor(h[h.length-1])>1&&h.push(e.virtualSize-r)}if(0===h.length&&(h=[0]),0!==i.spaceBetween){const a=e.isHorizontal()&&o?"marginLeft":t("marginRight");p.filter((e,t)=>!i.cssMode||t!==p.length-1).css(s({},a,"".concat(y,"px")))}if(i.centeredSlides&&i.centeredSlidesBounds){let e=0;f.forEach(t=>{e+=t+(i.spaceBetween?i.spaceBetween:0)});const t=(e-=i.spaceBetween)-r;h=h.map(e=>e<0?-g:e>t?t+v:e)}if(i.centerInsufficientSlides){let e=0;if(f.forEach(t=>{e+=t+(i.spaceBetween?i.spaceBetween:0)}),(e-=i.spaceBetween)<r){const t=(r-e)/2;h.forEach((e,s)=>{h[s]=e-t}),m.forEach((e,s)=>{m[s]=e+t})}}if(Object.assign(e,{slides:p,snapGrid:h,slidesGrid:m,slidesSizesGrid:f}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){w(e.wrapperEl,"--swiper-centered-offset-before","".concat(-h[0],"px")),w(e.wrapperEl,"--swiper-centered-offset-after","".concat(e.size/2-f[f.length-1]/2,"px"));const t=-e.snapGrid[0],s=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+s)}u!==d&&e.emit("slidesLengthChange"),h.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),m.length!==x&&e.emit("slidesGridLengthChange"),i.watchSlidesProgress&&e.updateSlidesOffset()},updateAutoHeight:function(e){const t=this,s=[],a=t.virtual&&t.params.virtual.enabled;let i,n=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const r=e=>a?t.slides.filter(t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e)[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)t.visibleSlides.each(e=>{s.push(e)});else for(i=0;i<Math.ceil(t.params.slidesPerView);i+=1){const e=t.activeIndex+i;if(e>t.slides.length&&!a)break;s.push(r(e))}else s.push(r(t.activeIndex));for(i=0;i<s.length;i+=1)if(void 0!==s[i]){const e=s[i].offsetHeight;n=e>n?e:n}(n||0===n)&&t.$wrapperEl.css("height","".concat(n,"px"))},updateSlidesOffset:function(){const e=this,t=e.slides;for(let s=0;s<t.length;s+=1)t[s].swiperSlideOffset=e.isHorizontal()?t[s].offsetLeft:t[s].offsetTop},updateSlidesProgress:function(e=this&&this.translate||0){const t=this,s=t.params,{slides:a,rtlTranslate:i,snapGrid:n}=t;if(0===a.length)return;void 0===a[0].swiperSlideOffset&&t.updateSlidesOffset();let r=-e;i&&(r=e),a.removeClass(s.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let o=0;o<a.length;o+=1){const e=a[o];let l=e.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(l-=a[0].swiperSlideOffset);const c=(r+(s.centeredSlides?t.minTranslate():0)-l)/(e.swiperSlideSize+s.spaceBetween),d=(r-n[0]+(s.centeredSlides?t.minTranslate():0)-l)/(e.swiperSlideSize+s.spaceBetween),p=-(r-l),u=p+t.slidesSizesGrid[o];(p>=0&&p<t.size-1||u>1&&u<=t.size||p<=0&&u>=t.size)&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(o),a.eq(o).addClass(s.slideVisibleClass)),e.progress=i?-c:c,e.originalProgress=i?-d:d}t.visibleSlides=p(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const s=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*s||0}const s=t.params,a=t.maxTranslate()-t.minTranslate();let{progress:i,isBeginning:n,isEnd:r}=t;const o=n,l=r;0===a?(i=0,n=!0,r=!0):(n=(i=(e-t.minTranslate())/a)<=0,r=i>=1),Object.assign(t,{progress:i,isBeginning:n,isEnd:r}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&t.updateSlidesProgress(e),n&&!o&&t.emit("reachBeginning toEdge"),r&&!l&&t.emit("reachEnd toEdge"),(o&&!n||l&&!r)&&t.emit("fromEdge"),t.emit("progress",i)},updateSlidesClasses:function(){const e=this,{slides:t,params:s,$wrapperEl:a,activeIndex:i,realIndex:n}=e,r=e.virtual&&s.virtual.enabled;let o;t.removeClass("".concat(s.slideActiveClass," ").concat(s.slideNextClass," ").concat(s.slidePrevClass," ").concat(s.slideDuplicateActiveClass," ").concat(s.slideDuplicateNextClass," ").concat(s.slideDuplicatePrevClass)),(o=r?e.$wrapperEl.find(".".concat(s.slideClass,'[data-swiper-slide-index="').concat(i,'"]')):t.eq(i)).addClass(s.slideActiveClass),s.loop&&(o.hasClass(s.slideDuplicateClass)?a.children(".".concat(s.slideClass,":not(.").concat(s.slideDuplicateClass,')[data-swiper-slide-index="').concat(n,'"]')).addClass(s.slideDuplicateActiveClass):a.children(".".concat(s.slideClass,".").concat(s.slideDuplicateClass,'[data-swiper-slide-index="').concat(n,'"]')).addClass(s.slideDuplicateActiveClass));let l=o.nextAll(".".concat(s.slideClass)).eq(0).addClass(s.slideNextClass);s.loop&&0===l.length&&(l=t.eq(0)).addClass(s.slideNextClass);let c=o.prevAll(".".concat(s.slideClass)).eq(0).addClass(s.slidePrevClass);s.loop&&0===c.length&&(c=t.eq(-1)).addClass(s.slidePrevClass),s.loop&&(l.hasClass(s.slideDuplicateClass)?a.children(".".concat(s.slideClass,":not(.").concat(s.slideDuplicateClass,')[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(s.slideDuplicateNextClass):a.children(".".concat(s.slideClass,".").concat(s.slideDuplicateClass,'[data-swiper-slide-index="').concat(l.attr("data-swiper-slide-index"),'"]')).addClass(s.slideDuplicateNextClass),c.hasClass(s.slideDuplicateClass)?a.children(".".concat(s.slideClass,":not(.").concat(s.slideDuplicateClass,')[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(s.slideDuplicatePrevClass):a.children(".".concat(s.slideClass,".").concat(s.slideDuplicateClass,'[data-swiper-slide-index="').concat(c.attr("data-swiper-slide-index"),'"]')).addClass(s.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,s=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:a,snapGrid:i,params:n,activeIndex:r,realIndex:o,snapIndex:l}=t;let c,d=e;if(void 0===d){for(let e=0;e<a.length;e+=1)void 0!==a[e+1]?s>=a[e]&&s<a[e+1]-(a[e+1]-a[e])/2?d=e:s>=a[e]&&s<a[e+1]&&(d=e+1):s>=a[e]&&(d=e);n.normalizeSlideIndex&&(d<0||void 0===d)&&(d=0)}if(i.indexOf(s)>=0)c=i.indexOf(s);else{const e=Math.min(n.slidesPerGroupSkip,d);c=e+Math.floor((d-e)/n.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),d===r)return void(c!==l&&(t.snapIndex=c,t.emit("snapIndexChange")));const p=parseInt(t.slides.eq(d).attr("data-swiper-slide-index")||d,10);Object.assign(t,{snapIndex:c,realIndex:p,previousIndex:r,activeIndex:d}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),o!==p&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,s=t.params,a=p(e).closest(".".concat(s.slideClass))[0];let i,n=!1;if(a)for(let r=0;r<t.slides.length;r+=1)if(t.slides[r]===a){n=!0,i=r;break}if(!a||!n)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=a,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(p(a).attr("data-swiper-slide-index"),10):t.clickedIndex=i,s.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},translate:{getTranslate:function(e=(this.isHorizontal()?"x":"y")){const{params:t,rtlTranslate:s,translate:a,$wrapperEl:i}=this;if(t.virtualTranslate)return s?-a:a;if(t.cssMode)return a;let n=f(i[0],e);return s&&(n=-n),n||0},setTranslate:function(e,t){const s=this,{rtlTranslate:a,params:i,$wrapperEl:n,wrapperEl:r,progress:o}=s;let l,c=0,d=0;s.isHorizontal()?c=a?-e:e:d=e,i.roundLengths&&(c=Math.floor(c),d=Math.floor(d)),i.cssMode?r[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-c:-d:i.virtualTranslate||n.transform("translate3d(".concat(c,"px, ").concat(d,"px, ").concat(0,"px)")),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?c:d;const p=s.maxTranslate()-s.minTranslate();(l=0===p?0:(e-s.minTranslate())/p)!==o&&s.updateProgress(e),s.emit("setTranslate",s.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e=0,t=this.params.speed,a=!0,i=!0,n){const r=this,{params:o,wrapperEl:l}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const c=r.minTranslate(),d=r.maxTranslate();let p;if(p=i&&e>c?c:i&&e<d?d:e,r.updateProgress(p),o.cssMode){const e=r.isHorizontal();if(0===t)l[e?"scrollLeft":"scrollTop"]=-p;else{var u;if(!r.support.smoothScroll)return b({swiper:r,targetPosition:-p,side:e?"left":"top"}),!0;l.scrollTo((s(u={},e?"left":"top",-p),s(u,"behavior","smooth"),u))}return!0}return 0===t?(r.setTransition(0),r.setTranslate(p),a&&(r.emit("beforeTransitionStart",t,n),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(p),a&&(r.emit("beforeTransitionStart",t,n),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,a&&r.emit("transitionEnd"))}),r.$wrapperEl[0].addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const s=this;s.params.cssMode||s.$wrapperEl.transition(e),s.emit("setTransition",e,t)},transitionStart:function(e=!0,t){const s=this,{params:a}=s;a.cssMode||(a.autoHeight&&s.updateAutoHeight(),P({swiper:s,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e=!0,t){const{params:s}=this;this.animating=!1,s.cssMode||(this.setTransition(0),P({swiper:this,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(e=0,t=this.params.speed,a=!0,i,r){if("number"!=typeof e&&"string"!=typeof e)throw new Error("The 'index' argument cannot have type other than 'number' or 'string'. [".concat(n(e),"] given."));if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error("The passed-in 'index' (string) couldn't be converted to 'number'. [".concat(e,"] given."));e=t}const o=this;let l=e;l<0&&(l=0);const{params:c,snapGrid:d,slidesGrid:p,previousIndex:u,activeIndex:h,rtlTranslate:m,wrapperEl:f,enabled:g}=o;if(o.animating&&c.preventInteractionOnTransition||!g&&!i&&!r)return!1;const v=Math.min(o.params.slidesPerGroupSkip,l);let w=v+Math.floor((l-v)/o.params.slidesPerGroup);w>=d.length&&(w=d.length-1),(h||c.initialSlide||0)===(u||0)&&a&&o.emit("beforeSlideChangeStart");const x=-d[w];if(o.updateProgress(x),c.normalizeSlideIndex)for(let s=0;s<p.length;s+=1){const e=-Math.floor(100*x),t=Math.floor(100*p[s]),a=Math.floor(100*p[s+1]);void 0!==p[s+1]?e>=t&&e<a-(a-t)/2?l=s:e>=t&&e<a&&(l=s+1):e>=t&&(l=s)}if(o.initialized&&l!==h){if(!o.allowSlideNext&&x<o.translate&&x<o.minTranslate())return!1;if(!o.allowSlidePrev&&x>o.translate&&x>o.maxTranslate()&&(h||0)!==l)return!1}let y;if(y=l>h?"next":l<h?"prev":"reset",m&&-x===o.translate||!m&&x===o.translate)return o.updateActiveIndex(l),c.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),"slide"!==c.effect&&o.setTranslate(x),"reset"!==y&&(o.transitionStart(a,y),o.transitionEnd(a,y)),!1;if(c.cssMode){const e=o.isHorizontal(),a=m?x:-x;if(0===t){const t=o.virtual&&o.params.virtual.enabled;t&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),f[e?"scrollLeft":"scrollTop"]=a,t&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1})}else{var E;if(!o.support.smoothScroll)return b({swiper:o,targetPosition:a,side:e?"left":"top"}),!0;f.scrollTo((s(E={},e?"left":"top",a),s(E,"behavior","smooth"),E))}return!0}return o.setTransition(t),o.setTranslate(x),o.updateActiveIndex(l),o.updateSlidesClasses(),o.emit("beforeTransitionStart",t,i),o.transitionStart(a,y),0===t?o.transitionEnd(a,y):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(e){o&&!o.destroyed&&e.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(a,y))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e=0,t=this.params.speed,s=!0,a){const i=this;let n=e;return i.params.loop&&(n+=i.loopedSlides),i.slideTo(n,t,s,a)},slideNext:function(e=this.params.speed,t=!0,s){const a=this,{animating:i,enabled:n,params:r}=a;if(!n)return a;let o=r.slidesPerGroup;"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(o=Math.max(a.slidesPerViewDynamic("current",!0),1));const l=a.activeIndex<r.slidesPerGroupSkip?1:o;if(r.loop){if(i&&r.loopPreventsSlide)return!1;a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft}return r.rewind&&a.isEnd?a.slideTo(0,e,t,s):a.slideTo(a.activeIndex+l,e,t,s)},slidePrev:function(e=this.params.speed,t=!0,s){const a=this,{params:i,animating:n,snapGrid:r,slidesGrid:o,rtlTranslate:l,enabled:c}=a;if(!c)return a;if(i.loop){if(n&&i.loopPreventsSlide)return!1;a.loopFix(),a._clientLeft=a.$wrapperEl[0].clientLeft}function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const p=d(l?a.translate:-a.translate),u=r.map(e=>d(e));let h=r[u.indexOf(p)-1];if(void 0===h&&i.cssMode){let e;r.forEach((t,s)=>{p>=t&&(e=s)}),void 0!==e&&(h=r[e>0?e-1:e])}let m=0;return void 0!==h&&((m=o.indexOf(h))<0&&(m=a.activeIndex-1),"auto"===i.slidesPerView&&1===i.slidesPerGroup&&i.slidesPerGroupAuto&&(m=m-a.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),i.rewind&&a.isBeginning?a.slideTo(a.slides.length-1,e,t,s):a.slideTo(m,e,t,s)},slideReset:function(e=this.params.speed,t=!0,s){return this.slideTo(this.activeIndex,e,t,s)},slideToClosest:function(e=this.params.speed,t=!0,s,a=.5){const i=this;let n=i.activeIndex;const r=Math.min(i.params.slidesPerGroupSkip,n),o=r+Math.floor((n-r)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[o]){const e=i.snapGrid[o];l-e>(i.snapGrid[o+1]-e)*a&&(n+=i.params.slidesPerGroup)}else{const e=i.snapGrid[o-1];l-e<=(i.snapGrid[o]-e)*a&&(n-=i.params.slidesPerGroup)}return n=Math.max(n,0),n=Math.min(n,i.slidesGrid.length-1),i.slideTo(n,e,t,s)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:s}=e,a="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let i,n=e.clickedIndex;if(t.loop){if(e.animating)return;i=parseInt(p(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?n<e.loopedSlides-a/2||n>e.slides.length-e.loopedSlides+a/2?(e.loopFix(),n=s.children(".".concat(t.slideClass,'[data-swiper-slide-index="').concat(i,'"]:not(.').concat(t.slideDuplicateClass,")")).eq(0).index(),h(()=>{e.slideTo(n)})):e.slideTo(n):n>e.slides.length-a?(e.loopFix(),n=s.children(".".concat(t.slideClass,'[data-swiper-slide-index="').concat(i,'"]:not(.').concat(t.slideDuplicateClass,")")).eq(0).index(),h(()=>{e.slideTo(n)})):e.slideTo(n)}else e.slideTo(n)}},loop:{loopCreate:function(){const e=this,t=i(),{params:s,$wrapperEl:a}=e,n=a.children().length>0?p(a.children()[0].parentNode):a;n.children(".".concat(s.slideClass,".").concat(s.slideDuplicateClass)).remove();let r=n.children(".".concat(s.slideClass));if(s.loopFillGroupWithBlank){const e=s.slidesPerGroup-r.length%s.slidesPerGroup;if(e!==s.slidesPerGroup){for(let a=0;a<e;a+=1){const e=p(t.createElement("div")).addClass("".concat(s.slideClass," ").concat(s.slideBlankClass));n.append(e)}r=n.children(".".concat(s.slideClass))}}"auto"!==s.slidesPerView||s.loopedSlides||(s.loopedSlides=r.length),e.loopedSlides=Math.ceil(parseFloat(s.loopedSlides||s.slidesPerView,10)),e.loopedSlides+=s.loopAdditionalSlides,e.loopedSlides>r.length&&(e.loopedSlides=r.length);const o=[],l=[];r.each((t,s)=>{const a=p(t);s<e.loopedSlides&&l.push(t),s<r.length&&s>=r.length-e.loopedSlides&&o.push(t),a.attr("data-swiper-slide-index",s)});for(let i=0;i<l.length;i+=1)n.append(p(l[i].cloneNode(!0)).addClass(s.slideDuplicateClass));for(let i=o.length-1;i>=0;i-=1)n.prepend(p(o[i].cloneNode(!0)).addClass(s.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:s,loopedSlides:a,allowSlidePrev:i,allowSlideNext:n,snapGrid:r,rtlTranslate:o}=e;let l;e.allowSlidePrev=!0,e.allowSlideNext=!0;const c=-r[t]-e.getTranslate();t<a?(l=s.length-3*a+t,l+=a,e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((o?-e.translate:e.translate)-c)):t>=s.length-a&&(l=-s.length+t+a,l+=a,e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((o?-e.translate:e.translate)-c));e.allowSlidePrev=i,e.allowSlideNext=n,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:s}=this;e.children(".".concat(t.slideClass,".").concat(t.slideDuplicateClass,",.").concat(t.slideClass,".").concat(t.slideBlankClass)).remove(),s.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){if(this.support.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked||this.params.cssMode)return;const t="container"===this.params.touchEventsTarget?this.el:this.wrapperEl;t.style.cursor="move",t.style.cursor=e?"-webkit-grabbing":"-webkit-grab",t.style.cursor=e?"-moz-grabbin":"-moz-grab",t.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){this.support.touch||this.params.watchOverflow&&this.isLocked||this.params.cssMode||(this["container"===this.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function(){const e=this,t=i(),{params:s,support:a}=e;e.onTouchStart=$.bind(e),e.onTouchMove=function(e){const t=i(),s=this,a=s.touchEventsData,{params:n,touches:r,rtlTranslate:o,enabled:l}=s;if(!l)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),!a.isTouched)return void(a.startMoving&&a.isScrolling&&s.emit("touchMoveOpposite",c));if(a.isTouchEvent&&"touchmove"!==c.type)return;const d="touchmove"===c.type&&c.targetTouches&&(c.targetTouches[0]||c.changedTouches[0]),u="touchmove"===c.type?d.pageX:c.pageX,h="touchmove"===c.type?d.pageY:c.pageY;if(c.preventedByNestedSwiper)return r.startX=u,void(r.startY=h);if(!s.allowTouchMove)return s.allowClick=!1,void(a.isTouched&&(Object.assign(r,{startX:u,startY:h,currentX:u,currentY:h}),a.touchStartTime=m()));if(a.isTouchEvent&&n.touchReleaseOnEdges&&!n.loop)if(s.isVertical()){if(h<r.startY&&s.translate<=s.maxTranslate()||h>r.startY&&s.translate>=s.minTranslate())return a.isTouched=!1,void(a.isMoved=!1)}else if(u<r.startX&&s.translate<=s.maxTranslate()||u>r.startX&&s.translate>=s.minTranslate())return;if(a.isTouchEvent&&t.activeElement&&c.target===t.activeElement&&p(c.target).is(a.focusableElements))return a.isMoved=!0,void(s.allowClick=!1);if(a.allowTouchCallbacks&&s.emit("touchMove",c),c.targetTouches&&c.targetTouches.length>1)return;r.currentX=u,r.currentY=h;const f=r.currentX-r.startX,g=r.currentY-r.startY;if(s.params.threshold&&Math.sqrt(f**2+g**2)<s.params.threshold)return;if(void 0===a.isScrolling){let e;s.isHorizontal()&&r.currentY===r.startY||s.isVertical()&&r.currentX===r.startX?a.isScrolling=!1:f*f+g*g>=25&&(e=180*Math.atan2(Math.abs(g),Math.abs(f))/Math.PI,a.isScrolling=s.isHorizontal()?e>n.touchAngle:90-e>n.touchAngle)}if(a.isScrolling&&s.emit("touchMoveOpposite",c),void 0===a.startMoving&&(r.currentX===r.startX&&r.currentY===r.startY||(a.startMoving=!0)),a.isScrolling)return void(a.isTouched=!1);if(!a.startMoving)return;s.allowClick=!1,!n.cssMode&&c.cancelable&&c.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&c.stopPropagation(),a.isMoved||(n.loop&&!n.cssMode&&s.loopFix(),a.startTranslate=s.getTranslate(),s.setTransition(0),s.animating&&s.$wrapperEl.trigger("webkitTransitionEnd transitionend"),a.allowMomentumBounce=!1,!n.grabCursor||!0!==s.allowSlideNext&&!0!==s.allowSlidePrev||s.setGrabCursor(!0),s.emit("sliderFirstMove",c)),s.emit("sliderMove",c),a.isMoved=!0;let v=s.isHorizontal()?f:g;r.diff=v,v*=n.touchRatio,o&&(v=-v),s.swipeDirection=v>0?"prev":"next",a.currentTranslate=v+a.startTranslate;let w=!0,b=n.resistanceRatio;if(n.touchReleaseOnEdges&&(b=0),v>0&&a.currentTranslate>s.minTranslate()?(w=!1,n.resistance&&(a.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+a.startTranslate+v)**b)):v<0&&a.currentTranslate<s.maxTranslate()&&(w=!1,n.resistance&&(a.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-a.startTranslate-v)**b)),w&&(c.preventedByNestedSwiper=!0),!s.allowSlideNext&&"next"===s.swipeDirection&&a.currentTranslate<a.startTranslate&&(a.currentTranslate=a.startTranslate),!s.allowSlidePrev&&"prev"===s.swipeDirection&&a.currentTranslate>a.startTranslate&&(a.currentTranslate=a.startTranslate),s.allowSlidePrev||s.allowSlideNext||(a.currentTranslate=a.startTranslate),n.threshold>0){if(!(Math.abs(v)>n.threshold||a.allowThresholdMove))return void(a.currentTranslate=a.startTranslate);if(!a.allowThresholdMove)return a.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,a.currentTranslate=a.startTranslate,void(r.diff=s.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY)}n.followFinger&&!n.cssMode&&((n.freeMode&&n.freeMode.enabled&&s.freeMode||n.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),s.params.freeMode&&n.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(a.currentTranslate),s.setTranslate(a.currentTranslate))}.bind(e),e.onTouchEnd=function(e){const t=this,s=t.touchEventsData,{params:a,touches:i,rtlTranslate:n,slidesGrid:r,enabled:o}=t;if(!o)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),s.allowTouchCallbacks&&t.emit("touchEnd",l),s.allowTouchCallbacks=!1,!s.isTouched)return s.isMoved&&a.grabCursor&&t.setGrabCursor(!1),s.isMoved=!1,void(s.startMoving=!1);a.grabCursor&&s.isMoved&&s.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const c=m(),d=c-s.touchStartTime;if(t.allowClick){const e=l.path||l.composedPath&&l.composedPath();t.updateClickedSlide(e&&e[0]||l.target),t.emit("tap click",l),d<300&&c-s.lastClickTime<300&&t.emit("doubleTap doubleClick",l)}if(s.lastClickTime=m(),h(()=>{t.destroyed||(t.allowClick=!0)}),!s.isTouched||!s.isMoved||!t.swipeDirection||0===i.diff||s.currentTranslate===s.startTranslate)return s.isTouched=!1,s.isMoved=!1,void(s.startMoving=!1);let p;if(s.isTouched=!1,s.isMoved=!1,s.startMoving=!1,p=a.followFinger?n?t.translate:-t.translate:-s.currentTranslate,a.cssMode)return;if(t.params.freeMode&&a.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:p});let u=0,f=t.slidesSizesGrid[0];for(let h=0;h<r.length;h+=h<a.slidesPerGroupSkip?1:a.slidesPerGroup){const e=h<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;void 0!==r[h+e]?p>=r[h]&&p<r[h+e]&&(u=h,f=r[h+e]-r[h]):p>=r[h]&&(u=h,f=r[r.length-1]-r[r.length-2])}const g=(p-r[u])/f,v=u<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(d>a.longSwipesMs){if(!a.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(g>=a.longSwipesRatio?t.slideTo(u+v):t.slideTo(u)),"prev"===t.swipeDirection&&(g>1-a.longSwipesRatio?t.slideTo(u+v):t.slideTo(u))}else{if(!a.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||l.target!==t.navigation.nextEl&&l.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(u+v),"prev"===t.swipeDirection&&t.slideTo(u)):l.target===t.navigation.nextEl?t.slideTo(u+v):t.slideTo(u)}}.bind(e),s.cssMode&&(e.onScroll=function(){const e=this,{wrapperEl:t,rtlTranslate:s,enabled:a}=e;if(!a)return;let i;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const n=e.maxTranslate()-e.minTranslate();(i=0===n?0:(e.translate-e.minTranslate())/n)!==e.progress&&e.updateProgress(s?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}.bind(e)),e.onClick=function(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}.bind(e),a.touch&&!z&&(t.addEventListener("touchstart",O),z=!0),I(e,"on")},detachEvents:function(){I(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{activeIndex:t,initialized:s,loopedSlides:a=0,params:i,$el:n}=e,r=i.breakpoints;if(!r||r&&0===Object.keys(r).length)return;const o=e.getBreakpoint(r,e.params.breakpointsBase,e.el);if(!o||e.currentBreakpoint===o)return;const l=(o in r?r[o]:void 0)||e.originalParams,c=L(e,i),d=L(e,l),p=i.enabled;c&&!d?(n.removeClass("".concat(i.containerModifierClass,"grid ").concat(i.containerModifierClass,"grid-column")),e.emitContainerClasses()):!c&&d&&(n.addClass("".concat(i.containerModifierClass,"grid")),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===i.grid.fill)&&n.addClass("".concat(i.containerModifierClass,"grid-column")),e.emitContainerClasses());const u=l.direction&&l.direction!==i.direction,h=i.loop&&(l.slidesPerView!==i.slidesPerView||u);u&&s&&e.changeDirection(),v(e.params,l);const m=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),p&&!m?e.disable():!p&&m&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",l),h&&s&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-a+e.loopedSlides,0,!1)),e.emit("breakpoint",l)},getBreakpoint:function(e,t="window",s){if(!e||"container"===t&&!s)return;let a=!1;const i=o(),n="window"===t?i.innerHeight:s.clientHeight,r=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:n*t,point:e}}return{value:e,point:e}});r.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let o=0;o<r.length;o+=1){const{point:e,value:n}=r[o];"window"===t?i.matchMedia("(min-width: ".concat(n,"px)")).matches&&(a=e):n<=s.clientWidth&&(a=e)}return a||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:s}=e,{slidesOffsetBefore:a}=s;if(a){const t=e.slides.length-1,s=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*a;e.isLocked=e.size>s}else e.isLocked=1===e.snapGrid.length;!0===s.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===s.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const{classNames:e,params:t,rtl:s,$el:a,device:i,support:r}=this,o=function(e,t){const s=[];return e.forEach(e=>{"object"===n(e)?Object.keys(e).forEach(a=>{e[a]&&s.push(t+a)}):"string"==typeof e&&s.push(t+e)}),s}(["initialized",t.direction,{"pointer-events":!r.touch},{"free-mode":this.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:s},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&"column"===t.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides}],t.containerModifierClass);e.push(...o),a.addClass([...e].join(" ")),this.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(e,t,s,a,i,n){const r=o();let l;function c(){n&&n()}p(e).parent("picture")[0]||e.complete&&i?c():t?((l=new r.Image).onload=c,l.onerror=c,a&&(l.sizes=a),s&&(l.srcset=s),t&&(l.src=t)):c()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let s=0;s<e.imagesToLoad.length;s+=1){const a=e.imagesToLoad[s];e.loadImage(a,a.currentSrc||a.getAttribute("src"),a.srcset||a.getAttribute("srcset"),a.sizes||a.getAttribute("sizes"),!0,t)}}}},N={};class B{constructor(...e){let t,s;if(1===e.length&&e[0].constructor&&"Object"===Object.prototype.toString.call(e[0]).slice(8,-1)?s=e[0]:[t,s]=e,s||(s={}),s=v({},s),t&&!s.el&&(s.el=t),s.el&&p(s.el).length>1){const e=[];return p(s.el).each(t=>{const a=v({},s,{el:t});e.push(new B(a))}),e}const a=this;a.__swiper__=!0,a.support=T(),a.device=C({userAgent:s.userAgent}),a.browser=S(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],s.modules&&Array.isArray(s.modules)&&a.modules.push(...s.modules);const i={};a.modules.forEach(e=>{e({swiper:a,extendParams:D(s,i),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const n=v({},A,i);return a.params=v({},n,N,s),a.originalParams=v({},a.params),a.passedParams=v({},s),a.params&&a.params.on&&Object.keys(a.params.on).forEach(e=>{a.on(e,a.params.on[e])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),a.$=p,Object.assign(a,{enabled:a.params.enabled,el:t,classNames:[],slides:p(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===a.params.direction},isVertical:function(){return"vertical"===a.params.direction},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return a.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},a.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},a.support.touch||!a.params.simulateTouch?a.touchEventsTouch:a.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:m(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){e=Math.min(Math.max(e,0),1);const s=this.minTranslate(),a=(this.maxTranslate()-s)*e+s;this.translateTo(a,void 0===t?0:t),this.updateActiveIndex(),this.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each(s=>{const a=e.getSlideClasses(s);t.push({slideEl:s,classNames:a}),e.emit("_slideClass",s,a)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const{params:s,slides:a,slidesGrid:i,slidesSizesGrid:n,size:r,activeIndex:o}=this;let l=1;if(s.centeredSlides){let e,t=a[o].swiperSlideSize;for(let s=o+1;s<a.length;s+=1)a[s]&&!e&&(l+=1,(t+=a[s].swiperSlideSize)>r&&(e=!0));for(let s=o-1;s>=0;s-=1)a[s]&&!e&&(l+=1,(t+=a[s].swiperSlideSize)>r&&(e=!0))}else if("current"===e)for(let c=o+1;c<a.length;c+=1){(t?i[c]+n[c]-i[o]<r:i[c]-i[o]<r)&&(l+=1)}else for(let c=o-1;c>=0;c-=1){i[o]-i[c]<r&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:s}=e;function a(){const t=e.rtlTranslate?-1*e.translate:e.translate,s=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(s),e.updateActiveIndex(),e.updateSlidesClasses()}let i;s.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(a(),e.params.autoHeight&&e.updateAutoHeight()):(i=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||a(),s.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const s=this,a=s.params.direction;return e||(e="horizontal"===a?"vertical":"horizontal"),e===a||"horizontal"!==e&&"vertical"!==e?s:(s.$el.removeClass("".concat(s.params.containerModifierClass).concat(a)).addClass("".concat(s.params.containerModifierClass).concat(e)),s.emitContainerClasses(),s.params.direction=e,s.slides.each(t=>{"vertical"===e?t.style.width="":t.style.height=""}),s.emit("changeDirection"),t&&s.update(),s)}mount(e){const t=this;if(t.mounted)return!0;const s=p(e||t.params.el);if(!(e=s[0]))return!1;e.swiper=t;const a=()=>".".concat((t.params.wrapperClass||"").trim().split(" ").join("."));let n=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=p(e.shadowRoot.querySelector(a()));return t.children=(e=>s.children(e)),t}return s.children(a())})();if(0===n.length&&t.params.createElements){const e=i().createElement("div");n=p(e),e.className=t.params.wrapperClass,s.append(e),s.children(".".concat(t.params.slideClass)).each(e=>{n.append(e)})}return Object.assign(t,{$el:s,el:e,$wrapperEl:n,wrapperEl:n[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===s.css("direction")),wrongRTL:"-webkit-box"===n.css("display")}),!0}init(e){const t=this;return t.initialized?t:!1===t.mount(e)?t:(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit"),t)}destroy(e=!0,t=!0){const s=this,{params:a,$el:i,$wrapperEl:n,slides:r}=s;return void 0===s.params||s.destroyed?null:(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),a.loop&&s.loopDestroy(),t&&(s.removeClasses(),i.removeAttr("style"),n.removeAttr("style"),r&&r.length&&r.removeClass([a.slideVisibleClass,a.slideActiveClass,a.slideNextClass,a.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(e=>{s.off(e)}),!1!==e&&(s.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach(e=>{try{t[e]=null}catch(s){}try{delete t[e]}catch(s){}})}(s)),s.destroyed=!0,null)}static extendDefaults(e){v(N,e)}static get extendedDefaults(){return N}static get defaults(){return A}static installModule(e){B.prototype.__modules__||(B.prototype.__modules__=[]);const t=B.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(e=>B.installModule(e)),B):(B.installModule(e),B)}}function X(e,t,s,a){const n=i();return e.params.createElements&&Object.keys(a).forEach(i=>{if(!s[i]&&!0===s.auto){let r=e.$el.children(".".concat(a[i]))[0];r||((r=n.createElement("div")).className=a[i],e.$el.append(r)),s[i]=r,t[i]=r}}),s}function H(e=""){return".".concat(e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,"."))}function Y(e){const t=this,{$wrapperEl:s,params:a}=t;if(a.loop&&t.loopDestroy(),"object"===n(e)&&"length"in e)for(let i=0;i<e.length;i+=1)e[i]&&s.append(e[i]);else s.append(e);a.loop&&t.loopCreate(),a.observer||t.update()}function j(e){const t=this,{params:s,$wrapperEl:a,activeIndex:i}=t;s.loop&&t.loopDestroy();let r=i+1;if("object"===n(e)&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&a.prepend(e[t]);r=i+e.length}else a.prepend(e);s.loop&&t.loopCreate(),s.observer||t.update(),t.slideTo(r,0,!1)}function W(e,t){const s=this,{$wrapperEl:a,params:i,activeIndex:r}=s;let o=r;i.loop&&(o-=s.loopedSlides,s.loopDestroy(),s.slides=a.children(".".concat(i.slideClass)));const l=s.slides.length;if(e<=0)return void s.prependSlide(t);if(e>=l)return void s.appendSlide(t);let c=o>e?o+1:o;const d=[];for(let n=l-1;n>=e;n-=1){const e=s.slides.eq(n);e.remove(),d.unshift(e)}if("object"===n(t)&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&a.append(t[e]);c=o>e?o+t.length:o}else a.append(t);for(let n=0;n<d.length;n+=1)a.append(d[n]);i.loop&&s.loopCreate(),i.observer||s.update(),i.loop?s.slideTo(c+s.loopedSlides,0,!1):s.slideTo(c,0,!1)}function R(e){const t=this,{params:s,$wrapperEl:a,activeIndex:i}=t;let r=i;s.loop&&(r-=t.loopedSlides,t.loopDestroy(),t.slides=a.children(".".concat(s.slideClass)));let o,l=r;if("object"===n(e)&&"length"in e){for(let s=0;s<e.length;s+=1)o=e[s],t.slides[o]&&t.slides.eq(o).remove(),o<l&&(l-=1);l=Math.max(l,0)}else o=e,t.slides[o]&&t.slides.eq(o).remove(),o<l&&(l-=1),l=Math.max(l,0);s.loop&&t.loopCreate(),s.observer||t.update(),s.loop?t.slideTo(l+t.loopedSlides,0,!1):t.slideTo(l,0,!1)}function _(){const e=this,t=[];for(let s=0;s<e.slides.length;s+=1)t.push(s);e.removeSlide(t)}function V(e){const{effect:t,swiper:s,on:a,setTranslate:i,setTransition:n,overwriteParams:r,perspective:o}=e;a("beforeInit",()=>{if(s.params.effect!==t)return;s.classNames.push("".concat(s.params.containerModifierClass).concat(t)),o&&o()&&s.classNames.push("".concat(s.params.containerModifierClass,"3d"));const e=r?r():{};Object.assign(s.params,e),Object.assign(s.originalParams,e)}),a("setTranslate",()=>{s.params.effect===t&&i()}),a("setTransition",(e,a)=>{s.params.effect===t&&n(a)})}function q(e,t){return e.transformEl?t.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):t}function F({swiper:e,duration:t,transformEl:s,allSlides:a}){const{slides:i,activeIndex:n,$wrapperEl:r}=e;if(e.params.virtualTranslate&&0!==t){let t,o=!1;(t=a?s?i.find(s):i:s?i.eq(n).find(s):i.eq(n)).transitionEnd(()=>{if(o)return;if(!e||e.destroyed)return;o=!0,e.animating=!1;const t=["webkitTransitionEnd","transitionend"];for(let e=0;e<t.length;e+=1)r.trigger(t[e])})}}function U(e,t,s){const a="swiper-slide-shadow".concat(s?"-".concat(s):""),i=e.transformEl?t.find(e.transformEl):t;let n=i.children(".".concat(a));return n.length||(n=p('<div class="swiper-slide-shadow'.concat(s?"-".concat(s):"",'"></div>')),i.append(n)),n}Object.keys(G).forEach(e=>{Object.keys(G[e]).forEach(t=>{B.prototype[t]=G[e][t]})}),B.use([function({swiper:e,on:t,emit:s}){const a=o();let i=null;const n=()=>{e&&!e.destroyed&&e.initialized&&(s("beforeResize"),s("resize"))},r=()=>{e&&!e.destroyed&&e.initialized&&s("orientationchange")};t("init",()=>{e.params.resizeObserver&&void 0!==a.ResizeObserver?e&&!e.destroyed&&e.initialized&&(i=new ResizeObserver(t=>{const{width:s,height:a}=e;let i=s,r=a;t.forEach(({contentBoxSize:t,contentRect:s,target:a})=>{a&&a!==e.el||(i=s?s.width:(t[0]||t).inlineSize,r=s?s.height:(t[0]||t).blockSize)}),i===s&&r===a||n()})).observe(e.el):(a.addEventListener("resize",n),a.addEventListener("orientationchange",r))}),t("destroy",()=>{i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null),a.removeEventListener("resize",n),a.removeEventListener("orientationchange",r)})},function({swiper:e,extendParams:t,on:s,emit:a}){const i=[],n=o(),r=(e,t={})=>{const s=new(n.MutationObserver||n.WebkitMutationObserver)(e=>{if(1===e.length)return void a("observerUpdate",e[0]);const t=function(){a("observerUpdate",e[0])};n.requestAnimationFrame?n.requestAnimationFrame(t):n.setTimeout(t,0)});s.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),i.push(s)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",()=>{if(e.params.observer){if(e.params.observeParents){const t=e.$el.parents();for(let e=0;e<t.length;e+=1)r(t[e])}r(e.$el[0],{childList:e.params.observeSlideChildren}),r(e.$wrapperEl[0],{attributes:!1})}}),s("destroy",()=>{i.forEach(e=>{e.disconnect()}),i.splice(0,i.length)})}]);const K=[function({swiper:e,extendParams:t,on:s}){let a;function i(t,s){const a=e.params.virtual;if(a.cache&&e.virtual.cache[s])return e.virtual.cache[s];const i=a.renderSlide?p(a.renderSlide.call(e,t,s)):p('<div class="'.concat(e.params.slideClass,'" data-swiper-slide-index="').concat(s,'">').concat(t,"</div>"));return i.attr("data-swiper-slide-index")||i.attr("data-swiper-slide-index",s),a.cache&&(e.virtual.cache[s]=i),i}function r(t){const{slidesPerView:s,slidesPerGroup:a,centeredSlides:n}=e.params,{addSlidesBefore:r,addSlidesAfter:o}=e.params.virtual,{from:l,to:c,slides:d,slidesGrid:p,offset:u}=e.virtual;e.params.cssMode||e.updateActiveIndex();const h=e.activeIndex||0;let m,f,g;m=e.rtlTranslate?"right":e.isHorizontal()?"left":"top",n?(f=Math.floor(s/2)+a+o,g=Math.floor(s/2)+a+r):(f=s+(a-1)+o,g=a+r);const v=Math.max((h||0)-g,0),w=Math.min((h||0)+f,d.length-1),b=(e.slidesGrid[v]||0)-(e.slidesGrid[0]||0);function x(){e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load()}if(Object.assign(e.virtual,{from:v,to:w,offset:b,slidesGrid:e.slidesGrid}),l===v&&c===w&&!t)return e.slidesGrid!==p&&b!==u&&e.slides.css(m,"".concat(b,"px")),void e.updateProgress();if(e.params.virtual.renderExternal)return e.params.virtual.renderExternal.call(e,{offset:b,from:v,to:w,slides:function(){const e=[];for(let t=v;t<=w;t+=1)e.push(d[t]);return e}()}),void(e.params.virtual.renderExternalUpdate&&x());const y=[],E=[];if(t)e.$wrapperEl.find(".".concat(e.params.slideClass)).remove();else for(let i=l;i<=c;i+=1)(i<v||i>w)&&e.$wrapperEl.find(".".concat(e.params.slideClass,'[data-swiper-slide-index="').concat(i,'"]')).remove();for(let e=0;e<d.length;e+=1)e>=v&&e<=w&&(void 0===c||t?E.push(e):(e>c&&E.push(e),e<l&&y.push(e)));E.forEach(t=>{e.$wrapperEl.append(i(d[t],t))}),y.sort((e,t)=>t-e).forEach(t=>{e.$wrapperEl.prepend(i(d[t],t))}),e.$wrapperEl.children(".swiper-slide").css(m,"".concat(b,"px")),x()}t({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}}),e.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]},s("beforeInit",()=>{e.params.virtual.enabled&&(e.virtual.slides=e.params.virtual.slides,e.classNames.push("".concat(e.params.containerModifierClass,"virtual")),e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0,e.params.initialSlide||r())}),s("setTranslate",()=>{e.params.virtual.enabled&&(e.params.cssMode&&!e._immediateVirtual?(clearTimeout(a),a=setTimeout(()=>{r()},100)):r())}),s("init update resize",()=>{e.params.virtual.enabled&&e.params.cssMode&&w(e.wrapperEl,"--swiper-virtual-size","".concat(e.virtualSize,"px"))}),Object.assign(e.virtual,{appendSlide:function(t){if("object"===n(t)&&"length"in t)for(let s=0;s<t.length;s+=1)t[s]&&e.virtual.slides.push(t[s]);else e.virtual.slides.push(t);r(!0)},prependSlide:function(t){const s=e.activeIndex;let a=s+1,i=1;if(Array.isArray(t)){for(let s=0;s<t.length;s+=1)t[s]&&e.virtual.slides.unshift(t[s]);a=s+t.length,i=t.length}else e.virtual.slides.unshift(t);if(e.params.virtual.cache){const t=e.virtual.cache,s={};Object.keys(t).forEach(e=>{const a=t[e],n=a.attr("data-swiper-slide-index");n&&a.attr("data-swiper-slide-index",parseInt(n,10)+i),s[parseInt(e,10)+i]=a}),e.virtual.cache=s}r(!0),e.slideTo(a,0)},removeSlide:function(t){if(null==t)return;let s=e.activeIndex;if(Array.isArray(t))for(let a=t.length-1;a>=0;a-=1)e.virtual.slides.splice(t[a],1),e.params.virtual.cache&&delete e.virtual.cache[t[a]],t[a]<s&&(s-=1),s=Math.max(s,0);else e.virtual.slides.splice(t,1),e.params.virtual.cache&&delete e.virtual.cache[t],t<s&&(s-=1),s=Math.max(s,0);r(!0),e.slideTo(s,0)},removeAllSlides:function(){e.virtual.slides=[],e.params.virtual.cache&&(e.virtual.cache={}),r(!0),e.slideTo(0,0)},update:r})},function({swiper:e,extendParams:t,on:s,emit:a}){const n=i(),r=o();function l(t){if(!e.enabled)return;const{rtlTranslate:s}=e;let i=t;i.originalEvent&&(i=i.originalEvent);const o=i.keyCode||i.charCode,l=e.params.keyboard.pageUpDown,c=l&&33===o,d=l&&34===o,p=37===o,u=39===o,h=38===o,m=40===o;if(!e.allowSlideNext&&(e.isHorizontal()&&u||e.isVertical()&&m||d))return!1;if(!e.allowSlidePrev&&(e.isHorizontal()&&p||e.isVertical()&&h||c))return!1;if(!(i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||n.activeElement&&n.activeElement.nodeName&&("input"===n.activeElement.nodeName.toLowerCase()||"textarea"===n.activeElement.nodeName.toLowerCase()))){if(e.params.keyboard.onlyInViewport&&(c||d||p||u||h||m)){let t=!1;if(e.$el.parents(".".concat(e.params.slideClass)).length>0&&0===e.$el.parents(".".concat(e.params.slideActiveClass)).length)return;const a=e.$el,i=a[0].clientWidth,n=a[0].clientHeight,o=r.innerWidth,l=r.innerHeight,c=e.$el.offset();s&&(c.left-=e.$el[0].scrollLeft);const d=[[c.left,c.top],[c.left+i,c.top],[c.left,c.top+n],[c.left+i,c.top+n]];for(let e=0;e<d.length;e+=1){const s=d[e];if(s[0]>=0&&s[0]<=o&&s[1]>=0&&s[1]<=l){if(0===s[0]&&0===s[1])continue;t=!0}}if(!t)return}e.isHorizontal()?((c||d||p||u)&&(i.preventDefault?i.preventDefault():i.returnValue=!1),((d||u)&&!s||(c||p)&&s)&&e.slideNext(),((c||p)&&!s||(d||u)&&s)&&e.slidePrev()):((c||d||h||m)&&(i.preventDefault?i.preventDefault():i.returnValue=!1),(d||m)&&e.slideNext(),(c||h)&&e.slidePrev()),a("keyPress",o)}}function c(){e.keyboard.enabled||(p(n).on("keydown",l),e.keyboard.enabled=!0)}function d(){e.keyboard.enabled&&(p(n).off("keydown",l),e.keyboard.enabled=!1)}e.keyboard={enabled:!1},t({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),s("init",()=>{e.params.keyboard.enabled&&c()}),s("destroy",()=>{e.keyboard.enabled&&d()}),Object.assign(e.keyboard,{enable:c,disable:d})},function({swiper:e,extendParams:t,on:s,emit:a}){const i=o();let n;t({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),e.mousewheel={enabled:!1};let r,l=m();const c=[];function d(){e.enabled&&(e.mouseEntered=!0)}function u(){e.enabled&&(e.mouseEntered=!1)}function f(t){return!(e.params.mousewheel.thresholdDelta&&t.delta<e.params.mousewheel.thresholdDelta||e.params.mousewheel.thresholdTime&&m()-l<e.params.mousewheel.thresholdTime||!(t.delta>=6&&m()-l<60)&&(t.direction<0?e.isEnd&&!e.params.loop||e.animating||(e.slideNext(),a("scroll",t.raw)):e.isBeginning&&!e.params.loop||e.animating||(e.slidePrev(),a("scroll",t.raw)),l=(new i.Date).getTime(),1))}function g(t){let s=t,i=!0;if(!e.enabled)return;const o=e.params.mousewheel;e.params.cssMode&&s.preventDefault();let l=e.$el;if("container"!==e.params.mousewheel.eventsTarget&&(l=p(e.params.mousewheel.eventsTarget)),!e.mouseEntered&&!l[0].contains(s.target)&&!o.releaseOnEdges)return!0;s.originalEvent&&(s=s.originalEvent);let d=0;const u=e.rtlTranslate?-1:1,g=function(e){let t=0,s=0,a=0,i=0;return"detail"in e&&(s=e.detail),"wheelDelta"in e&&(s=-e.wheelDelta/120),"wheelDeltaY"in e&&(s=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=s,s=0),a=10*t,i=10*s,"deltaY"in e&&(i=e.deltaY),"deltaX"in e&&(a=e.deltaX),e.shiftKey&&!a&&(a=i,i=0),(a||i)&&e.deltaMode&&(1===e.deltaMode?(a*=40,i*=40):(a*=800,i*=800)),a&&!t&&(t=a<1?-1:1),i&&!s&&(s=i<1?-1:1),{spinX:t,spinY:s,pixelX:a,pixelY:i}}(s);if(o.forceToAxis)if(e.isHorizontal()){if(!(Math.abs(g.pixelX)>Math.abs(g.pixelY)))return!0;d=-g.pixelX*u}else{if(!(Math.abs(g.pixelY)>Math.abs(g.pixelX)))return!0;d=-g.pixelY}else d=Math.abs(g.pixelX)>Math.abs(g.pixelY)?-g.pixelX*u:-g.pixelY;if(0===d)return!0;o.invert&&(d=-d);let v=e.getTranslate()+d*o.sensitivity;if(v>=e.minTranslate()&&(v=e.minTranslate()),v<=e.maxTranslate()&&(v=e.maxTranslate()),(i=!!e.params.loop||!(v===e.minTranslate()||v===e.maxTranslate()))&&e.params.nested&&s.stopPropagation(),e.params.freeMode&&e.params.freeMode.enabled){const t={time:m(),delta:Math.abs(d),direction:Math.sign(d)},i=r&&t.time<r.time+500&&t.delta<=r.delta&&t.direction===r.direction;if(!i){r=void 0,e.params.loop&&e.loopFix();let l=e.getTranslate()+d*o.sensitivity;const p=e.isBeginning,u=e.isEnd;if(l>=e.minTranslate()&&(l=e.minTranslate()),l<=e.maxTranslate()&&(l=e.maxTranslate()),e.setTransition(0),e.setTranslate(l),e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses(),(!p&&e.isBeginning||!u&&e.isEnd)&&e.updateSlidesClasses(),e.params.freeMode.sticky){clearTimeout(n),n=void 0,c.length>=15&&c.shift();const s=c.length?c[c.length-1]:void 0,a=c[0];if(c.push(t),s&&(t.delta>s.delta||t.direction!==s.direction))c.splice(0);else if(c.length>=15&&t.time-a.time<500&&a.delta-t.delta>=1&&t.delta<=6){const s=d>0?.8:.2;r=t,c.splice(0),n=h(()=>{e.slideToClosest(e.params.speed,!0,void 0,s)},0)}n||(n=h(()=>{r=t,c.splice(0),e.slideToClosest(e.params.speed,!0,void 0,.5)},500))}if(i||a("scroll",s),e.params.autoplay&&e.params.autoplayDisableOnInteraction&&e.autoplay.stop(),l===e.minTranslate()||l===e.maxTranslate())return!0}}else{const s={time:m(),delta:Math.abs(d),direction:Math.sign(d),raw:t};c.length>=2&&c.shift();const a=c.length?c[c.length-1]:void 0;if(c.push(s),a?(s.direction!==a.direction||s.delta>a.delta||s.time>a.time+150)&&f(s):f(s),function(t){const s=e.params.mousewheel;if(t.direction<0){if(e.isEnd&&!e.params.loop&&s.releaseOnEdges)return!0}else if(e.isBeginning&&!e.params.loop&&s.releaseOnEdges)return!0;return!1}(s))return!0}return s.preventDefault?s.preventDefault():s.returnValue=!1,!1}function v(t){let s=e.$el;"container"!==e.params.mousewheel.eventsTarget&&(s=p(e.params.mousewheel.eventsTarget)),s[t]("mouseenter",d),s[t]("mouseleave",u),s[t]("wheel",g)}function w(){return e.params.cssMode?(e.wrapperEl.removeEventListener("wheel",g),!0):!e.mousewheel.enabled&&(v("on"),e.mousewheel.enabled=!0,!0)}function b(){return e.params.cssMode?(e.wrapperEl.addEventListener(event,g),!0):!!e.mousewheel.enabled&&(v("off"),e.mousewheel.enabled=!1,!0)}s("init",()=>{!e.params.mousewheel.enabled&&e.params.cssMode&&b(),e.params.mousewheel.enabled&&w()}),s("destroy",()=>{e.params.cssMode&&w(),e.mousewheel.enabled&&b()}),Object.assign(e.mousewheel,{enable:w,disable:b})},function({swiper:e,extendParams:t,on:s,emit:a}){function i(t){let s;return t&&(s=p(t),e.params.uniqueNavElements&&"string"==typeof t&&s.length>1&&1===e.$el.find(t).length&&(s=e.$el.find(t))),s}function n(t,s){const a=e.params.navigation;t&&t.length>0&&(t[s?"addClass":"removeClass"](a.disabledClass),t[0]&&"BUTTON"===t[0].tagName&&(t[0].disabled=s),e.params.watchOverflow&&e.enabled&&t[e.isLocked?"addClass":"removeClass"](a.lockClass))}function r(){if(e.params.loop)return;const{$nextEl:t,$prevEl:s}=e.navigation;n(s,e.isBeginning&&!e.params.rewind),n(t,e.isEnd&&!e.params.rewind)}function o(t){t.preventDefault(),(!e.isBeginning||e.params.loop||e.params.rewind)&&e.slidePrev()}function l(t){t.preventDefault(),(!e.isEnd||e.params.loop||e.params.rewind)&&e.slideNext()}function c(){const t=e.params.navigation;if(e.params.navigation=X(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!t.nextEl&&!t.prevEl)return;const s=i(t.nextEl),a=i(t.prevEl);s&&s.length>0&&s.on("click",l),a&&a.length>0&&a.on("click",o),Object.assign(e.navigation,{$nextEl:s,nextEl:s&&s[0],$prevEl:a,prevEl:a&&a[0]}),e.enabled||(s&&s.addClass(t.lockClass),a&&a.addClass(t.lockClass))}function d(){const{$nextEl:t,$prevEl:s}=e.navigation;t&&t.length&&(t.off("click",l),t.removeClass(e.params.navigation.disabledClass)),s&&s.length&&(s.off("click",o),s.removeClass(e.params.navigation.disabledClass))}t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},s("init",()=>{c(),r()}),s("toEdge fromEdge lock unlock",()=>{r()}),s("destroy",()=>{d()}),s("enable disable",()=>{const{$nextEl:t,$prevEl:s}=e.navigation;t&&t[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),s&&s[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)}),s("click",(t,s)=>{const{$nextEl:i,$prevEl:n}=e.navigation,r=s.target;if(e.params.navigation.hideOnClick&&!p(r).is(n)&&!p(r).is(i)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===r||e.pagination.el.contains(r)))return;let t;i?t=i.hasClass(e.params.navigation.hiddenClass):n&&(t=n.hasClass(e.params.navigation.hiddenClass)),a(!0===t?"navigationShow":"navigationHide"),i&&i.toggleClass(e.params.navigation.hiddenClass),n&&n.toggleClass(e.params.navigation.hiddenClass)}}),Object.assign(e.navigation,{update:r,init:c,destroy:d})},function({swiper:e,extendParams:t,on:s,emit:a}){const i="swiper-pagination";let n;t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:"".concat(i,"-bullet"),bulletActiveClass:"".concat(i,"-bullet-active"),modifierClass:"".concat(i,"-"),currentClass:"".concat(i,"-current"),totalClass:"".concat(i,"-total"),hiddenClass:"".concat(i,"-hidden"),progressbarFillClass:"".concat(i,"-progressbar-fill"),progressbarOppositeClass:"".concat(i,"-progressbar-opposite"),clickableClass:"".concat(i,"-clickable"),lockClass:"".concat(i,"-lock"),horizontalClass:"".concat(i,"-horizontal"),verticalClass:"".concat(i,"-vertical")}}),e.pagination={el:null,$el:null,bullets:[]};let r=0;function o(){return!e.params.pagination.el||!e.pagination.el||!e.pagination.$el||0===e.pagination.$el.length}function l(t,s){const{bulletActiveClass:a}=e.params.pagination;t[s]().addClass("".concat(a,"-").concat(s))[s]().addClass("".concat(a,"-").concat(s,"-").concat(s))}function c(){const t=e.rtl,s=e.params.pagination;if(o())return;const i=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,c=e.pagination.$el;let d;const u=e.params.loop?Math.ceil((i-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?((d=Math.ceil((e.activeIndex-e.loopedSlides)/e.params.slidesPerGroup))>i-1-2*e.loopedSlides&&(d-=i-2*e.loopedSlides),d>u-1&&(d-=u),d<0&&"bullets"!==e.params.paginationType&&(d=u+d)):d=void 0!==e.snapIndex?e.snapIndex:e.activeIndex||0,"bullets"===s.type&&e.pagination.bullets&&e.pagination.bullets.length>0){const a=e.pagination.bullets;let i,o,u;if(s.dynamicBullets&&(n=a.eq(0)[e.isHorizontal()?"outerWidth":"outerHeight"](!0),c.css(e.isHorizontal()?"width":"height","".concat(n*(s.dynamicMainBullets+4),"px")),s.dynamicMainBullets>1&&void 0!==e.previousIndex&&((r+=d-(e.previousIndex-e.loopedSlides||0))>s.dynamicMainBullets-1?r=s.dynamicMainBullets-1:r<0&&(r=0)),i=Math.max(d-r,0),u=((o=i+(Math.min(a.length,s.dynamicMainBullets)-1))+i)/2),a.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>"".concat(s.bulletActiveClass).concat(e)).join(" ")),c.length>1)a.each(e=>{const t=p(e),a=t.index();a===d&&t.addClass(s.bulletActiveClass),s.dynamicBullets&&(a>=i&&a<=o&&t.addClass("".concat(s.bulletActiveClass,"-main")),a===i&&l(t,"prev"),a===o&&l(t,"next"))});else{const t=a.eq(d),n=t.index();if(t.addClass(s.bulletActiveClass),s.dynamicBullets){const t=a.eq(i),r=a.eq(o);for(let e=i;e<=o;e+=1)a.eq(e).addClass("".concat(s.bulletActiveClass,"-main"));if(e.params.loop)if(n>=a.length){for(let e=s.dynamicMainBullets;e>=0;e-=1)a.eq(a.length-e).addClass("".concat(s.bulletActiveClass,"-main"));a.eq(a.length-s.dynamicMainBullets-1).addClass("".concat(s.bulletActiveClass,"-prev"))}else l(t,"prev"),l(r,"next");else l(t,"prev"),l(r,"next")}}if(s.dynamicBullets){const i=Math.min(a.length,s.dynamicMainBullets+4),r=(n*i-n)/2-u*n,o=t?"right":"left";a.css(e.isHorizontal()?o:"top","".concat(r,"px"))}}if("fraction"===s.type&&(c.find(H(s.currentClass)).text(s.formatFractionCurrent(d+1)),c.find(H(s.totalClass)).text(s.formatFractionTotal(u))),"progressbar"===s.type){let t;t=s.progressbarOpposite?e.isHorizontal()?"vertical":"horizontal":e.isHorizontal()?"horizontal":"vertical";const a=(d+1)/u;let i=1,n=1;"horizontal"===t?i=a:n=a,c.find(H(s.progressbarFillClass)).transform("translate3d(0,0,0) scaleX(".concat(i,") scaleY(").concat(n,")")).transition(e.params.speed)}"custom"===s.type&&s.renderCustom?(c.html(s.renderCustom(e,d+1,u)),a("paginationRender",c[0])):a("paginationUpdate",c[0]),e.params.watchOverflow&&e.enabled&&c[e.isLocked?"addClass":"removeClass"](s.lockClass)}function d(){const t=e.params.pagination;if(o())return;const s=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,i=e.pagination.$el;let n="";if("bullets"===t.type){let a=e.params.loop?Math.ceil((s-2*e.loopedSlides)/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&!e.params.loop&&a>s&&(a=s);for(let s=0;s<a;s+=1)t.renderBullet?n+=t.renderBullet.call(e,s,t.bulletClass):n+="<".concat(t.bulletElement,' class="').concat(t.bulletClass,'"></').concat(t.bulletElement,">");i.html(n),e.pagination.bullets=i.find(H(t.bulletClass))}"fraction"===t.type&&(n=t.renderFraction?t.renderFraction.call(e,t.currentClass,t.totalClass):'<span class="'.concat(t.currentClass,'"></span>')+" / "+'<span class="'.concat(t.totalClass,'"></span>'),i.html(n)),"progressbar"===t.type&&(n=t.renderProgressbar?t.renderProgressbar.call(e,t.progressbarFillClass):'<span class="'.concat(t.progressbarFillClass,'"></span>'),i.html(n)),"custom"!==t.type&&a("paginationRender",e.pagination.$el[0])}function u(){e.params.pagination=X(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const t=e.params.pagination;if(!t.el)return;let s=p(t.el);0!==s.length&&(e.params.uniqueNavElements&&"string"==typeof t.el&&s.length>1&&(s=e.$el.find(t.el)).length>1&&(s=s.filter(t=>p(t).parents(".swiper")[0]===e.el)),"bullets"===t.type&&t.clickable&&s.addClass(t.clickableClass),s.addClass(t.modifierClass+t.type),s.addClass(t.modifierClass+e.params.direction),"bullets"===t.type&&t.dynamicBullets&&(s.addClass("".concat(t.modifierClass).concat(t.type,"-dynamic")),r=0,t.dynamicMainBullets<1&&(t.dynamicMainBullets=1)),"progressbar"===t.type&&t.progressbarOpposite&&s.addClass(t.progressbarOppositeClass),t.clickable&&s.on("click",H(t.bulletClass),function(t){t.preventDefault();let s=p(this).index()*e.params.slidesPerGroup;e.params.loop&&(s+=e.loopedSlides),e.slideTo(s)}),Object.assign(e.pagination,{$el:s,el:s[0]}),e.enabled||s.addClass(t.lockClass))}function h(){const t=e.params.pagination;if(o())return;const s=e.pagination.$el;s.removeClass(t.hiddenClass),s.removeClass(t.modifierClass+t.type),s.removeClass(t.modifierClass+e.params.direction),e.pagination.bullets&&e.pagination.bullets.removeClass&&e.pagination.bullets.removeClass(t.bulletActiveClass),t.clickable&&s.off("click",H(t.bulletClass))}s("init",()=>{u(),d(),c()}),s("activeIndexChange",()=>{e.params.loop?c():void 0===e.snapIndex&&c()}),s("snapIndexChange",()=>{e.params.loop||c()}),s("slidesLengthChange",()=>{e.params.loop&&(d(),c())}),s("snapGridLengthChange",()=>{e.params.loop||(d(),c())}),s("destroy",()=>{h()}),s("enable disable",()=>{const{$el:t}=e.pagination;t&&t[e.enabled?"removeClass":"addClass"](e.params.pagination.lockClass)}),s("lock unlock",()=>{c()}),s("click",(t,s)=>{const i=s.target,{$el:n}=e.pagination;if(e.params.pagination.el&&e.params.pagination.hideOnClick&&n.length>0&&!p(i).hasClass(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&i===e.navigation.nextEl||e.navigation.prevEl&&i===e.navigation.prevEl))return;const t=n.hasClass(e.params.pagination.hiddenClass);a(!0===t?"paginationShow":"paginationHide"),n.toggleClass(e.params.pagination.hiddenClass)}}),Object.assign(e.pagination,{render:d,update:c,init:u,destroy:h})},function({swiper:e,extendParams:t,on:s,emit:a}){const n=i();let r,o,l,c,d=!1,u=null,m=null;function f(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t,rtlTranslate:s,progress:a}=e,{$dragEl:i,$el:n}=t,r=e.params.scrollbar;let c=o,d=(l-o)*a;s?(d=-d)>0?(c=o-d,d=0):-d+o>l&&(c=l+d):d<0?(c=o+d,d=0):d+o>l&&(c=l-d),e.isHorizontal()?(i.transform("translate3d(".concat(d,"px, 0, 0)")),i[0].style.width="".concat(c,"px")):(i.transform("translate3d(0px, ".concat(d,"px, 0)")),i[0].style.height="".concat(c,"px")),r.hide&&(clearTimeout(u),n[0].style.opacity=1,u=setTimeout(()=>{n[0].style.opacity=0,n.transition(400)},1e3))}function g(){if(!e.params.scrollbar.el||!e.scrollbar.el)return;const{scrollbar:t}=e,{$dragEl:s,$el:a}=t;s[0].style.width="",s[0].style.height="",l=e.isHorizontal()?a[0].offsetWidth:a[0].offsetHeight,c=e.size/(e.virtualSize+e.params.slidesOffsetBefore-(e.params.centeredSlides?e.snapGrid[0]:0)),o="auto"===e.params.scrollbar.dragSize?l*c:parseInt(e.params.scrollbar.dragSize,10),e.isHorizontal()?s[0].style.width="".concat(o,"px"):s[0].style.height="".concat(o,"px"),a[0].style.display=c>=1?"none":"",e.params.scrollbar.hide&&(a[0].style.opacity=0),e.params.watchOverflow&&e.enabled&&t.$el[e.isLocked?"addClass":"removeClass"](e.params.scrollbar.lockClass)}function v(t){return e.isHorizontal()?"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientX:t.clientX:"touchstart"===t.type||"touchmove"===t.type?t.targetTouches[0].clientY:t.clientY}function w(t){const{scrollbar:s,rtlTranslate:a}=e,{$el:i}=s;let n;n=(v(t)-i.offset()[e.isHorizontal()?"left":"top"]-(null!==r?r:o/2))/(l-o),n=Math.max(Math.min(n,1),0),a&&(n=1-n);const c=e.minTranslate()+(e.maxTranslate()-e.minTranslate())*n;e.updateProgress(c),e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}function b(t){const s=e.params.scrollbar,{scrollbar:i,$wrapperEl:n}=e,{$el:o,$dragEl:l}=i;d=!0,r=t.target===l[0]||t.target===l?v(t)-t.target.getBoundingClientRect()[e.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),n.transition(100),l.transition(100),w(t),clearTimeout(m),o.transition(0),s.hide&&o.css("opacity",1),e.params.cssMode&&e.$wrapperEl.css("scroll-snap-type","none"),a("scrollbarDragStart",t)}function x(t){const{scrollbar:s,$wrapperEl:i}=e,{$el:n,$dragEl:r}=s;d&&(t.preventDefault?t.preventDefault():t.returnValue=!1,w(t),i.transition(0),n.transition(0),r.transition(0),a("scrollbarDragMove",t))}function y(t){const s=e.params.scrollbar,{scrollbar:i,$wrapperEl:n}=e,{$el:r}=i;d&&(d=!1,e.params.cssMode&&(e.$wrapperEl.css("scroll-snap-type",""),n.transition("")),s.hide&&(clearTimeout(m),m=h(()=>{r.css("opacity",0),r.transition(400)},1e3)),a("scrollbarDragEnd",t),s.snapOnRelease&&e.slideToClosest())}function E(t){const{scrollbar:s,touchEventsTouch:a,touchEventsDesktop:i,params:r,support:o}=e,l=s.$el[0],c=!(!o.passiveListener||!r.passiveListeners)&&{passive:!1,capture:!1},d=!(!o.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};if(!l)return;const p="on"===t?"addEventListener":"removeEventListener";o.touch?(l[p](a.start,b,c),l[p](a.move,x,c),l[p](a.end,y,d)):(l[p](i.start,b,c),n[p](i.move,x,c),n[p](i.end,y,d))}function T(){const{scrollbar:t,$el:s}=e;e.params.scrollbar=X(e,e.originalParams.scrollbar,e.params.scrollbar,{el:"swiper-scrollbar"});const a=e.params.scrollbar;if(!a.el)return;let i=p(a.el);e.params.uniqueNavElements&&"string"==typeof a.el&&i.length>1&&1===s.find(a.el).length&&(i=s.find(a.el));let n=i.find(".".concat(e.params.scrollbar.dragClass));0===n.length&&(n=p('<div class="'.concat(e.params.scrollbar.dragClass,'"></div>')),i.append(n)),Object.assign(t,{$el:i,el:i[0],$dragEl:n,dragEl:n[0]}),a.draggable&&e.params.scrollbar.el&&E("on"),i&&i[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}function C(){e.params.scrollbar.el&&E("off")}t({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}}),e.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},s("init",()=>{T(),g(),f()}),s("update resize observerUpdate lock unlock",()=>{g()}),s("setTranslate",()=>{f()}),s("setTransition",(t,s)=>{!function(t){e.params.scrollbar.el&&e.scrollbar.el&&e.scrollbar.$dragEl.transition(t)}(s)}),s("enable disable",()=>{const{$el:t}=e.scrollbar;t&&t[e.enabled?"removeClass":"addClass"](e.params.scrollbar.lockClass)}),s("destroy",()=>{C()}),Object.assign(e.scrollbar,{updateSize:g,setTranslate:f,init:T,destroy:C})},function({swiper:e,extendParams:t,on:s}){t({parallax:{enabled:!1}});const a=(t,s)=>{const{rtl:a}=e,i=p(t),n=a?-1:1,r=i.attr("data-swiper-parallax")||"0";let o=i.attr("data-swiper-parallax-x"),l=i.attr("data-swiper-parallax-y");const c=i.attr("data-swiper-parallax-scale"),d=i.attr("data-swiper-parallax-opacity");if(o||l?(o=o||"0",l=l||"0"):e.isHorizontal()?(o=r,l="0"):(l=r,o="0"),o=o.indexOf("%")>=0?"".concat(parseInt(o,10)*s*n,"%"):"".concat(o*s*n,"px"),l=l.indexOf("%")>=0?"".concat(parseInt(l,10)*s,"%"):"".concat(l*s,"px"),null!=d){const e=d-(d-1)*(1-Math.abs(s));i[0].style.opacity=e}if(null==c)i.transform("translate3d(".concat(o,", ").concat(l,", 0px)"));else{const e=c-(c-1)*(1-Math.abs(s));i.transform("translate3d(".concat(o,", ").concat(l,", 0px) scale(").concat(e,")"))}},i=()=>{const{$el:t,slides:s,progress:i,snapGrid:n}=e;t.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(e=>{a(e,i)}),s.each((t,s)=>{let r=t.progress;e.params.slidesPerGroup>1&&"auto"!==e.params.slidesPerView&&(r+=Math.ceil(s/2)-i*(n.length-1)),r=Math.min(Math.max(r,-1),1),p(t).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(e=>{a(e,r)})})};s("beforeInit",()=>{e.params.parallax.enabled&&(e.params.watchSlidesProgress=!0,e.originalParams.watchSlidesProgress=!0)}),s("init",()=>{e.params.parallax.enabled&&i()}),s("setTranslate",()=>{e.params.parallax.enabled&&i()}),s("setTransition",(t,s)=>{e.params.parallax.enabled&&((t=e.params.speed)=>{const{$el:s}=e;s.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(e=>{const s=p(e);let a=parseInt(s.attr("data-swiper-parallax-duration"),10)||t;0===t&&(a=0),s.transition(a)})})(s)})},function({swiper:e,extendParams:t,on:s,emit:a}){const i=o();t({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),e.zoom={enabled:!1};let n,r,l,c=1,d=!1;const u={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},h={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},m={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let g=1;function v(e){if(e.targetTouches.length<2)return 1;const t=e.targetTouches[0].pageX,s=e.targetTouches[0].pageY,a=e.targetTouches[1].pageX,i=e.targetTouches[1].pageY;return Math.sqrt((a-t)**2+(i-s)**2)}function w(t){const s=e.support,a=e.params.zoom;if(r=!1,l=!1,!s.gestures){if("touchstart"!==t.type||"touchstart"===t.type&&t.targetTouches.length<2)return;r=!0,u.scaleStart=v(t)}u.$slideEl&&u.$slideEl.length||(u.$slideEl=p(t.target).closest(".".concat(e.params.slideClass)),0===u.$slideEl.length&&(u.$slideEl=e.slides.eq(e.activeIndex)),u.$imageEl=u.$slideEl.find(".".concat(a.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),u.$imageWrapEl=u.$imageEl.parent(".".concat(a.containerClass)),u.maxRatio=u.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,0!==u.$imageWrapEl.length)?(u.$imageEl&&u.$imageEl.transition(0),d=!0):u.$imageEl=void 0}function b(t){const s=e.support,a=e.params.zoom,i=e.zoom;if(!s.gestures){if("touchmove"!==t.type||"touchmove"===t.type&&t.targetTouches.length<2)return;l=!0,u.scaleMove=v(t)}u.$imageEl&&0!==u.$imageEl.length?(s.gestures?i.scale=t.scale*c:i.scale=u.scaleMove/u.scaleStart*c,i.scale>u.maxRatio&&(i.scale=u.maxRatio-1+(i.scale-u.maxRatio+1)**.5),i.scale<a.minRatio&&(i.scale=a.minRatio+1-(a.minRatio-i.scale+1)**.5),u.$imageEl.transform("translate3d(0,0,0) scale(".concat(i.scale,")"))):"gesturechange"===t.type&&w(t)}function x(t){const s=e.device,a=e.support,i=e.params.zoom,n=e.zoom;if(!a.gestures){if(!r||!l)return;if("touchend"!==t.type||"touchend"===t.type&&t.changedTouches.length<2&&!s.android)return;r=!1,l=!1}u.$imageEl&&0!==u.$imageEl.length&&(n.scale=Math.max(Math.min(n.scale,u.maxRatio),i.minRatio),u.$imageEl.transition(e.params.speed).transform("translate3d(0,0,0) scale(".concat(n.scale,")")),c=n.scale,d=!1,1===n.scale&&(u.$slideEl=void 0))}function y(t){const s=e.zoom;if(!u.$imageEl||0===u.$imageEl.length)return;if(e.allowClick=!1,!h.isTouched||!u.$slideEl)return;h.isMoved||(h.width=u.$imageEl[0].offsetWidth,h.height=u.$imageEl[0].offsetHeight,h.startX=f(u.$imageWrapEl[0],"x")||0,h.startY=f(u.$imageWrapEl[0],"y")||0,u.slideWidth=u.$slideEl[0].offsetWidth,u.slideHeight=u.$slideEl[0].offsetHeight,u.$imageWrapEl.transition(0));const a=h.width*s.scale,i=h.height*s.scale;if(!(a<u.slideWidth&&i<u.slideHeight)){if(h.minX=Math.min(u.slideWidth/2-a/2,0),h.maxX=-h.minX,h.minY=Math.min(u.slideHeight/2-i/2,0),h.maxY=-h.minY,h.touchesCurrent.x="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,h.touchesCurrent.y="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,!h.isMoved&&!d){if(e.isHorizontal()&&(Math.floor(h.minX)===Math.floor(h.startX)&&h.touchesCurrent.x<h.touchesStart.x||Math.floor(h.maxX)===Math.floor(h.startX)&&h.touchesCurrent.x>h.touchesStart.x))return void(h.isTouched=!1);if(!e.isHorizontal()&&(Math.floor(h.minY)===Math.floor(h.startY)&&h.touchesCurrent.y<h.touchesStart.y||Math.floor(h.maxY)===Math.floor(h.startY)&&h.touchesCurrent.y>h.touchesStart.y))return void(h.isTouched=!1)}t.cancelable&&t.preventDefault(),t.stopPropagation(),h.isMoved=!0,h.currentX=h.touchesCurrent.x-h.touchesStart.x+h.startX,h.currentY=h.touchesCurrent.y-h.touchesStart.y+h.startY,h.currentX<h.minX&&(h.currentX=h.minX+1-(h.minX-h.currentX+1)**.8),h.currentX>h.maxX&&(h.currentX=h.maxX-1+(h.currentX-h.maxX+1)**.8),h.currentY<h.minY&&(h.currentY=h.minY+1-(h.minY-h.currentY+1)**.8),h.currentY>h.maxY&&(h.currentY=h.maxY-1+(h.currentY-h.maxY+1)**.8),m.prevPositionX||(m.prevPositionX=h.touchesCurrent.x),m.prevPositionY||(m.prevPositionY=h.touchesCurrent.y),m.prevTime||(m.prevTime=Date.now()),m.x=(h.touchesCurrent.x-m.prevPositionX)/(Date.now()-m.prevTime)/2,m.y=(h.touchesCurrent.y-m.prevPositionY)/(Date.now()-m.prevTime)/2,Math.abs(h.touchesCurrent.x-m.prevPositionX)<2&&(m.x=0),Math.abs(h.touchesCurrent.y-m.prevPositionY)<2&&(m.y=0),m.prevPositionX=h.touchesCurrent.x,m.prevPositionY=h.touchesCurrent.y,m.prevTime=Date.now(),u.$imageWrapEl.transform("translate3d(".concat(h.currentX,"px, ").concat(h.currentY,"px,0)"))}}function E(){const t=e.zoom;u.$slideEl&&e.previousIndex!==e.activeIndex&&(u.$imageEl&&u.$imageEl.transform("translate3d(0,0,0) scale(1)"),u.$imageWrapEl&&u.$imageWrapEl.transform("translate3d(0,0,0)"),t.scale=1,c=1,u.$slideEl=void 0,u.$imageEl=void 0,u.$imageWrapEl=void 0)}function T(t){const s=e.zoom,a=e.params.zoom;if(u.$slideEl||(t&&t.target&&(u.$slideEl=p(t.target).closest(".".concat(e.params.slideClass))),u.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?u.$slideEl=e.$wrapperEl.children(".".concat(e.params.slideActiveClass)):u.$slideEl=e.slides.eq(e.activeIndex)),u.$imageEl=u.$slideEl.find(".".concat(a.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),u.$imageWrapEl=u.$imageEl.parent(".".concat(a.containerClass))),!u.$imageEl||0===u.$imageEl.length||!u.$imageWrapEl||0===u.$imageWrapEl.length)return;let n,r,o,l,d,m,f,g,v,w,b,x,y,E,T,C,S,M;e.params.cssMode&&(e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.touchAction="none"),u.$slideEl.addClass("".concat(a.zoomedSlideClass)),void 0===h.touchesStart.x&&t?(n="touchend"===t.type?t.changedTouches[0].pageX:t.pageX,r="touchend"===t.type?t.changedTouches[0].pageY:t.pageY):(n=h.touchesStart.x,r=h.touchesStart.y),s.scale=u.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,c=u.$imageWrapEl.attr("data-swiper-zoom")||a.maxRatio,t?(S=u.$slideEl[0].offsetWidth,M=u.$slideEl[0].offsetHeight,d=(o=u.$slideEl.offset().left+i.scrollX)+S/2-n,m=(l=u.$slideEl.offset().top+i.scrollY)+M/2-r,v=u.$imageEl[0].offsetWidth,w=u.$imageEl[0].offsetHeight,b=v*s.scale,x=w*s.scale,T=-(y=Math.min(S/2-b/2,0)),C=-(E=Math.min(M/2-x/2,0)),(f=d*s.scale)<y&&(f=y),f>T&&(f=T),(g=m*s.scale)<E&&(g=E),g>C&&(g=C)):(f=0,g=0),u.$imageWrapEl.transition(300).transform("translate3d(".concat(f,"px, ").concat(g,"px,0)")),u.$imageEl.transition(300).transform("translate3d(0,0,0) scale(".concat(s.scale,")"))}function C(){const t=e.zoom,s=e.params.zoom;u.$slideEl||(e.params.virtual&&e.params.virtual.enabled&&e.virtual?u.$slideEl=e.$wrapperEl.children(".".concat(e.params.slideActiveClass)):u.$slideEl=e.slides.eq(e.activeIndex),u.$imageEl=u.$slideEl.find(".".concat(s.containerClass)).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),u.$imageWrapEl=u.$imageEl.parent(".".concat(s.containerClass))),u.$imageEl&&0!==u.$imageEl.length&&u.$imageWrapEl&&0!==u.$imageWrapEl.length&&(e.params.cssMode&&(e.wrapperEl.style.overflow="",e.wrapperEl.style.touchAction=""),t.scale=1,c=1,u.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),u.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),u.$slideEl.removeClass("".concat(s.zoomedSlideClass)),u.$slideEl=void 0)}function S(t){const s=e.zoom;s.scale&&1!==s.scale?C():T(t)}function M(){const t=e.support;return{passiveListener:!("touchstart"!==e.touchEvents.start||!t.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!t.passiveListener||{passive:!1,capture:!0}}}function P(){return".".concat(e.params.slideClass)}function $(t){const{passiveListener:s}=M(),a=P();e.$wrapperEl[t]("gesturestart",a,w,s),e.$wrapperEl[t]("gesturechange",a,b,s),e.$wrapperEl[t]("gestureend",a,x,s)}function k(){n||(n=!0,$("on"))}function z(){n&&(n=!1,$("off"))}function O(){const t=e.zoom;if(t.enabled)return;t.enabled=!0;const s=e.support,{passiveListener:a,activeListenerWithCapture:i}=M(),n=P();s.gestures?(e.$wrapperEl.on(e.touchEvents.start,k,a),e.$wrapperEl.on(e.touchEvents.end,z,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.on(e.touchEvents.start,n,w,a),e.$wrapperEl.on(e.touchEvents.move,n,b,i),e.$wrapperEl.on(e.touchEvents.end,n,x,a),e.touchEvents.cancel&&e.$wrapperEl.on(e.touchEvents.cancel,n,x,a)),e.$wrapperEl.on(e.touchEvents.move,".".concat(e.params.zoom.containerClass),y,i)}function I(){const t=e.zoom;if(!t.enabled)return;const s=e.support;t.enabled=!1;const{passiveListener:a,activeListenerWithCapture:i}=M(),n=P();s.gestures?(e.$wrapperEl.off(e.touchEvents.start,k,a),e.$wrapperEl.off(e.touchEvents.end,z,a)):"touchstart"===e.touchEvents.start&&(e.$wrapperEl.off(e.touchEvents.start,n,w,a),e.$wrapperEl.off(e.touchEvents.move,n,b,i),e.$wrapperEl.off(e.touchEvents.end,n,x,a),e.touchEvents.cancel&&e.$wrapperEl.off(e.touchEvents.cancel,n,x,a)),e.$wrapperEl.off(e.touchEvents.move,".".concat(e.params.zoom.containerClass),y,i)}Object.defineProperty(e.zoom,"scale",{get:function(){return g},set:function(e){if(g!==e){const t=u.$imageEl?u.$imageEl[0]:void 0,s=u.$slideEl?u.$slideEl[0]:void 0;a("zoomChange",e,t,s)}g=e}}),s("init",()=>{e.params.zoom.enabled&&O()}),s("destroy",()=>{I()}),s("touchStart",(t,s)=>{e.zoom.enabled&&function(t){const s=e.device;u.$imageEl&&0!==u.$imageEl.length&&(h.isTouched||(s.android&&t.cancelable&&t.preventDefault(),h.isTouched=!0,h.touchesStart.x="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,h.touchesStart.y="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY))}(s)}),s("touchEnd",(t,s)=>{e.zoom.enabled&&function(){const t=e.zoom;if(!u.$imageEl||0===u.$imageEl.length)return;if(!h.isTouched||!h.isMoved)return h.isTouched=!1,void(h.isMoved=!1);h.isTouched=!1,h.isMoved=!1;let s=300,a=300;const i=m.x*s,n=h.currentX+i,r=m.y*a,o=h.currentY+r;0!==m.x&&(s=Math.abs((n-h.currentX)/m.x)),0!==m.y&&(a=Math.abs((o-h.currentY)/m.y));const l=Math.max(s,a);h.currentX=n,h.currentY=o;const c=h.width*t.scale,d=h.height*t.scale;h.minX=Math.min(u.slideWidth/2-c/2,0),h.maxX=-h.minX,h.minY=Math.min(u.slideHeight/2-d/2,0),h.maxY=-h.minY,h.currentX=Math.max(Math.min(h.currentX,h.maxX),h.minX),h.currentY=Math.max(Math.min(h.currentY,h.maxY),h.minY),u.$imageWrapEl.transition(l).transform("translate3d(".concat(h.currentX,"px, ").concat(h.currentY,"px,0)"))}()}),s("doubleTap",(t,s)=>{!e.animating&&e.params.zoom.enabled&&e.zoom.enabled&&e.params.zoom.toggle&&S(s)}),s("transitionEnd",()=>{e.zoom.enabled&&e.params.zoom.enabled&&E()}),s("slideChange",()=>{e.zoom.enabled&&e.params.zoom.enabled&&e.params.cssMode&&E()}),Object.assign(e.zoom,{enable:O,disable:I,in:T,out:C,toggle:S})},function({swiper:e,extendParams:t,on:s,emit:a}){t({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),e.lazy={};let i=!1,n=!1;function r(t,s=!0){const i=e.params.lazy;if(void 0===t)return;if(0===e.slides.length)return;const n=e.virtual&&e.params.virtual.enabled?e.$wrapperEl.children(".".concat(e.params.slideClass,'[data-swiper-slide-index="').concat(t,'"]')):e.slides.eq(t),o=n.find(".".concat(i.elementClass,":not(.").concat(i.loadedClass,"):not(.").concat(i.loadingClass,")"));!n.hasClass(i.elementClass)||n.hasClass(i.loadedClass)||n.hasClass(i.loadingClass)||o.push(n[0]),0!==o.length&&o.each(t=>{const o=p(t);o.addClass(i.loadingClass);const l=o.attr("data-background"),c=o.attr("data-src"),d=o.attr("data-srcset"),u=o.attr("data-sizes"),h=o.parent("picture");e.loadImage(o[0],c||l,d,u,!1,()=>{if(null!=e&&e&&(!e||e.params)&&!e.destroyed){if(l?(o.css("background-image",'url("'.concat(l,'")')),o.removeAttr("data-background")):(d&&(o.attr("srcset",d),o.removeAttr("data-srcset")),u&&(o.attr("sizes",u),o.removeAttr("data-sizes")),h.length&&h.children("source").each(e=>{const t=p(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))}),c&&(o.attr("src",c),o.removeAttr("data-src"))),o.addClass(i.loadedClass).removeClass(i.loadingClass),n.find(".".concat(i.preloaderClass)).remove(),e.params.loop&&s){const t=n.attr("data-swiper-slide-index");n.hasClass(e.params.slideDuplicateClass)?r(e.$wrapperEl.children('[data-swiper-slide-index="'.concat(t,'"]:not(.').concat(e.params.slideDuplicateClass,")")).index(),!1):r(e.$wrapperEl.children(".".concat(e.params.slideDuplicateClass,'[data-swiper-slide-index="').concat(t,'"]')).index(),!1)}a("lazyImageReady",n[0],o[0]),e.params.autoHeight&&e.updateAutoHeight()}}),a("lazyImageLoad",n[0],o[0])})}function l(){const{$wrapperEl:t,params:s,slides:a,activeIndex:i}=e,o=e.virtual&&s.virtual.enabled,l=s.lazy;let c=s.slidesPerView;function d(e){if(o){if(t.children(".".concat(s.slideClass,'[data-swiper-slide-index="').concat(e,'"]')).length)return!0}else if(a[e])return!0;return!1}function u(e){return o?p(e).attr("data-swiper-slide-index"):p(e).index()}if("auto"===c&&(c=0),n||(n=!0),e.params.watchSlidesProgress)t.children(".".concat(s.slideVisibleClass)).each(e=>{r(o?p(e).attr("data-swiper-slide-index"):p(e).index())});else if(c>1)for(let e=i;e<i+c;e+=1)d(e)&&r(e);else r(i);if(l.loadPrevNext)if(c>1||l.loadPrevNextAmount&&l.loadPrevNextAmount>1){const e=l.loadPrevNextAmount,t=c,s=Math.min(i+t+Math.max(e,t),a.length),n=Math.max(i-Math.max(t,e),0);for(let a=i+c;a<s;a+=1)d(a)&&r(a);for(let a=n;a<i;a+=1)d(a)&&r(a)}else{const e=t.children(".".concat(s.slideNextClass));e.length>0&&r(u(e));const a=t.children(".".concat(s.slidePrevClass));a.length>0&&r(u(a))}}function c(){const t=o();if(!e||e.destroyed)return;const s=e.params.lazy.scrollingElement?p(e.params.lazy.scrollingElement):p(t),a=s[0]===t,n=a?t.innerWidth:s[0].offsetWidth,r=a?t.innerHeight:s[0].offsetHeight,d=e.$el.offset(),{rtlTranslate:u}=e;let h=!1;u&&(d.left-=e.$el[0].scrollLeft);const m=[[d.left,d.top],[d.left+e.width,d.top],[d.left,d.top+e.height],[d.left+e.width,d.top+e.height]];for(let e=0;e<m.length;e+=1){const t=m[e];if(t[0]>=0&&t[0]<=n&&t[1]>=0&&t[1]<=r){if(0===t[0]&&0===t[1])continue;h=!0}}const f=!("touchstart"!==e.touchEvents.start||!e.support.passiveListener||!e.params.passiveListeners)&&{passive:!0,capture:!1};h?(l(),s.off("scroll",c,f)):i||(i=!0,s.on("scroll",c,f))}s("beforeInit",()=>{e.params.lazy.enabled&&e.params.preloadImages&&(e.params.preloadImages=!1)}),s("init",()=>{e.params.lazy.enabled&&(e.params.lazy.checkInView?c():l())}),s("scroll",()=>{e.params.freeMode&&e.params.freeMode.enabled&&!e.params.freeMode.sticky&&l()}),s("scrollbarDragMove resize _freeModeNoMomentumRelease",()=>{e.params.lazy.enabled&&(e.params.lazy.checkInView?c():l())}),s("transitionStart",()=>{e.params.lazy.enabled&&(e.params.lazy.loadOnTransitionStart||!e.params.lazy.loadOnTransitionStart&&!n)&&(e.params.lazy.checkInView?c():l())}),s("transitionEnd",()=>{e.params.lazy.enabled&&!e.params.lazy.loadOnTransitionStart&&(e.params.lazy.checkInView?c():l())}),s("slideChange",()=>{const{lazy:t,cssMode:s,watchSlidesProgress:a,touchReleaseOnEdges:i,resistanceRatio:n}=e.params;t.enabled&&(s||a&&(i||0===n))&&l()}),Object.assign(e.lazy,{load:l,loadInSlide:r})},function({swiper:e,extendParams:t,on:s}){function a(e,t){const s=function(){let e,t,s;return(a,i)=>{for(t=-1,e=a.length;e-t>1;)a[s=e+t>>1]<=i?t=s:e=s;return e}}();let a,i;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(i=s(this.x,e),a=i-1,(e-this.x[a])*(this.y[i]-this.y[a])/(this.x[i]-this.x[a])+this.y[a]):0},this}function i(){e.controller.control&&e.controller.spline&&(e.controller.spline=void 0,delete e.controller.spline)}t({controller:{control:void 0,inverse:!1,by:"slide"}}),e.controller={control:void 0},s("beforeInit",()=>{e.controller.control=e.params.controller.control}),s("update",()=>{i()}),s("resize",()=>{i()}),s("observerUpdate",()=>{i()}),s("setTranslate",(t,s,a)=>{e.controller.control&&e.controller.setTranslate(s,a)}),s("setTransition",(t,s,a)=>{e.controller.control&&e.controller.setTransition(s,a)}),Object.assign(e.controller,{setTranslate:function(t,s){const i=e.controller.control;let n,r;const o=e.constructor;function l(t){const s=e.rtlTranslate?-e.translate:e.translate;"slide"===e.params.controller.by&&(function(t){e.controller.spline||(e.controller.spline=e.params.loop?new a(e.slidesGrid,t.slidesGrid):new a(e.snapGrid,t.snapGrid))}(t),r=-e.controller.spline.interpolate(-s)),r&&"container"!==e.params.controller.by||(n=(t.maxTranslate()-t.minTranslate())/(e.maxTranslate()-e.minTranslate()),r=(s-e.minTranslate())*n+t.minTranslate()),e.params.controller.inverse&&(r=t.maxTranslate()-r),t.updateProgress(r),t.setTranslate(r,e),t.updateActiveIndex(),t.updateSlidesClasses()}if(Array.isArray(i))for(let e=0;e<i.length;e+=1)i[e]!==s&&i[e]instanceof o&&l(i[e]);else i instanceof o&&s!==i&&l(i)},setTransition:function(t,s){const a=e.constructor,i=e.controller.control;let n;function r(s){s.setTransition(t,e),0!==t&&(s.transitionStart(),s.params.autoHeight&&h(()=>{s.updateAutoHeight()}),s.$wrapperEl.transitionEnd(()=>{i&&(s.params.loop&&"slide"===e.params.controller.by&&s.loopFix(),s.transitionEnd())}))}if(Array.isArray(i))for(n=0;n<i.length;n+=1)i[n]!==s&&i[n]instanceof a&&r(i[n]);else i instanceof a&&s!==i&&r(i)}})},function({swiper:e,extendParams:t,on:s}){t({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group"}});let a=null;function i(e){const t=a;0!==t.length&&(t.html(""),t.html(e))}function n(e){e.attr("tabIndex","0")}function r(e){e.attr("tabIndex","-1")}function o(e,t){e.attr("role",t)}function l(e,t){e.attr("aria-roledescription",t)}function c(e,t){e.attr("aria-label",t)}function d(e){e.attr("aria-disabled",!0)}function u(e){e.attr("aria-disabled",!1)}function h(t){if(13!==t.keyCode&&32!==t.keyCode)return;const s=e.params.a11y,a=p(t.target);e.navigation&&e.navigation.$nextEl&&a.is(e.navigation.$nextEl)&&(e.isEnd&&!e.params.loop||e.slideNext(),e.isEnd?i(s.lastSlideMessage):i(s.nextSlideMessage)),e.navigation&&e.navigation.$prevEl&&a.is(e.navigation.$prevEl)&&(e.isBeginning&&!e.params.loop||e.slidePrev(),e.isBeginning?i(s.firstSlideMessage):i(s.prevSlideMessage)),e.pagination&&a.is(H(e.params.pagination.bulletClass))&&a[0].click()}function m(){if(e.params.loop||e.params.rewind||!e.navigation)return;const{$nextEl:t,$prevEl:s}=e.navigation;s&&s.length>0&&(e.isBeginning?(d(s),r(s)):(u(s),n(s))),t&&t.length>0&&(e.isEnd?(d(t),r(t)):(u(t),n(t)))}function f(){return e.pagination&&e.pagination.bullets&&e.pagination.bullets.length}function g(){return f()&&e.params.pagination.clickable}const v=(e,t,s)=>{n(e),"BUTTON"!==e[0].tagName&&(o(e,"button"),e.on("keydown",h)),c(e,s),function(e,t){e.attr("aria-controls",t)}(e,t)};function w(){const t=e.params.a11y;e.$el.append(a);const s=e.$el;t.containerRoleDescriptionMessage&&l(s,t.containerRoleDescriptionMessage),t.containerMessage&&c(s,t.containerMessage);const i=e.$wrapperEl,n=i.attr("id")||"swiper-wrapper-".concat(function(e=16){return"x".repeat(e).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}(16)),r=e.params.autoplay&&e.params.autoplay.enabled?"off":"polite";var d;d=n,i.attr("id",d),function(e,t){e.attr("aria-live",t)}(i,r),t.itemRoleDescriptionMessage&&l(p(e.slides),t.itemRoleDescriptionMessage),o(p(e.slides),t.slideRole);const u=e.params.loop?e.slides.filter(t=>!t.classList.contains(e.params.slideDuplicateClass)).length:e.slides.length;let m,f;e.slides.each((s,a)=>{const i=p(s),n=e.params.loop?parseInt(i.attr("data-swiper-slide-index"),10):a;c(i,t.slideLabelMessage.replace(/\{\{index\}\}/,n+1).replace(/\{\{slidesLength\}\}/,u))}),e.navigation&&e.navigation.$nextEl&&(m=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(f=e.navigation.$prevEl),m&&m.length&&v(m,n,t.nextSlideMessage),f&&f.length&&v(f,n,t.prevSlideMessage),g()&&e.pagination.$el.on("keydown",H(e.params.pagination.bulletClass),h)}s("beforeInit",()=>{a=p('<span class="'.concat(e.params.a11y.notificationClass,'" aria-live="assertive" aria-atomic="true"></span>'))}),s("afterInit",()=>{e.params.a11y.enabled&&(w(),m())}),s("toEdge",()=>{e.params.a11y.enabled&&m()}),s("fromEdge",()=>{e.params.a11y.enabled&&m()}),s("paginationUpdate",()=>{e.params.a11y.enabled&&function(){const t=e.params.a11y;f()&&e.pagination.bullets.each(s=>{const a=p(s);e.params.pagination.clickable&&(n(a),e.params.pagination.renderBullet||(o(a,"button"),c(a,t.paginationBulletMessage.replace(/\{\{index\}\}/,a.index()+1)))),a.is(".".concat(e.params.pagination.bulletActiveClass))?a.attr("aria-current","true"):a.removeAttr("aria-current")})}()}),s("destroy",()=>{e.params.a11y.enabled&&function(){let t,s;a&&a.length>0&&a.remove(),e.navigation&&e.navigation.$nextEl&&(t=e.navigation.$nextEl),e.navigation&&e.navigation.$prevEl&&(s=e.navigation.$prevEl),t&&t.off("keydown",h),s&&s.off("keydown",h),g()&&e.pagination.$el.off("keydown",H(e.params.pagination.bulletClass),h)}()})},function({swiper:e,extendParams:t,on:s}){t({history:{enabled:!1,root:"",replaceState:!1,key:"slides"}});let a=!1,i={};const n=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),r=e=>{const t=o();let s;const a=(s=e?new URL(e):t.location).pathname.slice(1).split("/").filter(e=>""!==e),i=a.length;return{key:a[i-2],value:a[i-1]}},l=(t,s)=>{const i=o();if(!a||!e.params.history.enabled)return;let r;r=e.params.url?new URL(e.params.url):i.location;const l=e.slides.eq(s);let c=n(l.attr("data-history"));if(e.params.history.root.length>0){let s=e.params.history.root;"/"===s[s.length-1]&&(s=s.slice(0,s.length-1)),c="".concat(s,"/").concat(t,"/").concat(c)}else r.pathname.includes(t)||(c="".concat(t,"/").concat(c));const d=i.history.state;d&&d.value===c||(e.params.history.replaceState?i.history.replaceState({value:c},null,c):i.history.pushState({value:c},null,c))},c=(t,s,a)=>{if(s)for(let i=0,r=e.slides.length;i<r;i+=1){const r=e.slides.eq(i);if(n(r.attr("data-history"))===s&&!r.hasClass(e.params.slideDuplicateClass)){const s=r.index();e.slideTo(s,t,a)}}else e.slideTo(0,t,a)},d=()=>{i=r(e.params.url),c(e.params.speed,e.paths.value,!1)};s("init",()=>{e.params.history.enabled&&(()=>{const t=o();if(e.params.history){if(!t.history||!t.history.pushState)return e.params.history.enabled=!1,void(e.params.hashNavigation.enabled=!0);a=!0,((i=r(e.params.url)).key||i.value)&&(c(0,i.value,e.params.runCallbacksOnInit),e.params.history.replaceState||t.addEventListener("popstate",d))}})()}),s("destroy",()=>{e.params.history.enabled&&(()=>{const t=o();e.params.history.replaceState||t.removeEventListener("popstate",d)})()}),s("transitionEnd _freeModeNoMomentumRelease",()=>{a&&l(e.params.history.key,e.activeIndex)}),s("slideChange",()=>{a&&e.params.cssMode&&l(e.params.history.key,e.activeIndex)})},function({swiper:e,extendParams:t,emit:s,on:a}){let n=!1;const r=i(),l=o();t({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}});const c=()=>{s("hashChange");const t=r.location.hash.replace("#","");if(t!==e.slides.eq(e.activeIndex).attr("data-hash")){const s=e.$wrapperEl.children(".".concat(e.params.slideClass,'[data-hash="').concat(t,'"]')).index();if(void 0===s)return;e.slideTo(s)}},d=()=>{if(n&&e.params.hashNavigation.enabled)if(e.params.hashNavigation.replaceState&&l.history&&l.history.replaceState)l.history.replaceState(null,null,"#".concat(e.slides.eq(e.activeIndex).attr("data-hash"))||""),s("hashSet");else{const t=e.slides.eq(e.activeIndex),a=t.attr("data-hash")||t.attr("data-history");r.location.hash=a||"",s("hashSet")}};a("init",()=>{e.params.hashNavigation.enabled&&(()=>{if(!e.params.hashNavigation.enabled||e.params.history&&e.params.history.enabled)return;n=!0;const t=r.location.hash.replace("#","");if(t){const s=0;for(let a=0,i=e.slides.length;a<i;a+=1){const i=e.slides.eq(a);if((i.attr("data-hash")||i.attr("data-history"))===t&&!i.hasClass(e.params.slideDuplicateClass)){const t=i.index();e.slideTo(t,s,e.params.runCallbacksOnInit,!0)}}}e.params.hashNavigation.watchState&&p(l).on("hashchange",c)})()}),a("destroy",()=>{e.params.hashNavigation.enabled&&e.params.hashNavigation.watchState&&p(l).off("hashchange",c)}),a("transitionEnd _freeModeNoMomentumRelease",()=>{n&&d()}),a("slideChange",()=>{n&&e.params.cssMode&&d()})},function({swiper:e,extendParams:t,on:s,emit:a}){let n;function r(){const t=e.slides.eq(e.activeIndex);let s=e.params.autoplay.delay;t.attr("data-swiper-autoplay")&&(s=t.attr("data-swiper-autoplay")||e.params.autoplay.delay),clearTimeout(n),n=h(()=>{let t;e.params.autoplay.reverseDirection?e.params.loop?(e.loopFix(),t=e.slidePrev(e.params.speed,!0,!0),a("autoplay")):e.isBeginning?e.params.autoplay.stopOnLastSlide?l():(t=e.slideTo(e.slides.length-1,e.params.speed,!0,!0),a("autoplay")):(t=e.slidePrev(e.params.speed,!0,!0),a("autoplay")):e.params.loop?(e.loopFix(),t=e.slideNext(e.params.speed,!0,!0),a("autoplay")):e.isEnd?e.params.autoplay.stopOnLastSlide?l():(t=e.slideTo(0,e.params.speed,!0,!0),a("autoplay")):(t=e.slideNext(e.params.speed,!0,!0),a("autoplay")),e.params.cssMode&&e.autoplay.running?r():!1===t&&r()},s)}function o(){return void 0===n&&!e.autoplay.running&&(e.autoplay.running=!0,a("autoplayStart"),r(),!0)}function l(){return!!e.autoplay.running&&void 0!==n&&(n&&(clearTimeout(n),n=void 0),e.autoplay.running=!1,a("autoplayStop"),!0)}function c(t){e.autoplay.running&&(e.autoplay.paused||(n&&clearTimeout(n),e.autoplay.paused=!0,0!==t&&e.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(t=>{e.$wrapperEl[0].addEventListener(t,p)}):(e.autoplay.paused=!1,r())))}function d(){const t=i();"hidden"===t.visibilityState&&e.autoplay.running&&c(),"visible"===t.visibilityState&&e.autoplay.paused&&(r(),e.autoplay.paused=!1)}function p(t){e&&!e.destroyed&&e.$wrapperEl&&t.target===e.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(t=>{e.$wrapperEl[0].removeEventListener(t,p)}),e.autoplay.paused=!1,e.autoplay.running?r():l())}function u(){e.params.autoplay.disableOnInteraction?l():c(),["transitionend","webkitTransitionEnd"].forEach(t=>{e.$wrapperEl[0].removeEventListener(t,p)})}function m(){e.params.autoplay.disableOnInteraction||(e.autoplay.paused=!1,r())}e.autoplay={running:!1,paused:!1},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),s("init",()=>{e.params.autoplay.enabled&&(o(),i().addEventListener("visibilitychange",d),e.params.autoplay.pauseOnMouseEnter&&(e.$el.on("mouseenter",u),e.$el.on("mouseleave",m)))}),s("beforeTransitionStart",(t,s,a)=>{e.autoplay.running&&(a||!e.params.autoplay.disableOnInteraction?e.autoplay.pause(s):l())}),s("sliderFirstMove",()=>{e.autoplay.running&&(e.params.autoplay.disableOnInteraction?l():c())}),s("touchEnd",()=>{e.params.cssMode&&e.autoplay.paused&&!e.params.autoplay.disableOnInteraction&&r()}),s("destroy",()=>{e.$el.off("mouseenter",u),e.$el.off("mouseleave",m),e.autoplay.running&&l(),i().removeEventListener("visibilitychange",d)}),Object.assign(e.autoplay,{pause:c,run:r,start:o,stop:l})},function({swiper:e,extendParams:t,on:s}){t({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let a=!1,i=!1;function n(){const t=e.thumbs.swiper;if(!t)return;const s=t.clickedIndex,a=t.clickedSlide;if(a&&p(a).hasClass(e.params.thumbs.slideThumbActiveClass))return;if(null==s)return;let i;if(i=t.params.loop?parseInt(p(t.clickedSlide).attr("data-swiper-slide-index"),10):s,e.params.loop){let t=e.activeIndex;e.slides.eq(t).hasClass(e.params.slideDuplicateClass)&&(e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft,t=e.activeIndex);const s=e.slides.eq(t).prevAll('[data-swiper-slide-index="'.concat(i,'"]')).eq(0).index(),a=e.slides.eq(t).nextAll('[data-swiper-slide-index="'.concat(i,'"]')).eq(0).index();i=void 0===s?a:void 0===a?s:a-t<t-s?a:s}e.slideTo(i)}function r(){const{thumbs:t}=e.params;if(a)return!1;a=!0;const s=e.constructor;if(t.swiper instanceof s)e.thumbs.swiper=t.swiper,Object.assign(e.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(e.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(g(t.swiper)){const a=Object.assign({},t.swiper);Object.assign(a,{watchSlidesProgress:!0,slideToClickedSlide:!1}),e.thumbs.swiper=new s(a),i=!0}return e.thumbs.swiper.$el.addClass(e.params.thumbs.thumbsContainerClass),e.thumbs.swiper.on("tap",n),!0}function o(t){const s=e.thumbs.swiper;if(!s)return;const a="auto"===s.params.slidesPerView?s.slidesPerViewDynamic():s.params.slidesPerView,i=e.params.thumbs.autoScrollOffset,n=i&&!s.params.loop;if(e.realIndex!==s.realIndex||n){let r,o,l=s.activeIndex;if(s.params.loop){s.slides.eq(l).hasClass(s.params.slideDuplicateClass)&&(s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft,l=s.activeIndex);const t=s.slides.eq(l).prevAll('[data-swiper-slide-index="'.concat(e.realIndex,'"]')).eq(0).index(),a=s.slides.eq(l).nextAll('[data-swiper-slide-index="'.concat(e.realIndex,'"]')).eq(0).index();r=void 0===t?a:void 0===a?t:a-l==l-t?s.params.slidesPerGroup>1?a:l:a-l<l-t?a:t,o=e.activeIndex>e.previousIndex?"next":"prev"}else o=(r=e.realIndex)>e.previousIndex?"next":"prev";n&&(r+="next"===o?i:-1*i),s.visibleSlidesIndexes&&s.visibleSlidesIndexes.indexOf(r)<0&&(s.params.centeredSlides?r=r>l?r-Math.floor(a/2)+1:r+Math.floor(a/2)-1:r>l&&s.params.slidesPerGroup,s.slideTo(r,t?0:void 0))}let r=1;const o=e.params.thumbs.slideThumbActiveClass;if(e.params.slidesPerView>1&&!e.params.centeredSlides&&(r=e.params.slidesPerView),e.params.thumbs.multipleActiveThumbs||(r=1),r=Math.floor(r),s.slides.removeClass(o),s.params.loop||s.params.virtual&&s.params.virtual.enabled)for(let l=0;l<r;l+=1)s.$wrapperEl.children('[data-swiper-slide-index="'.concat(e.realIndex+l,'"]')).addClass(o);else for(let l=0;l<r;l+=1)s.slides.eq(e.realIndex+l).addClass(o)}e.thumbs={swiper:null},s("beforeInit",()=>{const{thumbs:t}=e.params;t&&t.swiper&&(r(),o(!0))}),s("slideChange update resize observerUpdate",()=>{e.thumbs.swiper&&o()}),s("setTransition",(t,s)=>{const a=e.thumbs.swiper;a&&a.setTransition(s)}),s("beforeDestroy",()=>{const t=e.thumbs.swiper;t&&i&&t&&t.destroy()}),Object.assign(e.thumbs,{init:r,update:o})},function({swiper:e,extendParams:t,emit:s,once:a}){t({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(e,{freeMode:{onTouchMove:function(){const{touchEventsData:t,touches:s}=e;0===t.velocities.length&&t.velocities.push({position:s[e.isHorizontal()?"startX":"startY"],time:t.touchStartTime}),t.velocities.push({position:s[e.isHorizontal()?"currentX":"currentY"],time:m()})},onTouchEnd:function({currentPos:t}){const{params:i,$wrapperEl:n,rtlTranslate:r,snapGrid:o,touchEventsData:l}=e,c=m()-l.touchStartTime;if(t<-e.minTranslate())e.slideTo(e.activeIndex);else if(t>-e.maxTranslate())e.slides.length<o.length?e.slideTo(o.length-1):e.slideTo(e.slides.length-1);else{if(i.freeMode.momentum){if(l.velocities.length>1){const t=l.velocities.pop(),s=l.velocities.pop(),a=t.position-s.position,n=t.time-s.time;e.velocity=a/n,e.velocity/=2,Math.abs(e.velocity)<i.freeMode.minimumVelocity&&(e.velocity=0),(n>150||m()-t.time>300)&&(e.velocity=0)}else e.velocity=0;e.velocity*=i.freeMode.momentumVelocityRatio,l.velocities.length=0;let t=1e3*i.freeMode.momentumRatio;const c=e.velocity*t;let d=e.translate+c;r&&(d=-d);let p,u=!1;const h=20*Math.abs(e.velocity)*i.freeMode.momentumBounceRatio;let f;if(d<e.maxTranslate())i.freeMode.momentumBounce?(d+e.maxTranslate()<-h&&(d=e.maxTranslate()-h),p=e.maxTranslate(),u=!0,l.allowMomentumBounce=!0):d=e.maxTranslate(),i.loop&&i.centeredSlides&&(f=!0);else if(d>e.minTranslate())i.freeMode.momentumBounce?(d-e.minTranslate()>h&&(d=e.minTranslate()+h),p=e.minTranslate(),u=!0,l.allowMomentumBounce=!0):d=e.minTranslate(),i.loop&&i.centeredSlides&&(f=!0);else if(i.freeMode.sticky){let t;for(let e=0;e<o.length;e+=1)if(o[e]>-d){t=e;break}d=-(d=Math.abs(o[t]-d)<Math.abs(o[t-1]-d)||"next"===e.swipeDirection?o[t]:o[t-1])}if(f&&a("transitionEnd",()=>{e.loopFix()}),0!==e.velocity){if(t=r?Math.abs((-d-e.translate)/e.velocity):Math.abs((d-e.translate)/e.velocity),i.freeMode.sticky){const s=Math.abs((r?-d:d)-e.translate),a=e.slidesSizesGrid[e.activeIndex];t=s<a?i.speed:s<2*a?1.5*i.speed:2.5*i.speed}}else if(i.freeMode.sticky)return void e.slideToClosest();i.freeMode.momentumBounce&&u?(e.updateProgress(p),e.setTransition(t),e.setTranslate(d),e.transitionStart(!0,e.swipeDirection),e.animating=!0,n.transitionEnd(()=>{e&&!e.destroyed&&l.allowMomentumBounce&&(s("momentumBounce"),e.setTransition(i.speed),setTimeout(()=>{e.setTranslate(p),n.transitionEnd(()=>{e&&!e.destroyed&&e.transitionEnd()})},0))})):e.velocity?(s("_freeModeNoMomentumRelease"),e.updateProgress(d),e.setTransition(t),e.setTranslate(d),e.transitionStart(!0,e.swipeDirection),e.animating||(e.animating=!0,n.transitionEnd(()=>{e&&!e.destroyed&&e.transitionEnd()}))):e.updateProgress(d),e.updateActiveIndex(),e.updateSlidesClasses()}else{if(i.freeMode.sticky)return void e.slideToClosest();i.freeMode&&s("_freeModeNoMomentumRelease")}(!i.freeMode.momentum||c>=i.longSwipesMs)&&(e.updateProgress(),e.updateActiveIndex(),e.updateSlidesClasses())}}}})},function({swiper:e,extendParams:t}){let a,i,n;t({grid:{rows:1,fill:"column"}}),e.grid={initSlides:t=>{const{slidesPerView:s}=e.params,{rows:r,fill:o}=e.params.grid;i=a/r,n=Math.floor(t/r),a=Math.floor(t/r)===t/r?t:Math.ceil(t/r)*r,"auto"!==s&&"row"===o&&(a=Math.max(a,s*r))},updateSlide:(t,s,r,o)=>{const{slidesPerGroup:l,spaceBetween:c}=e.params,{rows:d,fill:p}=e.params.grid;let u,h,m;if("row"===p&&l>1){const e=Math.floor(t/(l*d)),i=t-d*l*e,n=0===e?l:Math.min(Math.ceil((r-e*d*l)/d),l);u=(h=i-(m=Math.floor(i/n))*n+e*l)+m*a/d,s.css({"-webkit-order":u,order:u})}else"column"===p?(m=t-(h=Math.floor(t/d))*d,(h>n||h===n&&m===d-1)&&(m+=1)>=d&&(m=0,h+=1)):h=t-(m=Math.floor(t/i))*i;s.css(o("margin-top"),0!==m?c&&"".concat(c,"px"):"")},updateWrapperSize:(t,i,n)=>{const{spaceBetween:r,centeredSlides:o,roundLengths:l}=e.params,{rows:c}=e.params.grid;if(e.virtualSize=(t+r)*a,e.virtualSize=Math.ceil(e.virtualSize/c)-r,e.$wrapperEl.css(s({},n("width"),"".concat(e.virtualSize+r,"px"))),o){i.splice(0,i.length);const t=[];for(let s=0;s<i.length;s+=1){let a=i[s];l&&(a=Math.floor(a)),i[s]<e.virtualSize+i[0]&&t.push(a)}i.push(...t)}}}},function({swiper:e}){Object.assign(e,{appendSlide:Y.bind(e),prependSlide:j.bind(e),addSlide:W.bind(e),removeSlide:R.bind(e),removeAllSlides:_.bind(e)})},function({swiper:e,extendParams:t,on:s}){t({fadeEffect:{crossFade:!1,transformEl:null}}),V({effect:"fade",swiper:e,on:s,setTranslate:()=>{const{slides:t}=e,s=e.params.fadeEffect;for(let a=0;a<t.length;a+=1){const t=e.slides.eq(a);let i=-t[0].swiperSlideOffset;e.params.virtualTranslate||(i-=e.translate);let n=0;e.isHorizontal()||(n=i,i=0);const r=e.params.fadeEffect.crossFade?Math.max(1-Math.abs(t[0].progress),0):1+Math.min(Math.max(t[0].progress,-1),0);q(s,t).css({opacity:r}).transform("translate3d(".concat(i,"px, ").concat(n,"px, 0px)"))}},setTransition:t=>{const{transformEl:s}=e.params.fadeEffect;(s?e.slides.find(s):e.slides).transition(t),F({swiper:e,duration:t,transformEl:s,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function({swiper:e,extendParams:t,on:s}){t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}}),V({effect:"cube",swiper:e,on:s,setTranslate:()=>{const{$el:t,$wrapperEl:s,slides:a,width:i,height:n,rtlTranslate:r,size:o,browser:l}=e,c=e.params.cubeEffect,d=e.isHorizontal(),u=e.virtual&&e.params.virtual.enabled;let h,m=0;c.shadow&&(d?(0===(h=s.find(".swiper-cube-shadow")).length&&(h=p('<div class="swiper-cube-shadow"></div>'),s.append(h)),h.css({height:"".concat(i,"px")})):0===(h=t.find(".swiper-cube-shadow")).length&&(h=p('<div class="swiper-cube-shadow"></div>'),t.append(h)));for(let e=0;e<a.length;e+=1){const t=a.eq(e);let s=e;u&&(s=parseInt(t.attr("data-swiper-slide-index"),10));let i=90*s,n=Math.floor(i/360);r&&(i=-i,n=Math.floor(-i/360));const l=Math.max(Math.min(t[0].progress,1),-1);let h=0,f=0,g=0;s%4==0?(h=4*-n*o,g=0):(s-1)%4==0?(h=0,g=4*-n*o):(s-2)%4==0?(h=o+4*n*o,g=o):(s-3)%4==0&&(h=-o,g=3*o+4*o*n),r&&(h=-h),d||(f=h,h=0);const v="rotateX(".concat(d?0:-i,"deg) rotateY(").concat(d?i:0,"deg) translate3d(").concat(h,"px, ").concat(f,"px, ").concat(g,"px)");if(l<=1&&l>-1&&(m=90*s+90*l,r&&(m=90*-s-90*l)),t.transform(v),c.slideShadows){let e=d?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),s=d?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===e.length&&(e=p('<div class="swiper-slide-shadow-'.concat(d?"left":"top",'"></div>')),t.append(e)),0===s.length&&(s=p('<div class="swiper-slide-shadow-'.concat(d?"right":"bottom",'"></div>')),t.append(s)),e.length&&(e[0].style.opacity=Math.max(-l,0)),s.length&&(s[0].style.opacity=Math.max(l,0))}}if(s.css({"-webkit-transform-origin":"50% 50% -".concat(o/2,"px"),"transform-origin":"50% 50% -".concat(o/2,"px")}),c.shadow)if(d)h.transform("translate3d(0px, ".concat(i/2+c.shadowOffset,"px, ").concat(-i/2,"px) rotateX(90deg) rotateZ(0deg) scale(").concat(c.shadowScale,")"));else{const e=Math.abs(m)-90*Math.floor(Math.abs(m)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),s=c.shadowScale,a=c.shadowScale/t,i=c.shadowOffset;h.transform("scale3d(".concat(s,", 1, ").concat(a,") translate3d(0px, ").concat(n/2+i,"px, ").concat(-n/2/a,"px) rotateX(-90deg)"))}const f=l.isSafari||l.isWebView?-o/2:0;s.transform("translate3d(0px,0,".concat(f,"px) rotateX(").concat(e.isHorizontal()?0:m,"deg) rotateY(").concat(e.isHorizontal()?-m:0,"deg)"))},setTransition:t=>{const{$el:s,slides:a}=e;a.transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),e.params.cubeEffect.shadow&&!e.isHorizontal()&&s.find(".swiper-cube-shadow").transition(t)},perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function({swiper:e,extendParams:t,on:s}){t({flipEffect:{slideShadows:!0,limitRotation:!0,transformEl:null}}),V({effect:"flip",swiper:e,on:s,setTranslate:()=>{const{slides:t,rtlTranslate:s}=e,a=e.params.flipEffect;for(let i=0;i<t.length;i+=1){const n=t.eq(i);let r=n[0].progress;e.params.flipEffect.limitRotation&&(r=Math.max(Math.min(n[0].progress,1),-1));const o=n[0].swiperSlideOffset;let l=-180*r,c=0,d=e.params.cssMode?-o-e.translate:-o,p=0;if(e.isHorizontal()?s&&(l=-l):(p=d,d=0,c=-l,l=0),n[0].style.zIndex=-Math.abs(Math.round(r))+t.length,a.slideShadows){let t=e.isHorizontal()?n.find(".swiper-slide-shadow-left"):n.find(".swiper-slide-shadow-top"),s=e.isHorizontal()?n.find(".swiper-slide-shadow-right"):n.find(".swiper-slide-shadow-bottom");0===t.length&&(t=U(a,n,e.isHorizontal()?"left":"top")),0===s.length&&(s=U(a,n,e.isHorizontal()?"right":"bottom")),t.length&&(t[0].style.opacity=Math.max(-r,0)),s.length&&(s[0].style.opacity=Math.max(r,0))}const u="translate3d(".concat(d,"px, ").concat(p,"px, 0px) rotateX(").concat(c,"deg) rotateY(").concat(l,"deg)");q(a,n).transform(u)}},setTransition:t=>{const{transformEl:s}=e.params.flipEffect;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t),F({swiper:e,duration:t,transformEl:s})},perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!e.params.cssMode})})},function({swiper:e,extendParams:t,on:s}){t({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),V({effect:"coverflow",swiper:e,on:s,setTranslate:()=>{const{width:t,height:s,slides:a,slidesSizesGrid:i}=e,n=e.params.coverflowEffect,r=e.isHorizontal(),o=e.translate,l=r?t/2-o:s/2-o,c=r?n.rotate:-n.rotate,d=n.depth;for(let e=0,p=a.length;e<p;e+=1){const t=a.eq(e),s=i[e],o=(l-t[0].swiperSlideOffset-s/2)/s*n.modifier;let p=r?c*o:0,u=r?0:c*o,h=-d*Math.abs(o),m=n.stretch;"string"==typeof m&&-1!==m.indexOf("%")&&(m=parseFloat(n.stretch)/100*s);let f=r?0:m*o,g=r?m*o:0,v=1-(1-n.scale)*Math.abs(o);Math.abs(g)<.001&&(g=0),Math.abs(f)<.001&&(f=0),Math.abs(h)<.001&&(h=0),Math.abs(p)<.001&&(p=0),Math.abs(u)<.001&&(u=0),Math.abs(v)<.001&&(v=0);const w="translate3d(".concat(g,"px,").concat(f,"px,").concat(h,"px)  rotateX(").concat(u,"deg) rotateY(").concat(p,"deg) scale(").concat(v,")");if(q(n,t).transform(w),t[0].style.zIndex=1-Math.abs(Math.round(o)),n.slideShadows){let e=r?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),s=r?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===e.length&&(e=U(n,t,r?"left":"top")),0===s.length&&(s=U(n,t,r?"right":"bottom")),e.length&&(e[0].style.opacity=o>0?o:0),s.length&&(s[0].style.opacity=-o>0?-o:0)}}},setTransition:t=>{const{transformEl:s}=e.params.coverflowEffect;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(t)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function({swiper:e,extendParams:t,on:s}){t({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const a=e=>"string"==typeof e?e:"".concat(e,"px");V({effect:"creative",swiper:e,on:s,setTranslate:()=>{const{slides:t,$wrapperEl:s,slidesSizesGrid:i}=e,n=e.params.creativeEffect,{progressMultiplier:r}=n,o=e.params.centeredSlides;if(o){const t=i[0]/2-e.params.slidesOffsetBefore||0;s.transform("translateX(calc(50% - ".concat(t,"px))"))}for(let l=0;l<t.length;l+=1){const s=t.eq(l),i=s[0].progress,c=Math.min(Math.max(s[0].progress,-n.limitProgress),n.limitProgress);let d=c;o||(d=Math.min(Math.max(s[0].originalProgress,-n.limitProgress),n.limitProgress));const p=s[0].swiperSlideOffset,u=[e.params.cssMode?-p-e.translate:-p,0,0],h=[0,0,0];let m=!1;e.isHorizontal()||(u[1]=u[0],u[0]=0);let f={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};c<0?(f=n.next,m=!0):c>0&&(f=n.prev,m=!0),u.forEach((e,t)=>{u[t]="calc(".concat(e,"px + (").concat(a(f.translate[t])," * ").concat(Math.abs(c*r),"))")}),h.forEach((e,t)=>{h[t]=f.rotate[t]*Math.abs(c*r)}),s[0].style.zIndex=-Math.abs(Math.round(i))+t.length;const g=u.join(", "),v="rotateX(".concat(h[0],"deg) rotateY(").concat(h[1],"deg) rotateZ(").concat(h[2],"deg)"),w="scale(".concat(d<0?1+(1-f.scale)*d*r:1-(1-f.scale)*d*r,")"),b=d<0?1+(1-f.opacity)*d*r:1-(1-f.opacity)*d*r,x="translate3d(".concat(g,") ").concat(v," ").concat(w);if(m&&f.shadow||!m){let e=s.children(".swiper-slide-shadow");if(0===e.length&&f.shadow&&(e=U(n,s)),e.length){const t=n.shadowPerProgress?c*(1/n.limitProgress):c;e[0].style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const y=q(n,s);y.transform(x).css({opacity:b}),f.origin&&y.css("transform-origin",f.origin)}},setTransition:t=>{const{transformEl:s}=e.params.creativeEffect;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow").transition(t),F({swiper:e,duration:t,transformEl:s,allSlides:!0})},perspective:()=>e.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})},function({swiper:e,extendParams:t,on:s}){t({cardsEffect:{slideShadows:!0,transformEl:null}}),V({effect:"cards",swiper:e,on:s,setTranslate:()=>{const{slides:t,activeIndex:s}=e,a=e.params.cardsEffect,{startTranslate:i,isTouched:n}=e.touchEventsData,r=e.translate;for(let o=0;o<t.length;o+=1){const l=t.eq(o),c=l[0].progress,d=Math.min(Math.max(c,-4),4);let p=l[0].swiperSlideOffset;e.params.centeredSlides&&!e.params.cssMode&&e.$wrapperEl.transform("translateX(".concat(e.minTranslate(),"px)")),e.params.centeredSlides&&e.params.cssMode&&(p-=t[0].swiperSlideOffset);let u=e.params.cssMode?-p-e.translate:-p,h=0;const m=-100*Math.abs(d);let f=1,g=-2*d,v=8-.75*Math.abs(d);const w=(o===s||o===s-1)&&d>0&&d<1&&(n||e.params.cssMode)&&r<i,b=(o===s||o===s+1)&&d<0&&d>-1&&(n||e.params.cssMode)&&r>i;if(w||b){const e=(1-Math.abs((Math.abs(d)-.5)/.5))**.5;g+=-28*d*e,f+=-.5*e,v+=96*e,h="".concat(-25*e*Math.abs(d),"%")}if(u=d<0?"calc(".concat(u,"px + (").concat(v*Math.abs(d),"%))"):d>0?"calc(".concat(u,"px + (-").concat(v*Math.abs(d),"%))"):"".concat(u,"px"),!e.isHorizontal()){const e=h;h=u,u=e}const x="".concat(d<0?1+(1-f)*d:1-(1-f)*d),y="\n        translate3d(".concat(u,", ").concat(h,", ").concat(m,"px)\n        rotateZ(").concat(g,"deg)\n        scale(").concat(x,")\n      ");if(a.slideShadows){let e=l.find(".swiper-slide-shadow");0===e.length&&(e=U(a,l)),e.length&&(e[0].style.opacity=Math.min(Math.max((Math.abs(d)-.5)/.5,0),1))}l[0].style.zIndex=-Math.abs(Math.round(c))+t.length,q(a,l).transform(y)}},setTransition:t=>{const{transformEl:s}=e.params.cardsEffect;(s?e.slides.find(s):e.slides).transition(t).find(".swiper-slide-shadow").transition(t),F({swiper:e,duration:t,transformEl:s})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!e.params.cssMode})})}];return B.use(K),B});
},{}],"ev02":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="safari",r="chrome",t="ie",o="firefox",s={SAFARI:e,CHROME:r,IE:t,FIREFOX:o};exports.default=s;
},{}],"al7D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=c;var e=s(require("@babel/runtime/helpers/defineProperty")),r=s(require("swiper/swiper-bundle")),t=s(require("../constants/browsers")),o=require("../lib/util");require("swiper/swiper-bundle.css");var n=s(require("../constants/layouts"));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function a(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach(function(t){(0,e.default)(r,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function c(e,s){var u={effect:"cube",cubeEffect:{shadow:!0,slideShadows:!0,shadowOffset:20,shadowScale:.94}};return((0,o.getBrowser)()===t.default.SAFARI||(0,o.isIphone)())&&(u={effect:"creative",creativeEffect:{prev:{shadow:!1,translate:["-120%",0,-100]},next:{shadow:!1,translate:["120%",0,-100]}}}),new r.default(e,a({grabCursor:!0,a11y:{enabled:!1}},s===n.default.MODERN?{grabCursor:!1,allowTouchMove:!1}:u))}
},{"@babel/runtime/helpers/defineProperty":"IxO8","swiper/swiper-bundle":"vfVQ","../constants/browsers":"ev02","../lib/util":"PesM","swiper/swiper-bundle.css":"WCGv","../constants/layouts":"kUgL"}],"pXwr":[function(require,module,exports) {
"use strict";function e(e){var i,d;void 0!==document.hidden?(i="hidden",d="visibilitychange"):void 0!==document.msHidden?(i="msHidden",d="msvisibilitychange"):void 0!==document.webkitHidden&&(i="webkitHidden",d="webkitvisibilitychange"),document.addEventListener(d,function(){return e(i)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"QGoa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("@babel/runtime/helpers/toConsumableArray")),t=s(require("@babel/runtime/helpers/defineProperty")),n=s(require("@babel/runtime/helpers/classCallCheck")),r=s(require("@babel/runtime/helpers/createClass")),i=require("../constants/events"),o=require("../lib/util");function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach(function(n){(0,t.default)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var u=function(){function t(e,r,i,o,s){(0,n.default)(this,t),this.api_=s,this.getActiveGroup_=r,this.getPrevGroup_=i,this.getNextGroup_=o,this.storyShadowRoot_=e,this.defaultPayload_={},this.setEventListener_()}return(0,r.default)(t,[{key:"setEventListener_",value:function(){this.storyShadowRoot_.addEventListener("onStoryComplete",this.handleCompleteStoryEvent.bind(this)),this.storyShadowRoot_.addEventListener("onShareStoryEvent",this.handleShareEvent.bind(this)),this.storyShadowRoot_.addEventListener("onPlayPauseEvent",this.handlePlayPauseEvent.bind(this))}},{key:"onScreenEvent",value:function(){var e={event_type:i.EventTypes.OnScreen,story_group_id:null,story_id:null,story_group_type:null,story_interactive_id:null,story_interactive_type:null,watch_length:null,event_time:Date.now()};this.api_.sendEvent(e)}},{key:"onBarViewedEvent",value:function(e){var t=_({event_type:i.EventTypes.BarViewed,story_group_id:null,story_id:null,story_group_type:null,story_interactive_id:null,story_interactive_type:null,watch_length:null,event_time:Date.now()},e);this.api_.sendEvent(t)}},{key:"handleCompleteStoryEvent",value:function(e){var t=this.getActiveGroup_(),n=t.instance.getPrevStory();"groupCompleted"===e&&(n=t.instance.getActiveStory());var r=n.instance.getWatchLength(),o={event_type:i.EventTypes.Complete,story_group_id:t.group_id,story_id:n.story_id,story_group_type:"default",story_interactive_id:null,story_interactive_type:null,watch_length:r,event_time:Date.now()};this.api_.sendEvent(o)}},{key:"handleSwipingStoryEvent",value:function(e,t){var n=this.getActiveGroup_(),r=n.instance.getActiveStory(),o=r.instance.getWatchLength(),s=i.EventTypes.PreviousClicked;"next"===e&&(s=i.EventTypes.NextClicked);var a={event_type:s,story_group_id:n.group_id,story_id:r.story_id,story_group_type:"default",story_interactive_id:null,story_interactive_type:null,watch_length:o,event_time:Date.now(),gesture_type:t};this.api_.sendEvent(a)}},{key:"handleImpressionEvent",value:function(t){var n,r=t.products,s=t.country,a=t.language,u=this.getActiveGroup_(),l=u.instance.getActiveStory(),y=l.instance.getWatchLength(),p=l.media.layers.flatMap(function(e){return e.products}).filter(Boolean);p.length&&(n=p.reduce(function(t,n){var i=r.find(function(e){return e.product_id===n.product_id});return[].concat((0,e.default)(t),[i])},[]).map(function(e){return _(_({},(0,o.productEventPayloadHandler)(e)),{},{country:s,language:a})}));var v={event_type:i.EventTypes.Impression,story_group_id:u.group_id,story_id:l.story_id,story_group_type:u.ad?"ad":"default",story_interactive_id:null,story_interactive_type:null,watch_length:y,event_time:Date.now(),products:n};this.api_.sendEvent(v)}},{key:"handleCloseEvent",value:function(e){var t=this.getActiveGroup_(),n=t.instance.getActiveStory(),r=n.instance.getWatchLength(),o={event_type:i.EventTypes.Closed,story_group_id:t.group_id,story_id:n.story_id,story_group_type:"default",story_interactive_id:null,story_interactive_type:null,watch_length:r,event_time:Date.now(),gesture_type:e};this.api_.sendEvent(o)}},{key:"handleCompleteGroupEvent",value:function(){var e=this.getActiveGroup_(),t=e.instance.getActiveStory(),n=t.instance.getWatchLength(),r={event_type:i.EventTypes.GroupComplete,story_group_id:e.group_id,story_id:t.story_id,story_group_type:"default",story_interactive_id:null,story_interactive_type:null,watch_length:n,event_time:Date.now()};this.api_.sendEvent(r)}},{key:"handleSwipingGroupEvent",value:function(e,t){var n,r,o=this.getNextGroup_(),s=null!==(n=this.getActiveGroup_())&&void 0!==n?n:o,a=i.EventTypes.PrevSwiped;if("next"===e&&(a=i.EventTypes.NextSwiped,o=this.getPrevGroup_()),!(null!==(r=o)&&void 0!==r&&r.ad||null!=s&&s.ad)){var _=o.instance.getActiveStory(),u=_.instance.getWatchLength(),l=s.instance.getActiveStory(),y={event_type:a,story_group_id:o.group_id,story_id:_.story_id,story_group_type:"default",story_interactive_id:null,story_interactive_type:null,target_story_group_id:s.group_id,target_story_id:l.story_id,watch_length:u,event_time:Date.now(),gesture_type:t};this.api_.sendEvent(y)}}},{key:"handleSelectedGroupEvent",value:function(){var e=this.getActiveGroup_(),t=e.instance.getActiveStory(),n={event_type:i.EventTypes.Selected,story_group_id:e.group_id,story_id:t.story_id,story_group_type:"default",story_interactive_id:null,story_interactive_type:null,watch_length:null,event_time:Date.now()};this.api_.sendEvent(n)}},{key:"handlePlayPauseEvent",value:function(e){var t,n;if(e&&"detail"in e){var r=e.detail;t=r.gesture,n=r.eventType}var i=this.getActiveGroup_(),o=i.instance.getActiveStory(),s={event_type:n,story_group_id:i.group_id,story_id:o.story_id,story_group_type:"default",story_interactive_id:null,story_interactive_type:null,watch_length:null,event_time:Date.now(),gesture_type:t};this.api_.sendEvent(s)}},{key:"handleShareEvent",value:function(e){var t;e&&"detail"in e&&(t=e.detail.gesture);var n=this.getActiveGroup_(),r=n.instance.getActiveStory(),o={event_type:i.EventTypes.LinkShared,story_group_id:n.group_id,story_id:r.story_id,story_group_type:"default",story_interactive_id:null,story_interactive_type:null,watch_length:null,event_time:Date.now(),gesture_type:t};this.api_.sendEvent(o)}}]),t}(),l=u;exports.default=l;
},{"@babel/runtime/helpers/toConsumableArray":"Fhqp","@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","../constants/events":"d0lR","../lib/util":"PesM"}],"x2n1":[function(require,module,exports) {
"use strict";function t(t){var e,r,o=window.innerWidth,s=window.innerHeight;s/o<16/9?(r=100,e=100*(s/(16/9))/o):(e=100,r=100*(o*(16/9))/s);t.style.setProperty("--storyly-story-vh","".concat(r,"vh"),"important"),t.style.setProperty("--storyly-story-width","".concat(e,"%"),"important"),t.style.setProperty("--storyly-story-height","".concat(r,"%"),"important")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"F7DI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var t=r(require("../lib/proxy")),n=r(require("./story-group-badge.impl"));function r(t){return t&&t.__esModule?t:{default:t}}var e=function(t){return'<slot class="storyly__story-group-container" name="story-group-'.concat(t.group_id,'"></slot>')},o=function(r,e,o){var a=r.style,s=r.title,c=s;s.length>25&&(c="".concat(s.substring(0,25),"..."));var l=t.default.getNodeByInstanceId(e).getDataFromGlobal().globalInstanceData,i="",u="",d="";if(a){var y=(0,n.default)(a,o),p=y.template,g=y.borderUnseenColor,v=y.badgeStyle;p&&(u=p,d=v),i=g}return'\n    <div class="group storyly__story-group-container" role="text" tabindex="0" title="'.concat(s.length>25?s:"",'" dir="').concat(l.direction,'">\n      <div class="storyly__story-group-cover" style="').concat(i,'">\n        <img src="" alt="').concat(s,'" />\n        ').concat(u+d||'<div class="pin-icon">\n            <span class="icon"></span>\n          </div>','\n      </div>\n      <span class="storyly__story-group-title">').concat(c,"</span>\n    </div>\n  ")};function a(t){return t?e:o}
},{"../lib/proxy":"qmVm","./story-group-badge.impl":"DAaj"}],"UISh":[function(require,module,exports) {
"use strict";function e(e,t){var r=e.detail.asset,a=t.querySelector(".background-blur-canvas"),i=a.getContext("2d");if(r){if(r.hasAttribute("poster")){var o=new Image;o.src=r.getAttribute("poster"),o.width=r.videoWidth,o.height=r.videoHeight,r=o}i.drawImage(r,0,0,a.width,a.height);var d=i.createLinearGradient(0,0,0,3);d.addColorStop(0,"rgba(0, 0, 0, .75)"),d.addColorStop("0.5","rgba(0, 0, 0, .35)"),d.addColorStop(1,"rgba(0, 0, 0, .75)"),i.fillStyle=d}else i.fillStyle="rgba(0, 0, 0)";i.fillRect(0,0,a.width,a.height)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"Dl4t":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("@babel/runtime/helpers/classCallCheck")),t=a(require("@babel/runtime/helpers/createClass"));function a(e){return e&&e.__esModule?e:{default:e}}var n=function(){function a(){(0,e.default)(this,a)}return(0,t.default)(a,null,[{key:"add",value:function(e,t){if(e.length&&t){var a=t.mode,n=t.type;this.remove(e,t),a?e[0].classList.add("animating-".concat(n)):e.forEach(function(e){return e.classList.add("animating-".concat(n))})}}},{key:"remove",value:function(e,t){if(e.length&&t){var a=t.type;e.forEach(function(e){return e.classList.remove("animating-".concat(a))})}}}]),a}(),r=n;exports.default=r;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW"}],"O1Mq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../lib/proxy"));function t(e){return e&&e.__esModule?e:{default:e}}function a(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;if(e.default.getInstanceIdByDom(t).getDataFromGlobal().globalInstanceData.accessibility){var o=document.createElement("span");o.innerHTML=a,t.appendChild(o),setTimeout(function(){t.removeChild(o)},n)}}var n=a;exports.default=n;
},{"../lib/proxy":"qmVm"}],"FheM":[function(require,module,exports) {
var t=null;function e(){return t||(t=n()),t}function n(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return r(t[0])}return"/"}function r(t){return(""+t).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}exports.getBundleURL=e,exports.getBaseURL=r;
},{}],"TUK3":[function(require,module,exports) {
var r=require("./bundle-url").getBundleURL;function e(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch(n){if("MODULE_NOT_FOUND"===n.code)return new s(function(n,i){t(r.slice(0,-1)).then(function(){return require(e)}).then(n,i)});throw n}}function t(r){return Promise.all(r.map(u))}var n={};function i(r,e){n[r]=e}module.exports=exports=e,exports.load=t,exports.register=i;var o={};function u(e){var t;if(Array.isArray(e)&&(t=e[1],e=e[0]),o[e])return o[e];var i=(e.substring(e.lastIndexOf(".")+1,e.length)||e).toLowerCase(),u=n[i];return u?o[e]=u(r()+e).then(function(r){return r&&module.bundle.register(t,r),r}).catch(function(r){throw delete o[e],r}):void 0}function s(r){this.executor=r,this.promise=null}s.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},s.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)};
},{"./bundle-url":"FheM"}],"saY7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("@babel/runtime/helpers/asyncToGenerator")),t=i(require("@babel/runtime/helpers/classCallCheck")),r=i(require("@babel/runtime/helpers/createClass")),n=i(require("@babel/runtime/regenerator"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){function i(){(0,t.default)(this,i),this.init_=!1,this.allowDomains_=["https://www.footasylum.com","https://www.sevenstore.com","https://picard-fashion.com/","https://www.dominos.com.tr/"]}return(0,r.default)(i,[{key:"init",value:function(){var t=(0,e.default)(n.default.mark(function e(){return n.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.allowDomains_.includes(window.location.origin)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,require("_bundle_loader")(require.resolve("@sentry/browser"));case 4:this.Sentry_=e.sent,this.Sentry_.init({dsn:"https://281e821128514da6acd966c584d504f7@o1120595.ingest.sentry.io/6782776",defaultIntegrations:!1,allowUrls:["https://web-story.storyly.io/v2/storyly-web.js"],initialScope:{user:{website:window.location.hostname}},tracesSampleRate:1}),this.init_=!0;case 7:case"end":return e.stop()}},e,this)}));return function(){return t.apply(this,arguments)}}()},{key:"errorWrapper",value:function(e){if(this.init_)try{e()}catch(t){this.Sentry_.captureException(t)}else e()}}]),i}(),a=s;exports.default=a;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/regenerator":"PMvg","_bundle_loader":"TUK3","@sentry/browser":[["../versions/347feae/esm.13919b56.js","cUe8"],"cUe8"]}],"HgmH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="energized",t="classic",r={ENERGIZED:e,CLASSIC:t};exports.default=r;
},{}],"Ysjr":[function(require,module,exports) {
"use strict";function o(){return'\n    <div>\n      <div class="custom-story-group-container storyly__bar-layout">\n        <div class="custom-story-group">\n            <div class="storyly__story-preview"></div>\n            <div class="storyly__story-preview-video-wrapper">\n              <video\n                  muted\n                  onloadedmetadata="this.muted = true"\n                  disablePictureInPicture\n                  controlsList="nodownload"\n                  playsinline\n                  preload="none"\n                  class="storyly__story-preview-video"\n                  loop\n                >\n                  <source src="" type="video/mp4">\n                </video>\n            </div>\n            <svg width="27" height="27" viewBox="0 0 42 42" fill="none" xmlns="http://www.w3.org/2000/svg" class="storyly__fullscreen-icon">\n              <path fill-rule="evenodd" clip-rule="evenodd" d="M10.2986 31.4328H17.8488C18.5795 31.4328 19.1724 32.0256 19.1724 32.7564C19.1724 33.4871 18.5795 34.08 17.8488 34.08H8.97498C8.24426 34.08 7.65137 33.4871 7.65137 32.7564V23.8826C7.65137 23.1519 8.24424 22.559 8.97498 22.559C9.7057 22.559 10.2986 23.1518 10.2986 23.8826V31.4328ZM32.0041 31.4328V23.8826C32.0041 23.1519 32.597 22.559 33.3278 22.559C34.0585 22.559 34.6514 23.1518 34.6514 23.8826V32.7564C34.6514 33.4871 34.0585 34.08 33.3278 34.08H24.454C23.7232 34.08 23.1304 33.4871 23.1304 32.7564C23.1304 32.0257 23.7232 31.4328 24.454 31.4328H32.0041ZM32.0041 9.72718H24.454C23.7232 9.72718 23.1304 9.13431 23.1304 8.40357C23.1304 7.67285 23.7232 7.07996 24.454 7.07996H33.3278C34.0585 7.07996 34.6514 7.67283 34.6514 8.40357V17.2774C34.6514 18.0081 34.0585 18.601 33.3278 18.601C32.597 18.601 32.0041 18.0081 32.0041 17.2774V9.72718ZM10.2986 9.72718V17.2774C10.2986 18.0081 9.70572 18.601 8.97498 18.601C8.24426 18.601 7.65137 18.0081 7.65137 17.2774V8.40357C7.65137 7.67285 8.24424 7.07996 8.97498 7.07996H17.8488C18.5795 7.07996 19.1724 7.67283 19.1724 8.40357C19.1724 9.13429 18.5795 9.72718 17.8488 9.72718H10.2986Z" fill="white"/>\n            </svg>\n            <div class="storyly__story-group-title-container">\n              <div class="storyly__story-group-cover-wrapper">\n                <img class="storyly__story-group-cover" />\n              </div>\n              <span class="storyly__story-group-title"></span>\n            </div>\n            <span class="storyly__story-group-pin">\n              <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <rect x="0.4" y="0.4" width="35.2" height="35.2" rx="17.6" fill="white"/>\n                <path d="M16.5896 14.0166C17.1246 12.6826 17.3922 12.0157 17.8268 11.9233C17.9411 11.899 18.0592 11.899 18.1735 11.9233C18.6082 12.0157 18.8757 12.6826 19.4108 14.0166C19.715 14.7751 19.8672 15.1544 20.1518 15.4124C20.2317 15.4847 20.3184 15.5492 20.4107 15.6048C20.7397 15.8031 21.1504 15.8399 21.9719 15.9135C23.3626 16.038 24.0579 16.1003 24.2702 16.4967C24.3142 16.5788 24.3441 16.6677 24.3587 16.7597C24.4291 17.2039 23.9179 17.669 22.8956 18.5991L22.6117 18.8574C22.1337 19.2922 21.8948 19.5096 21.7565 19.781C21.6736 19.9437 21.618 20.119 21.592 20.2998C21.5485 20.6012 21.6185 20.9166 21.7585 21.5475L21.8085 21.7728C22.0595 22.9041 22.185 23.4698 22.0283 23.7478C21.8876 23.9975 21.6284 24.1574 21.3421 24.1711C21.0233 24.1863 20.5741 23.8203 19.6758 23.0883C19.084 22.6061 18.7881 22.3649 18.4595 22.2707C18.1593 22.1846 17.841 22.1846 17.5408 22.2707C17.2123 22.3649 16.9164 22.6061 16.3245 23.0883C15.4262 23.8203 14.977 24.1863 14.6583 24.1711C14.3719 24.1574 14.1127 23.9975 13.972 23.7478C13.8154 23.4698 13.9409 22.9041 14.1918 21.7728L14.2419 21.5475C14.3818 20.9166 14.4518 20.6012 14.4084 20.2998C14.3823 20.119 14.3267 19.9437 14.2438 19.781C14.1056 19.5096 13.8666 19.2922 13.3886 18.8574L13.1048 18.5991C12.0824 17.669 11.5713 17.2039 11.6417 16.7597C11.6562 16.6677 11.6861 16.5788 11.7301 16.4967C11.9424 16.1003 12.6378 16.038 14.0284 15.9135C14.8499 15.8399 15.2606 15.8031 15.5897 15.6048C15.682 15.5492 15.7686 15.4847 15.8485 15.4124C16.1332 15.1544 16.2853 14.7751 16.5896 14.0166Z" fill="#212121" stroke="#212121" stroke-width="1.6"/>\n                <rect x="0.4" y="0.4" width="35.2" height="35.2" rx="17.6" stroke="#EEEEEE" stroke-width="0.8"/>\n              </svg>\n            </span>\n          <div class="storyly__story-group-bar-overlay"></div>\n        </div>\n      </div>\n    </div>\n  '}function n(o){var n=o.height,r=9/(16/n);return'\n      <style>\n        .custom-story-group-container[data-sortorder="0"] .custom-story-group .storyly__story-preview,\n        .custom-story-group-container[data-sortorder="0"] .custom-story-group .storyly__story-preview-video {\n          animation: preview-shrink-animation 7s infinite;\n        }\n        .custom-story-group-container {\n          cursor: pointer;\n          height: '.concat(n,"px;\n          width: ").concat(r,"px;\n          margin-left: ").concat(.05*n,"px;\n          margin-right: ").concat(.05*n,"px;\n          border: 1px solid #E0E0E0;\n          border-radius: 12px;\n          overflow: hidden;\n          pointer-events: auto !important;\n          animation: bounce-scale-initial 0.6s ease-in-out forwards;\n        }\n        .custom-story-group-container.storyly__story-group-hovered {\n          animation: bounce-scale-hover 0.6s ease-in-out forwards;\n          z-index: 10;\n        }\n        .custom-story-group-container.storyly__story-group-hovered .storyly__story-group-title-container,\n        .custom-story-group-container.storyly__story-group-hovered .storyly__story-group-pin {\n          opacity: 0;\n        }\n        .custom-story-group-container.storyly__story-group-hovered .storyly__story-preview-video,\n        .custom-story-group-container.storyly__story-group-hovered .storyly__story-preview {\n          opacity: 1 !important;\n          transform: scale(1) !important;\n          animation-play-state: paused !important;\n        }\n        .custom-story-group-container.storyly__story-group-hovered .storyly__story-group-bar-overlay {\n          display: none;\n        }\n        .custom-story-group-container.storyly__story-group-hovered .storyly__fullscreen-icon {\n          display: block !important;\n        }\n        .custom-story-group-container.storyly__story-group-seen .storyly__story-preview-video,\n        .custom-story-group-container.storyly__story-group-seen .storyly__story-preview {\n          opacity: 0.6;\n        }\n        .custom-story-group-container.storyly__story-group-seen .storyly__story-group-cover-wrapper:before {\n          background: #fff;\n        }\n        .custom-story-group-container .custom-story-group .storyly__story-group-bar-overlay{\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(180deg, rgba(0, 0, 0, 0) 65.55%, rgba(0, 0, 0, 0.4) 100%), transparent;\n          position: relative;\n          z-index: 1;\n          display: block;\n        }\n        .custom-story-group-container .custom-story-group {\n          position: relative;\n          cursor: pointer;\n          border-radius: 16px;\n          width: 100%;\n          height: 100%;\n        }\n        .custom-story-group-container .custom-story-group .storyly__fullscreen-icon {\n          display: none;\n          position: absolute;\n          bottom: 10px;\n          right: 10px;\n        }\n        .custom-story-group-container .custom-story-group .storyly__story-preview-video {\n          position: absolute;\n          flex-shrink: 0;\n          top: 0;\n          margin: auto;\n          float: left;\n          user-select: none;\n          height: 100%;\n        }\n        .custom-story-group-container .custom-story-group .storyly__story-preview {\n          position: absolute;\n          left: 0;\n          right: 0;\n          top: 0;\n          bottom: 0;\n          background-size: cover;\n          background-position: center;\n          background-repeat: no-repeat;\n          display: block;\n        }\n        .custom-story-group .storyly__story-group-title-container {\n          position: absolute;\n          bottom: 8%;\n          left: 50%;\n          transform: translateX(-50%);\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          width: 100%;\n          z-index: 2;\n          transition: opacity 0.3s ease-in-out;\n          opacity: 1;\n        }\n        .custom-story-group .storyly__story-group-title-container .storyly__story-group-title{\n          color: #fff;\n          font-weight: 600;\n          font-family: 'Storyly-Inter', sans-serif;\n          font-size: 16px;\n          margin-top: 16px;\n          width: ").concat(r,"px;\n          box-sizing: border-box;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          text-align: center;\n          padding: 0 5px;\n        }\n        .custom-story-group .storyly__story-group-cover-wrapper:before {\n          background: var(--border-unseen-color, #fff);\n          content: '';\n          position: absolute;\n          top: 0; right: 0; bottom: 0; left: 0;\n          z-index: 1;\n          margin: -3px;\n          border-radius: inherit;\n        }\n        .custom-story-group .storyly__story-group-cover-wrapper .storyly__story-group-cover{\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          pointer-events: none;\n          z-index: 2;\n          border-radius: 50%;\n        }\n        .custom-story-group .storyly__story-group-cover-wrapper {\n          height: 72px;\n          width: 72px;\n          border-radius: 50%;\n          box-sizing: border-box;\n          filter: drop-shadow(0px 16px 20px rgba(36, 36, 80, 0.16));\n          position: relative;\n        }\n        .custom-story-group .storyly__story-group-pin {\n          z-index: 1;\n          position: absolute;\n          left: 8px;\n          top: 8px;\n          transition: opacity 0.1s ease-in-out;\n          opacity: 1;\n        }\n        .custom-story-group .storyly__story-group-badge .storyly__story-group-badge-text {\n          font-family: 'Storyly-Inter', sans-serif;\n          font-size: 12px;\n        }\n        @keyframes bounce-scale-hover {\n          0% {\n            transform: scale(1);\n          }\n          50% {\n            transform: scale(1.18);\n          }\n          100% {\n            transform: scale(1.15);\n          }\n        }\n        @keyframes bounce-scale-initial {\n          0% {\n            transform: scale(1.15);\n          }\n          50% {\n            transform: scale(0.97);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n        @keyframes preview-shrink-animation {\n          0% {\n            transform: scale(1);\n          }\n          50% {\n            transform: scale(1.2);\n          }\n          100% {\n            transform: scale(1);\n          }\n        }\n      </style>\n  ")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r={htmlTemplate:o,templateStyle:n};exports.default=r;
},{}],"wKVQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=a;var e=l(require("../../constants/barLayouts")),t=require("../../lib/util"),r=l(require("./templates/energized-template"));function l(e){return e&&e.__esModule?e:{default:e}}function a(l,a){var u;if(l.view===e.default.ENERGIZED){var n=(0,t.generateHtmlFromTemplate)(r.default.templateStyle(l.style));a.appendChild(n),u=(0,t.generateHtmlFromTemplate)(r.default.htmlTemplate(l)).innerHTML}return u}
},{"../../constants/barLayouts":"HgmH","../../lib/util":"PesM","./templates/energized-template":"Ysjr"}],"hs1C":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"EventImpl",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"SentryImpl",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"StoryGroupAnimationImpl",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"backgroundBlurImpl",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"barLayoutImpl",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"calcStorySizeImpl",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"createPersonalizedImpl",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"createUserPropertyImpl",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"intersectionObserverImpl",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"isotopeImpl",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"platformIml",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"readAccessibilityText",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"renderScrollIndicator",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"storyGroupBadgeImpl",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"storyGroupCircleTemplateImpl",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"swiperImpl",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"tabVisibilityImpl",{enumerable:!0,get:function(){return l.default}});var e=g(require("./create-personalized-impl")),r=g(require("./create-user-property-impl")),t=g(require("./intersection-observer-impl")),n=g(require("./isotope-impl")),u=g(require("./platform-impl")),i=g(require("./scroll-Indicator")),o=g(require("./swiper-impl")),l=g(require("./tab-visibility-impl")),p=g(require("./event-impl")),a=g(require("./calculate-story-size-impl")),c=g(require("./story-group-circle-template-impl")),f=g(require("./background-blur-impl")),m=g(require("./story-group-animation-impl")),b=g(require("./read-accessibility-text-impl")),d=g(require("./sentry-impl")),s=g(require("./BarLayout/bar-layout.impl")),y=g(require("./story-group-badge.impl"));function g(e){return e&&e.__esModule?e:{default:e}}
},{"./create-personalized-impl":"vYYL","./create-user-property-impl":"EE4e","./intersection-observer-impl":"eyBV","./isotope-impl":"bHi6","./platform-impl":"PYdG","./scroll-Indicator":"JpL0","./swiper-impl":"al7D","./tab-visibility-impl":"pXwr","./event-impl":"QGoa","./calculate-story-size-impl":"x2n1","./story-group-circle-template-impl":"F7DI","./background-blur-impl":"UISh","./story-group-animation-impl":"Dl4t","./read-accessibility-text-impl":"O1Mq","./sentry-impl":"saY7","./BarLayout/bar-layout.impl":"wKVQ","./story-group-badge.impl":"DAaj"}],"FlW1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o={sg_border_unseen:"storyGroupIconBorderColorNotSeen",sg_border_seen:"storyGroupIconBorderColorSeen",sg_text_unseen:"storyGroupTextColor",sg_text_seen:"storyGroupTextSeenColor",pin_bg:"storyGroupPinBackgroundColor",animation:"storyGroupAnimation",progress_bg:"storyGroupProgressBackgroundColor",progress_fill:"storyGroupProgressFillColor",story_title_visible:"storyGroupTitleVisible",story_cover_visible:"storyGroupCoverVisible",story_close_visible:"storyGroupCloseButtonVisible"};exports.default=o;
},{}],"fRik":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/icons"),a=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{story:{}},e=a.story,i=a.type,t=a.mediaHost,o=a.altText,d=a.storyBg,r="".concat(t).concat(e.image_path);return"image_url"in e&&(r=e.image_url),"video"===i&&(r="".concat(t).concat(e.video_path),"video_url"in e&&(r=e.video_url)),'\n    <div class="storyly__story" data-id="'.concat(e.story_id,'" aria-label="').concat(o?"".concat(o.replace(/['"]+/g,"")):"there is no story alt text",'" aria-hidden="true" style="background: ').concat(d.bg_color,'">\n      ').concat(i?'\n        <div class="story-bg" aria-hidden="true" tabindex="-1">\n          '.concat("video"===i?'\n            <video\n              muted\n              onloadedmetadata="this.muted = true"\n              disablePictureInPicture\n              controlsList="nodownload"\n              playsinline\n              class="story-video"\n              preload="none"\n            >\n              <source data-src="'.concat(r,'" src="').concat(r,'" type="video/mp4">\n            </video>\n          '):'\n            <img src="'.concat(r,'" loading="lazy" class="story-image" alt="Storyly Story Image" />\n          '),'\n        </div>\n        <div class="share-container">\n          <div class="share-wrapper">\n            <div class="share-header">\n              <h6 data-i18n-key="share_via"></h6>\n              <button aria-hidden="true" aria-label="Close" class="icon close-share">\n                ').concat((0,n.xIcon)("#fff"),'\n              </button>\n            </div>\n            <div class="get-link">\n              <div class="share-icon">\n                <button aria-label="Share" tabindex="-1" aria-hidden="true" class="icon">\n                  ').concat((0,n.copyLinkIcon)(),'\n                </button>\n              </div>\n              <p tabindex="-1" data-i18n-key="share_get_link" aria-hidden="true">Get Link</p>\n              </div>\n            <div class="download-media">\n              <div class="download-icon">\n                <button aria-label="Download" tabindex="-1" aria-hidden="true" class="icon download"></button>\n              </div>\n              <p tabindex="-1" data-i18n-key="download_media" aria-hidden="true">Download Media</p>\n            </div>\n          </div>\n        </div>\n        <p class="copied" aria-hidden="true">\n          <button tabindex="-1" aria-hidden="true" class="icon check"></button>\n          <span data-i18n-key="share_link_copied">Link Copied</span>\n        </p>\n      '):"","\n    </div>\n  ")};exports.default=a;
},{"../../../lib/icons":"irwm"}],"QY4G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){return'\n\t<div  class="storyly__story-bottom_sheet">\n\t\t<div class="storyly__story-bottom_sheet__overlay"></div>\n\t\t<div class="storyly__story-bottom_sheet__sheet">\n\t\t\t<div class="storyly__story-bottom_sheet__handle">\n\t\t\t\t\t<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<rect width="24.0005" height="24.0005" rx="12.0002" fill="#F5F5F5"/>\n\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M16.5889 7.4101C16.9143 7.73555 16.9143 8.2632 16.5889 8.58865L8.58865 16.5889C8.2632 16.9143 7.73555 16.9143 7.4101 16.5889C7.08465 16.2634 7.08465 15.7358 7.4101 15.4103L15.4103 7.4101C15.7358 7.08465 16.2634 7.08465 16.5889 7.4101Z" fill="#616161"/>\n\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M7.4101 7.4101C7.73555 7.08465 8.2632 7.08465 8.58865 7.4101L16.5889 15.4103C16.9143 15.7358 16.9143 16.2634 16.5889 16.5889C16.2634 16.9143 15.7358 16.9143 15.4103 16.5889L7.4101 8.58865C7.08465 8.2632 7.08465 7.73555 7.4101 7.4101Z" fill="#616161"/>\n\t\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<div class="storyly__story-bottom_sheet__sheet__inner-container"></div>\n\t\t</div>\n\t</div>'};exports.default=t;
},{}],"skR7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=y(require("@babel/runtime/helpers/asyncToGenerator")),e=y(require("@babel/runtime/helpers/defineProperty")),a=y(require("@babel/runtime/helpers/toConsumableArray")),r=y(require("@babel/runtime/helpers/classCallCheck")),n=y(require("@babel/runtime/helpers/createClass")),i=y(require("@babel/runtime/regenerator")),o=require("../constants/layerTypes"),s=y(require("../lib/proxy")),l=y(require("../lib/storage")),c=require("../lib/style"),u=require("../lib/util");function y(t){return t&&t.__esModule?t:{default:t}}function m(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)}return a}function f(t){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?m(Object(r),!0).forEach(function(a){(0,e.default)(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}var h=function(){function e(t){var a=t.type,n=t.storyDom,i=t.instanceId;(0,r.default)(this,e),this.storyDom_=n,this.componentType_=a,this.instanceId=i,this.layerData={},this.isLayerShowing_=!1,this.instanceClass=s.default.getNodeByInstanceId(this.instanceId).getDataFromGlobal(),this.globalInstanceData=this.instanceClass.globalInstanceData,this.api=this.globalInstanceData.API,l.default.setInstanceId(this.instanceId)}return(0,n.default)(e,[{key:"getLocalComponentData",value:function(){return l.default.getItemFromInstance("Storyly_componentsData")}},{key:"setLocalComponentData",value:function(t){return this.globalInstanceData.presentationData?null:(l.default.setItemToInstance("Storyly_componentsData",t),t)}},{key:"setLayerData",value:function(t){this.layerData=t,this.loadFont_(t.font),this.handleAutomatedProducts_()}},{key:"handleAutomatedProducts_",value:function(){var t=this;if(this.layerData.products){var e,a=this.instanceClass.storylyHydration.filter(function(e){return t.layerData.products.find(function(t){return t.product_group_id===e.product_group_id})}),r=a.find(function(e){return e.product_id===t.layerData.products[0].product_id});if(this.layerData.productVariants=a,this.layerData.initialProduct=r,[o.LayerTemplateTypes.PRODUCT_TAG,o.LayerTemplateTypes.PRODUCT_CARD].includes(this.componentType_))this.layerData.title=r.title||this.layerData.title,this.layerData.image_url=(null===(e=r.image_urls)||void 0===e?void 0:e[0])||this.layerData.image_url,this.layerData.price=r.sales_price||r.price?(0,u.currencyFormatter)(r.sales_price||r.price,r.price_currency):this.layerData.price,this.layerData.old_price=r.price||r.sales_price?(0,u.currencyFormatter)(r.price||r.sales_price,r.price_currency):this.layerData.old_price}}},{key:"selector",value:function(t,e){return t.querySelector(e)}},{key:"selectorAll",value:function(t,e){return t.querySelectorAll(e)}},{key:"setStyle",value:function(t,e,a){t.style[e]=a}},{key:"getStyle",value:function(t,e){return t.style[e]}},{key:"setDataset",value:function(t,e,a){t.dataset[e]=a}},{key:"sumArrayValues",value:function(t){return t.map(Number).reduce(function(t,e){return t+e},0)}},{key:"isTextOverflow",value:function(t,e){var a=t.clientHeight,r=e.scrollHeight,n=e.scrollWidth,i=e.offsetWidth;return r>a||i<n}},{key:"generateHtmlFromTemplate",value:function(t){var e=document.createElement("template");return e.innerHTML=t,e.content.firstElementChild.cloneNode(!0)}},{key:"generateComponentAndAppendToPage",value:function(t){var e=this.generateHtmlFromTemplate(t);return this.storyDom_.appendChild(e),this.layerDom_=e.firstElementChild,this.animateLayerObserver_(),Promise.resolve(e.firstElementChild)}},{key:"getComponentLocalData",value:function(t,e){var a,r=l.default.getItemFromInstance("Storyly_localComponentData")[t];return r&&null!==(a=r[e.uid])&&void 0!==a?a:{}}},{key:"setComponentLocalData",value:function(t,e){var a;if(!this.globalInstanceData.presentationData){var r=l.default.getItemFromInstance("Storyly_localComponentData"),n=r[t];(n=null!==(a=n)&&void 0!==a?a:{})[e.uid]=e,r[t]=n,l.default.setItemToInstance("Storyly_localComponentData",r)}}},{key:"storyObserver_",value:function(t){if(!this.storyDom_.classList.contains("layers-container"))throw Error("Story Dom Not Found!");var e=new MutationObserver(t);return e.observe(this.storyDom_.parentElement,{attributes:!0}),e}},{key:"hideLayer",value:function(){var t=this;this.layerData.animation||(0,c.setClass)(this.layerDom_,"timed-interactive-animation-visually-hide"),this.isLayerShowing_=!1,setTimeout(function(){(0,c.setClass)(t.layerDom_,"timed-interactive-animation-hide")},20)}},{key:"showLayer",value:function(){var t=this;(0,c.removeClass)(this.layerDom_,"timed-interactive-animation-hide"),!this.isLayerShowing_&&this.layerData.animation?(this.useAnimation_(),this.isLayerShowing_=!0):setTimeout(function(){(0,c.removeClass)(t.layerDom_,"timed-interactive-animation-visually-hide")},100)}},{key:"useAnimation_",value:function(t){var e=this,r=this.layerData,n=r.animation,i=r.rotation;if(n&&!this.animationActive_){this.layerDom_.style.transition="",this.layerDom_.style.visibility="visible";var o=this.layerDom_.querySelectorAll("*"),s=Array.from([].concat((0,a.default)(o),[this.layerDom_])).flatMap(function(t){return t.getAnimations()});s.forEach(function(t){t.pause(),t.cancel()});var l=null!=i?i:0,c=n.du||600,u="cubic-bezier(".concat(((null==n?void 0:n.ea)||[.5,-.1,.5,1.1]).join(","),")"),y=function(t){var e="rotate(".concat(t.r?l+(t.r||0):l,"deg)"),a=t.s?"scale(".concat(t.s,")"):"",r="translateX(".concat(t.x?"".concat(t.x/6,"em"):0,")"),n="translateY(".concat(t.y?"".concat(t.y/6,"em"):0,")");return"".concat(r," ").concat(n," ").concat(e," ").concat(a)},m=f({duration:c,easing:u,fill:"forwards"},t),h=[].concat((0,a.default)(n.en.map(function(t){var e;return{transform:y(t),opacity:null!==(e=t.o)&&void 0!==e?e:1}})),[{opacity:1,transform:"translateX(0) translateY(0) rotate(".concat(l,"deg) scale(1)")}]),d=new KeyframeEffect(this.layerDom_,h,m);this.customAnimations_=new Animation(d),this.customAnimations_.play(),this.customAnimations_.onfinish=function(t){var a=t.target;e.animationActive_=!1,e.layerDom_.classList.contains("timed-interactive-animation-hide")||a.commitStyles(),a.cancel(),s.forEach(function(t){return t.play()})}}}},{key:"animateLayerObserver_",value:function(){var t=this,e="component"===this.layerDom_.getAttribute("role"),a=this.layerData.start_time||this.layerData.end_time,r=this.layerData.animation;if(e&&r&&!a){this.setStyle(this.layerDom_,"opacity","0");new MutationObserver(function(e){e.forEach(function(e){var a;"attributes"===e.type&&"show"===e.attributeName&&(e.target.hasAttribute("show")?setTimeout(function(){return t.useAnimation_()},300):(null===(a=t.customAnimations_)||void 0===a||a.cancel(),t.layerDom_.style.opacity="0",t.animationActive_=!1))})}).observe(this.layerDom_.closest(".storyly__story"),{attributes:!0})}}},{key:"loadFont_",value:function(){var e=(0,t.default)(i.default.mark(function t(e){var a,r,n,o,s,l;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(a=JSON.parse(sessionStorage.getItem("Storyly__fonts")||"{}"),r=Object.values(a).findIndex(function(t){return t===e.url}),n=Object.keys(a)[r],o=n||"Storyly__font-".concat((0,u.randomAlphaNum)(4)),this.layerData.fontFamily=o,!n){t.next=9;break}return t.abrupt("return");case 9:return s=new FontFace(o,"url(".concat(e.url.replace("http://","https://"),")"),{display:"swap"}),a[o]=e.url,sessionStorage.setItem("Storyly__fonts",JSON.stringify(a)),t.next=14,s.load();case 14:l=t.sent,document.fonts.add(l);case 16:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),d=h;exports.default=d;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/toConsumableArray":"Fhqp","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/regenerator":"PMvg","../constants/layerTypes":"aJRz","../lib/proxy":"qmVm","../lib/storage":"NA5d","../lib/style":"vgU2","../lib/util":"PesM"}],"l2Mf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=l(require("@babel/runtime/helpers/classCallCheck")),e=l(require("@babel/runtime/helpers/createClass")),s=l(require("@babel/runtime/helpers/inherits")),i=l(require("@babel/runtime/helpers/possibleConstructorReturn")),r=l(require("@babel/runtime/helpers/getPrototypeOf")),n=require("../../lib/util"),a=l(require("./template")),o=require("../../lib/style"),h=l(require("../../layers/base"));function l(t){return t&&t.__esModule?t:{default:t}}function _(t){var e=c();return function(){var s,n=(0,r.default)(t);if(e){var a=(0,r.default)(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return(0,i.default)(this,s)}}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var d=function(i){(0,s.default)(h,i);var r=_(h);function h(e){var s,i=e.parentDom,n=e.instanceId;return(0,t.default)(this,h),(s=r.call(this,{storyDom:i,instanceId:n})).parentDom_=i,s.active_=!1,s.yOffset_=0,s.transformStyle_="transform 250ms cubic-bezier(0.4, 0, 0.2, 1)",s.attachCallbacksToElement_(),s.init_(),s}return(0,e.default)(h,[{key:"init_",value:function(){this.dom_=this.generateHtmlFromTemplate((0,a.default)()),this.parentDom_.appendChild(this.dom_),this.overlay_=this.dom_.querySelector(".storyly__story-bottom_sheet__overlay"),this.handle_=this.dom_.querySelector(".storyly__story-bottom_sheet__handle"),this.sheet_=this.dom_.querySelector(".storyly__story-bottom_sheet__sheet"),this.innerHTMLContainer_=this.dom_.querySelector(".storyly__story-bottom_sheet__sheet__inner-container"),this.setEventListeners_()}},{key:"attachCallbacksToElement_",value:function(){this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.dragStart_=this.dragStart_.bind(this),this.dragEnd_=this.dragEnd_.bind(this),this.drag_=this.drag_.bind(this),this.setEventListeners_=this.setEventListeners_.bind(this)}},{key:"setEventListeners_",value:function(){var t=this;this.overlay_.addEventListener("pointerdown",function(){return t.deactivate()}),(0,n.setClickEventListener)(this.handle_.firstElementChild,function(){return t.deactivate()}),(0,n.isMobileView)()?(this.handle_.addEventListener("touchstart",this.dragStart_),this.handle_.addEventListener("touchend",this.dragEnd_),this.handle_.addEventListener("touchmove",this.drag_),(0,n.stopEventBubbling)(this.dom_,"touchstart",!1),(0,n.stopEventBubbling)(this.dom_,"touchend",!1),(0,n.stopEventBubbling)(this.dom_,"touchmove",!1)):(this.handle_.addEventListener("pointerdown",this.dragStart_),this.handle_.addEventListener("pointerleave",this.dragEnd_),this.handle_.addEventListener("pointerup",this.dragEnd_),this.handle_.addEventListener("pointermove",this.drag_)),this.innerHTMLContainer_.addEventListener("scroll",function(){t.innerHTMLContainer_.scrollTop>5?(0,o.setClass)(t.handle_,"bordered"):(0,o.removeClass)(t.handle_,"bordered")})}},{key:"dragStart_",value:function(t){this.active_=!0,this.sheet_.classList.add("active"),"touchstart"===t.type?this.initialY_=t.touches[0].clientY-this.yOffset_:this.initialY_=t.clientY-this.yOffset_,this.sheet_.style.setProperty("--translateY","translateY(0)"),this.sheet_.style.setProperty("transition","unset")}},{key:"dragEnd_",value:function(){this.active_=!1,this.sheet_.classList.remove("active"),this.yOffset_=0,this.initialY_=this.currentY_,this.sheet_.style.setProperty("transition",this.transformStyle_),this.sheet_.style.setProperty("--translateY","translateY(".concat(this.currentY_,"px)"))}},{key:"drag_",value:function(t){this.active_&&(t.preventDefault(),"touchmove"===t.type?this.currentY_=t.touches[0].clientY-this.initialY_:this.currentY_=t.clientY-this.initialY_,this.yOffset_=this.currentX,this.currentY_>this.sheet_.offsetHeight/3?this.deactivate(this.currentY):(this.currentY_<=-40?this.currentY_=this.currentY_/10-41:this.currentY_<=-60&&(this.currentY_=-60),this.sheet_.style.setProperty("--translateY","translateY(".concat(this.currentY_,"px)"))))}},{key:"activate",value:function(t,e,s){if(s)return this.innerHTMLContainer_.firstElementChild.replaceWith(t),void(e&&(e.classList.add("storyly__story-bottom_sheet__footer"),this.sheet_.lastElementChild.replaceWith(e)));if(!this.dom_.classList.contains("bottomSheetActive")&&t){this.innerHTMLContainer_.appendChild(t),e&&(e.classList.add("storyly__story-bottom_sheet__footer"),this.sheet_.appendChild(e)),this.dom_.classList.add("bottomSheetActive");var i=this.instanceClass.getActiveStory_();i.instance.getProgressPausedStatus()||i.instance.playAndPauseStory()}else this.deactivate()}},{key:"deactivate",value:function(t){var e=this;if(this.dom_.classList.contains("bottomSheetActive")){t?(this.sheet_.style.setProperty("transition",this.transformStyle_),this.sheet_.style.setProperty("--translateY","translateY(".concat(t,"px)"))):this.sheet_.style.setProperty("--translateY","translateY(0)");var s=this.dom_.querySelector(".storyly__story-bottom_sheet__footer");this.sheet_.removeChild(s),this.sheet_.classList.remove("active"),this.dom_.classList.remove("bottomSheetActive"),setTimeout(function(){e.innerHTMLContainer_.innerHTML=""},250);var i=this.instanceClass.getActiveStory_();i.instance.getProgressPausedStatus()&&i.instance.playAndPauseStory()}}}]),h}(h.default),u=d;exports.default=u;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","../../lib/util":"PesM","./template":"QY4G","../../lib/style":"vgU2","../../layers/base":"skR7"}],"fFPd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/util"),t=function(t){return'\n    <div class="component-layer blank-story">\n      <div\n        class="blank-story"\n        style="\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          left: 0;\n          right: 0;\n          top: 0;\n          bottom: 0;\n          background: '.concat((0,n.storyBackgroundColorHandler)(t.gradient_colors,t.bg_color),';\n        "\n      ></div>\n    </div>\n  ')};exports.default=t;
},{"../../../lib/util":"PesM"}],"ODzA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("@babel/runtime/helpers/defineProperty")),t=i(require("@babel/runtime/helpers/createClass")),r=i(require("@babel/runtime/helpers/classCallCheck")),n=i(require("@babel/runtime/helpers/inherits")),u=i(require("@babel/runtime/helpers/possibleConstructorReturn")),o=i(require("@babel/runtime/helpers/getPrototypeOf")),a=require("../../constants/layerTypes"),l=i(require("../base")),c=i(require("./template"));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?s(Object(n),!0).forEach(function(r){(0,e.default)(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function p(e){var t=y();return function(){var r,n=(0,o.default)(e);if(t){var a=(0,o.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var b=function(e){(0,n.default)(o,e);var u=p(o);function o(e){var t,n=e.layer,l=e.storyDom,i=e.instanceId;return(0,r.default)(this,o),(t=u.call(this,{type:a.LayerTemplateTypes.BLANKSTORY,storyDom:l,instanceId:i})).setLayerData(f({},n)),t.generateComponentAndAppendToPage((0,c.default)(t.layerData)),t}return(0,t.default)(o)}(l.default),d=b;exports.default=d;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","../../constants/layerTypes":"aJRz","../base":"skR7","./template":"fFPd"}],"zYZy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=c(require("@babel/runtime/helpers/toConsumableArray")),t=c(require("../../../constants/layouts")),a=require("../../../lib/util");function c(n){return n&&n.__esModule?n:{default:n}}var e=function(t,c){var e=t[c].variant.map(function(n){return n.v}),r=t.flatMap(function(n){return n.variant}),i=t.map(function(n){return n.variant.map(function(n){return n.v})}),o=(0,n.default)(new Set(r.map(function(n){return n.n}))).map(function(t){return{title:t,values:(0,n.default)(new Set(r.filter(function(n){return n.n===t}).map(function(n){return n.v}))).map(function(t){return{value:t,selected:e.includes(t),isColor:(0,a.isHexColor)(t),disabled:function(a){var c=(0,n.default)(e);return c[a]=t,c.length=a+1,!i.find(function(n){return n.toString().startsWith(c.toString())})}}})}});return o.map(function(n,t){var a=n.title,c=n.values;return'\n      <div class="product-detail-variant">\n        <h6 class="product-detail-title-small">'.concat(a.toLocaleUpperCase(),'</h6>\n        <div class="product-detail-variant-row">\n          ').concat(c.map(function(n){var c=n.isColor,e=n.selected,r=n.value,i=n.disabled;return'\n                  <div\n                    class="'.concat(function(n,t,a){return t(a)&&0!==a?"disabled":n?"selected":""}(e,i,t),'"\n                    data-variant="').concat(a,'"\n                    data-value="').concat(r,'"\n                    data-order="').concat(t,'">\n                    ').concat(c?'<span style="background-color: '.concat(r,'"></span>'):"<span>".concat(r,"</span>"),"\n                  </div>")}).join(""),"\n        </div>\n      </div>")}).join("")},r=function(n){return'\n  <div class="product-detail-price">\n     '.concat(!n.sales_price&&n.price?'<span class="product-card-current-price">'.concat((0,a.currencyFormatter)(n.price,n.price_currency),"</span>"):"","\n    ").concat(n.sales_price&&n.price?'\n            <span class="product-card-current-price">'.concat((0,a.currencyFormatter)(n.sales_price,n.price_currency),'</span>\n            <span class="product-card-old-price">').concat((0,a.currencyFormatter)(n.price,n.price_currency),"</span>\n          "):"","\n  </div>\n")},i=function(n){return'\n  <div class="product-detail-description">\n    <h6 class="product-detail-title-small">DESCRIPTION</h6>\n    <p>'.concat(n.description||"","</p>\n  </div>\n")},o=function(n,a){return"\n  ".concat(n.length>1||!a.layout===t.default.MODERN?'<div class="product-detail-media-small">\n          '.concat(n.map(function(n,t){return'<div class="product-detail-media-small-container '.concat(0===t?"selected":"",'">\n                  <img src="').concat(n,'" />\n                </div>')}).join(""),"\n        </div>"):"",'\n  <div class="product-detail-media-large">\n      <img src="').concat(n[0],'" />\n  </div>\n')},l=function(n,c,l,u){return'\n  <div\n    class="product-detail '.concat(l.layout===t.default.MODERN?"modal":"bottom-sheet",'"\n    style="font-family: ').concat((0,a.getFontFamily)({instanceId:u}),';"\n    >\n      <div class="product-detail-media">\n        ').concat(o(n[c].image_urls,l),'\n      </div>\n      <div class="product-detail-variants">\n        <h4 class="product-detail-title-md">').concat(n[c].title,"</h4>\n        ").concat(r(n[c]),"\n        ").concat(e(n,c),"\n        ").concat(i(n[c]),"\n      </div>\n  </div>")};exports.default=l;
},{"@babel/runtime/helpers/toConsumableArray":"Fhqp","../../../constants/layouts":"kUgL","../../../lib/util":"PesM"}],"BYjw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../../../constants/layouts")),n=require("../../../lib/util");function e(t){return t&&t.__esModule?t:{default:t}}var o=function(e,o,r){return'\n  <div\n    class="product-detail-footer '.concat(o.layout===t.default.MODERN?"modal":"bottom-sheet",'"\n    style="font-family: ').concat((0,n.getFontFamily)({instanceId:r}),';"\n    >\n    <div class="product-detail-footer-price">\n      ').concat(!e.sales_price&&e.price?'<span class="product-card-current-price">'.concat((0,n.currencyFormatter)(e.price,e.price_currency),"</span>"):"","\n    ").concat(e.sales_price&&e.price?'\n            <span class="product-card-current-price">'.concat((0,n.currencyFormatter)(e.sales_price,e.price_currency),'</span>\n            <span class="product-card-old-price">').concat((0,n.currencyFormatter)(e.price,e.price_currency),"</span>\n          "):"",'\n    </div>\n    <div class="product-detail-footer-action">\n      <div class="counter">\n        <button class="counter-button" data-type="minus">\n          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M3.3335 8H12.6668" stroke="#242450" stroke-width="1.48201" stroke-linecap="round" stroke-linejoin="round"/>\n          </svg>\n        </button>\n        <span class="counter-count">1</span>\n        <button class="counter-button" data-type="plus">\n          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M8.74106 3.33329C8.74106 2.92405 8.4093 2.59229 8.00005 2.59229C7.5908 2.59229 7.25904 2.92405 7.25904 3.33329V7.25904H3.33366C2.92441 7.25904 2.59265 7.5908 2.59265 8.00005C2.59265 8.40929 2.92441 8.74105 3.33366 8.74105H7.25904V12.6666C7.25904 13.0759 7.5908 13.4076 8.00005 13.4076C8.4093 13.4076 8.74106 13.0759 8.74106 12.6666V8.74105H12.667C13.0762 8.74105 13.408 8.40929 13.408 8.00005C13.408 7.5908 13.0762 7.25904 12.667 7.25904H8.74106V3.33329Z" fill="#242450"/>\n          </svg>\n        </button>\n      </div>\n      <button class="product-detail-footer-action-button">\n        <div class="product-detail-footer-action-button-icon"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M3.99988 1.33325L1.99988 3.99992V13.3333C1.99988 13.6869 2.14035 14.026 2.3904 14.2761C2.64045 14.5261 2.97959 14.6666 3.33321 14.6666H12.6665C13.0202 14.6666 13.3593 14.5261 13.6094 14.2761C13.8594 14.026 13.9999 13.6869 13.9999 13.3333V3.99992L11.9999 1.33325H3.99988Z" stroke="white" stroke-width="1.39705" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M1.99988 4H13.9999" stroke="white" stroke-width="1.39705" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M10.6665 6.6665C10.6665 7.37375 10.3855 8.05203 9.88541 8.55212C9.38532 9.05222 8.70704 9.33317 7.9998 9.33317C7.29255 9.33317 6.61428 9.05222 6.11418 8.55212C5.61408 8.05203 5.33313 7.37375 5.33313 6.6665" stroke="white" stroke-width="1.39705" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg></div>\n        <span ').concat(e.p_b_text?"":'data-i18n-key="add_to_cart"',">\n          ").concat(e.p_b_text,"\n        </span>\n      </button>\n    </div>\n  </div>\n")};exports.default=o;
},{"../../../constants/layouts":"kUgL","../../../lib/util":"PesM"}],"vFtU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../lib/util"),n=function(n,e){return'\n  <div class="product-checkout-footer" style="font-family: '.concat((0,t.getFontFamily)({instanceId:e}),';">\n    <p>\n      <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M40 14L18 36L8 26" stroke="#212121" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>\n      </svg>\n      <span ').concat(n.s_message?"":'data-i18n-key="added_cart_sucessfully"',">\n        ").concat(n.s_message,'\n      </span>\n    </p>\n    <div class="product-checkout-footer-buttons">\n      <button \n        type="button" \n        class="continue-button">\n        <span ').concat(n.s_b_back_text?"":'data-i18n-key="continue_with_stories"',">\n          ").concat(n.s_b_back_text,'\n        </span>\n      </button>\n      <button type="button" class="checkout-button">\n        <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M4.49902 1.88086L2.49902 4.54753V13.8809C2.49902 14.2345 2.6395 14.5736 2.88955 14.8237C3.1396 15.0737 3.47873 15.2142 3.83236 15.2142H13.1657C13.5193 15.2142 13.8585 15.0737 14.1085 14.8237C14.3585 14.5736 14.499 14.2345 14.499 13.8809V4.54753L12.499 1.88086H4.49902Z" stroke="white" stroke-width="1.39705" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M2.49902 4.54785H14.499" stroke="white" stroke-width="1.39705" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M11.1663 7.21387C11.1663 7.92111 10.8854 8.59939 10.3853 9.09949C9.8852 9.59958 9.20692 9.88053 8.49967 9.88053C7.79243 9.88053 7.11415 9.59958 6.61406 9.09949C6.11396 8.59939 5.83301 7.92111 5.83301 7.21387" stroke="white" stroke-width="1.39705" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n        <span ').concat(n.s_b_cart_text?"":'data-i18n-key="go_to_cart"',">\n          ").concat(n.s_b_cart_text,"\n        </span>\n      </button>\n    </div>\n  </div>\n")};exports.default=n;
},{"../../../lib/util":"PesM"}],"lyP4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ProductCheckoutFooterTemplate",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"ProductDetailFooterTemplate",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"ProductDetailTemplate",{enumerable:!0,get:function(){return e.default}});var e=o(require("./productDetail")),t=o(require("./productDetailFooter")),r=o(require("./productCheckoutFooter"));function o(e){return e&&e.__esModule?e:{default:e}}
},{"./productDetail":"zYZy","./productDetailFooter":"BYjw","./productCheckoutFooter":"vFtU"}],"Ms5h":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e="ios",t="windows",o="linux",s={IOS:e,WINDOWS:t,LINUX:o};exports.default=s;
},{}],"VSr3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return'<div\n    style="\n      width: '.concat(e/64,"em;\n      height: ").concat(i/64,'em;\n    "\n    class="storyly-android-spinner storyly-spinner-container"><div></div><div></div><div></div><div></div>\n  </div>')};exports.default=e;
},{}],"hb2d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("platform")),t=o(require("../../constants/os")),r=o(require("./template/android"));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(o){var u;null===(u=e.default.os)||void 0===u||null===(u=u.family)||void 0===u||u.toLocaleLowerCase(),t.default.IOS;return(0,r.default)(o)};exports.default=u;
},{"platform":"kohK","../../constants/os":"Ms5h","./template/android":"VSr3"}],"tk2H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var C=require("../../lib/icons"),t=function(t){var e=t.text;return'\n  <div class="storyly__alert-box">\n    <div class="storyly__alert-box-icon">\n      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <path d="M11.9964 17.3535C12.3263 17.3535 12.5987 17.2496 12.8136 17.0419C13.0285 16.8342 13.1359 16.5654 13.1359 16.2354C13.1359 15.9054 13.0297 15.6306 12.8173 15.4111C12.6048 15.1915 12.3336 15.0817 12.0037 15.0817C11.6737 15.0817 11.4013 15.1914 11.1864 15.4106C10.9716 15.6299 10.8641 15.9045 10.8641 16.2345C10.8641 16.5645 10.9703 16.8335 11.1828 17.0415C11.3952 17.2495 11.6664 17.3535 11.9964 17.3535ZM12.0794 13.1893C12.3591 13.1893 12.5933 13.0939 12.7821 12.9031C12.9708 12.7122 13.0652 12.4776 13.0652 12.1991V7.61434C13.0652 7.3359 12.9694 7.10125 12.7777 6.91039C12.586 6.71954 12.3503 6.62411 12.0706 6.62411C11.7909 6.62411 11.5567 6.71954 11.3679 6.91039C11.1792 7.10125 11.0848 7.3359 11.0848 7.61434V12.1991C11.0848 12.4776 11.1806 12.7122 11.3723 12.9031C11.564 13.0939 11.7997 13.1893 12.0794 13.1893ZM12.0086 22.3535C10.5719 22.3535 9.226 22.0835 7.97095 21.5436C6.71592 21.0037 5.61808 20.2634 4.67743 19.3228C3.7368 18.3821 2.99652 17.2843 2.4566 16.0293C1.91669 14.7744 1.64673 13.4278 1.64673 11.9897C1.64673 10.5515 1.91669 9.20432 2.4566 7.94804C2.99652 6.69175 3.73606 5.59721 4.67523 4.66441C5.61438 3.73161 6.7118 2.99315 7.96748 2.44901C9.22315 1.90488 10.5704 1.63281 12.0094 1.63281C13.4483 1.63281 14.7965 1.90451 16.0539 2.44791C17.3113 2.99131 18.406 3.72879 19.3381 4.66034C20.2702 5.59189 21.0081 6.68732 21.5518 7.94664C22.0955 9.20595 22.3674 10.5549 22.3674 11.9936C22.3674 13.4316 22.0953 14.778 21.5512 16.0329C21.0071 17.2878 20.2686 18.3835 19.3358 19.3199C18.403 20.2563 17.3078 20.996 16.0502 21.539C14.7925 22.082 13.4453 22.3535 12.0086 22.3535ZM12.0125 20.373C14.3332 20.373 16.3067 19.5586 17.9332 17.9297C19.5596 16.3009 20.3728 14.3202 20.3728 11.9877C20.3728 9.66706 19.5612 7.69351 17.9378 6.06706C16.3145 4.44061 14.3329 3.62739 11.9929 3.62739C9.67591 3.62739 7.70236 4.43905 6.07228 6.06239C4.44221 7.6857 3.62718 9.66734 3.62718 12.0073C3.62718 14.3243 4.44161 16.2979 6.07048 17.9279C7.69935 19.558 9.68002 20.373 12.0125 20.373Z" fill="#212121"/>\n      </svg>\n    </div>\n    <div class="storyly__alert-box-message">\n      <p>'.concat(e,'</p>\n    </div>\n    <div class="storyly__alert-box-close">\n      ').concat((0,C.xIcon)("#616161"),"\n    </div>\n  </div>\n")};exports.default=t;
},{"../../lib/icons":"irwm"}],"GdVG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=_(require("@babel/runtime/helpers/defineProperty")),e=_(require("@babel/runtime/helpers/classCallCheck")),r=_(require("@babel/runtime/helpers/createClass")),o=_(require("@babel/runtime/helpers/inherits")),n=_(require("@babel/runtime/helpers/possibleConstructorReturn")),i=_(require("@babel/runtime/helpers/getPrototypeOf")),s=require("./template"),a=require("../../constants/events"),c=require("../../lib/util"),u=_(require("../../layers/base")),l=_(require("../../constants/layouts")),d=_(require("../LoadingSpinner")),h=_(require("../Alert"));function _(t){return t&&t.__esModule?t:{default:t}}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,o)}return r}function y(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?p(Object(o),!0).forEach(function(r){(0,t.default)(e,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):p(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function v(t){var e=f();return function(){var r,o=(0,i.default)(t);if(e){var s=(0,i.default)(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return(0,n.default)(this,r)}}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var m=function(t){(0,o.default)(i,t);var n=v(i);function i(t){var r,o=t.instanceId,a=t.layer,c=t.storyDom,u=t.group,l=t.story;return(0,e.default)(this,i),(r=n.call(this,{instanceId:o,storyDom:c})).group_=u,r.story_=l,r.selectedProduct_={},r.productData_=a,r.loading_=!1,r.productCheckoutFooter_=r.generateHtmlFromTemplate((0,s.ProductCheckoutFooterTemplate)(r.productData_,o)),r.attachCallbacksToElement_(),r}return(0,r.default)(i,[{key:"attachCallbacksToElement_",value:function(){this.eventListeners_=this.eventListeners_.bind(this),this.onPurchase=this.onPurchase.bind(this),this.onCounter_=this.onCounter_.bind(this),this.onMediaSelect_=this.onMediaSelect_.bind(this),this.onVariantSelect_=this.onVariantSelect_.bind(this),this.onAddToCart_=this.onAddToCart_.bind(this),this.renderCheckoutBottomSheetFooter_=this.renderCheckoutBottomSheetFooter_.bind(this),this.onCheckoutToCart_=this.onCheckoutToCart_.bind(this),this.onSuccess_=this.onSuccess_.bind(this),this.onError_=this.onError_.bind(this)}},{key:"eventListeners_",value:function(){var t=this;this.counterButton_.forEach(function(e){return(0,c.setClickEventListener)(e,t.onCounter_)});var e=this.productCheckoutFooter_.querySelector(".continue-button"),r=this.productCheckoutFooter_.querySelector(".checkout-button");((0,c.setClickEventListener)(this.addToCartButton_,this.onAddToCart_),(0,c.setClickEventListener)(r,this.onCheckoutToCart_),(0,c.setClickEventListener)(e,function(){(0,c.createAndDispatchEvent)(t.storyDom_,(0,c.openProductDetail)(t.instanceId))}),(0,c.isMobileView)())?(this.productDetailBody_.querySelectorAll(".product-detail-variant-row").forEach(function(e){e.addEventListener("touchstart",function(r){r.stopPropagation(),r.stopImmediatePropagation(),e.childNodes.forEach(function(e){e.addEventListener("touchend",t.onVariantSelect_)})}),e.addEventListener("scroll",function(){e.childNodes.forEach(function(e){e.removeEventListener("touchend",t.onVariantSelect_)})})}),this.productDetailBody_.parentElement.addEventListener("scroll",function(){t.variants_.forEach(function(e){e.removeEventListener("touchend",t.onVariantSelect_)})})):(this.medias_.forEach(function(e){return(0,c.setClickEventListener)(e,t.onMediaSelect_)}),this.variants_.forEach(function(e){e.addEventListener("click",t.onVariantSelect_)}))}},{key:"renderCheckoutModalFooter_",value:function(){this.productCheckoutFooter_.classList.add("modal");var t=this.productDetailFooter_.parentNode,e=this.productDetailBody_.parentNode,r=t.parentElement;r.insertBefore(this.productCheckoutFooter_,t),this.setStyle(this.productDetailBody_,"opacity","0.3"),this.setStyle(r,"maxHeight","calc(100vh * 0.65 + 50px)"),this.setStyle(e,"boxShadow","rgb(134 134 134 / 20%) 0px 7px 10.5px"),this.setStyle(e,"borderBottomLeftRadius","8px"),this.setStyle(e,"borderBottomRightRadius","8px"),this.setStyle(e,"pointerEvents","none");var o=new KeyframeEffect(t,[{opacity:1},{opacity:0,pointerEvents:"none"}],{duration:300,iterations:1,fill:"forwards"});new Animation(o).play()}},{key:"renderCheckoutBottomSheetFooter_",value:function(){var t=this.generateHtmlFromTemplate('<div style="display: none;"></div>');this.productCheckoutFooter_.classList.add("bottom-sheet"),(0,c.createAndDispatchEvent)(this.storyDom_,(0,c.openProductDetail)(this.instanceId),{body:this.productCheckoutFooter_,footer:t,rerender:!0})}},{key:"onPurchase",value:function(t,e){var r=this;this.loading_=!1;var o=this.productData_.productVariants,n=o.find(function(e){return e.product_id===t}),i=o.filter(function(t){return t.product_group_id===n.product_group_id}),u=i.findIndex(function(e){return e.product_id===t});this.selectedProduct_=n,this.selectedProduct_.quantity=1,this.selectedProducGroup_=i,this.productDetailBody_=this.generateHtmlFromTemplate((0,s.ProductDetailTemplate)(i,u,this.globalInstanceData,this.instanceId)),this.medias_=this.productDetailBody_.querySelectorAll(".product-detail-media-small-container"),this.variants_=this.productDetailBody_.querySelectorAll(".product-detail-variant-row div"),this.productDetailFooter_=this.generateHtmlFromTemplate((0,s.ProductDetailFooterTemplate)(y(y({},n),{},{p_b_text:this.productData_.p_b_text}),this.globalInstanceData,this.instanceId)),this.counterButton_=this.productDetailFooter_.querySelectorAll(".counter .counter-button"),this.addToCartButton_=this.productDetailFooter_.querySelector(".product-detail-footer-action-button"),(0,c.createAndDispatchEvent)(this.storyDom_,(0,c.openProductDetail)(this.instanceId),{body:this.productDetailBody_,footer:this.productDetailFooter_,rerender:e}),this.handleEvent_(a.LayerEventTypes.ProductSelected,{product:n}),e||this.handleEvent_(a.LayerEventTypes.ProductSheetOpened,{product:n}),this.alert_=this.generateHtmlFromTemplate((0,h.default)({text:""}));var l=this.alert_.querySelector(".storyly__alert-box-close");(0,c.setClickEventListener)(l,function(){return r.alert_.classList.remove("active")}),this.productDetailBody_.prepend(this.alert_),this.eventListeners_(),(0,c.createAndDispatchEvent)(this.storyDom_,"onI18nEvent",{wrapperDom:this.productDetailFooter_})}},{key:"onCounter_",value:function(t){if(!this.loading_){var e=t.target.dataset,r=this.productDetailFooter_.querySelector(".counter-count"),o=Number(r.innerHTML);"plus"===e.type?(o+=1,r.innerHTML=o):o>1&&"minus"===e.type&&(o-=1,r.innerHTML=o),this.selectedProduct_.quantity=o}}},{key:"onAddToCart_",value:function(){var t=this;if(!this.loading_){var e={group:this.group_,story_id:this.story_.story_id,alt_text:this.story_.alt_text,is_sharable:this.story_.is_sharable,product:y({},this.selectedProduct_),product_type:a.LayerEventTypes.ProductAdded,onError:this.onError_,onSuccess:this.onSuccess_};this.timeout_=setTimeout(function(){t.onError_({message:"Something went wrong!"})},5e3),this.loading_=!0;var r=this.generateHtmlFromTemplate((0,d.default)(16));this.addToCartButtonSvg_=this.addToCartButton_.querySelector(".product-detail-footer-action-button-icon"),this.addToCartButtonSvg_.replaceWith(r),(0,c.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:a.CustomerEventTypes.onStoryCartUpdate,params:e})}}},{key:"onSuccess_",value:function(t){var e=this;setTimeout(function(){return clearTimeout(e.timeout_)},0),this.alert_.classList.remove("active"),this.instanceClass.setProductCartItems(t),this.globalInstanceData.layout===l.default.MODERN?this.renderCheckoutModalFooter_():this.renderCheckoutBottomSheetFooter_(),(0,c.createAndDispatchEvent)(this.storyDom_,"onI18nEvent",{wrapperDom:this.productCheckoutFooter_}),this.handleEvent_(a.LayerEventTypes.ProductCartAdded)}},{key:"onError_",value:function(t){var e=this,r=t.message;setTimeout(function(){return clearTimeout(e.timeout_)},0),this.alert_.querySelector("p").innerHTML=r,this.alert_.classList.add("active"),this.loading_=!1,this.addToCartButton_.querySelector(".storyly-spinner-container").replaceWith(this.addToCartButtonSvg_),this.handleEvent_(a.LayerEventTypes.ProductCartAddFailed)}},{key:"onMediaSelect_",value:function(t){var e=t.target,r=e.src,o=this.productDetailBody_.querySelector(".product-detail-media-large img");Array.from(this.medias_).find(function(t){return t.classList.contains("selected")}).classList.remove("selected"),o.src!==r&&(o.src=r),e.parentElement.classList.add("selected")}},{key:"onVariantSelect_",value:function(t){var e=t.target,r=e.dataset,o=r.value,n=r.order;if(!e.classList.contains("selected")){var i="0"===n?null:this.selectedProduct_.variant[0].v,s=this.selectedProducGroup_.find(function(t){var e=t.variant.map(function(t){return t.v}),r=[i,o],s="0"===n;s&&r.shift();var a=r.filter(function(t){return t&&e.includes(t)});return s?a.length>0:a.length>1});this.onPurchase(s.product_id,!0)}}},{key:"onCheckoutToCart_",value:function(){var t=this.instanceClass.storylyCheckoutProducts,e={group:this.group_,story_id:this.story_.story_id,alt_text:this.story_.alt_text,is_sharable:this.story_.is_sharable,products:t.products};(0,c.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:a.CustomerEventTypes.onStoryCartClicked,params:e})}},{key:"handleEvent_",value:function(t){var e={event_type:t,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_index:null,story_index:null,story_group_type:"default",story_interactive_x:null,story_interactive_y:null,duration:null,watch_length:null,event_time:Date.now(),products:[(0,c.productEventPayloadHandler)(y({},this.selectedProduct_))]};this.api.sendEvent(e)}}]),i}(u.default),b=m;exports.default=b;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","./template":"lyP4","../../constants/events":"d0lR","../../lib/util":"PesM","../../layers/base":"skR7","../../constants/layouts":"kUgL","../LoadingSpinner":"hb2d","../Alert":"tk2H"}],"Nt0A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/helpers/defineProperty")),r=require("../../lib/util");function t(e){return e&&e.__esModule?e:{default:e}}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function c(r){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?a(Object(c),!0).forEach(function(t){(0,e.default)(r,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):a(Object(c)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(c,e))})}return r}var o=function(e,t){return Object.keys(e).reduce(function(a,o){var n=c({},a);switch(o){case"x":n.sdkLeft=e[o];break;case"w":n.width="".concat(e[o],"%");break;case"y":n.sdkTop=e[o];break;case"h":n.height="".concat(e[o],"%");break;case"left":var s;if(Number.isInteger(e[o])){var i=100*e[o]/360;s="".concat(i<0?0:i,"%")}else s="".concat(parseFloat(e[o]),"%");n.left=s;break;case"top":var u;u=Number.isInteger(e[o])?"".concat(100*e[o]/640,"%"):"".concat(parseFloat(e[o]),"%"),n.top=u;break;case"type":n.type=e[o];break;case"rotation":n.transform="rotate(".concat(e[o],"deg)");break;case"image_url":n.image_url=e[o];break;case"outlink":n.outlink=e[o];break;case"z_index":n.zIndex=e[o];break;case"uid":n.uid=e[o];break;case"border_radius":n.border_radius=(0,r.calcBorderRadius)(e,t)}return n},{})},n=o;exports.default=n;
},{"@babel/runtime/helpers/defineProperty":"IxO8","../../lib/util":"PesM"}],"jMEQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(n){var t;return'\n  <div class="component-layer">\n    <div\n      aria-hidden="true"\n      role="component"\n      tabindex="-1"\n      class="image-cta-wrapper"\n      style="\n        width: '.concat(n.width,";\n        height: ").concat(n.height,";\n        left: ").concat(n.left,";\n        top: ").concat(n.top,";\n        ").concat(n.transform?"transform: ".concat(n.transform,";"):"","\n        z-index: ").concat(n.zIndex,';\n      "\n    >\n      <img src="').concat(n.image_url,'" style="border-radius: ').concat(null!==(t=n.border_radius)&&void 0!==t?t:0,'px;" alt="Component Image" />\n    </div>\n  </div>\n')};exports.default=n;
},{}],"J7D7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=y(require("@babel/runtime/helpers/classCallCheck")),e=y(require("@babel/runtime/helpers/createClass")),r=y(require("@babel/runtime/helpers/inherits")),i=y(require("@babel/runtime/helpers/possibleConstructorReturn")),a=y(require("@babel/runtime/helpers/getPrototypeOf")),n=y(require("../../components/StoryProduct")),o=require("../../constants/events"),s=require("../../constants/layerTypes"),l=require("../../lib/util"),u=y(require("../base")),c=y(require("./dataConvertor")),d=y(require("./template"));function y(t){return t&&t.__esModule?t:{default:t}}function h(t){var e=_();return function(){var r,n=(0,a.default)(t);if(e){var o=(0,a.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var p=function(i){(0,r.default)(u,i);var a=h(u);function u(e){var r,i=e.layer,n=e.story,o=e.group,l=e.storyDom,y=e.instanceId;return(0,t.default)(this,u),(r=a.call(this,{type:s.LayerTemplateTypes.IMAGE_CTA,storyDom:l,instanceId:y})).story_=n,r.group_=o,r.setLayerData((0,c.default)(i,l)),r.generateComponentAndAppendToPage((0,d.default)(r.layerData)).then(function(t){r.dom_=t,r.init_()}),r.attachCallbacksToElement_(),r}return(0,e.default)(u,[{key:"attachCallbacksToElement_",value:function(){this.handleClick_=this.handleClick_.bind(this)}},{key:"init_",value:function(){(0,l.setClickEventListener)(this.dom_,this.handleClick_),(0,l.stopEventBubbling)(this.dom_,"touchstart"),this.layerData.initialProduct&&(this.storyProduct_=new n.default({instanceId:this.instanceId,layer:this.layerData,storyDom:this.storyDom_,group:this.group_,story:this.story_}))}},{key:"handleClick_",value:function(){var t,e=this,r={event_type:o.LayerEventTypes.ActionClicked,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_type:"default",story_interactive_id:null,story_interactive_type:"image_cta",watch_length:null,event_time:Date.now(),uid:this.layerData.uid,click_url:null!==(t=this.layerData.outlink)&&void 0!==t?t:""};if(this.api.sendEvent(r),this.globalInstanceData.events.actionClicked){var i=this.group_.stories.findIndex(function(t){return t.story_id===e.story_.story_id}),a={id:this.story_.story_id,title:this.story_.title,seen:!0,index:i,group_id:this.group_.group_id,media:{actionUrl:this.layerData.outlink}};this.globalInstanceData.events.actionClicked(a)}else{var n=this.layerData.initialProduct;n?this.storyProduct_.onPurchase(n.product_id):this.layerData.outlink&&(0,l.openLink)(this.layerData.outlink)}}}]),u}(u.default),f=p;exports.default=f;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","../../components/StoryProduct":"GdVG","../../constants/events":"d0lR","../../constants/layerTypes":"aJRz","../../lib/util":"PesM","../base":"skR7","./dataConvertor":"Nt0A","./template":"jMEQ"}],"Qewu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("@babel/runtime/helpers/slicedToArray")),r=a(require("@babel/runtime/helpers/defineProperty")),t=require("../../constants/layerTypes"),o=require("../../lib/util");function a(e){return e&&e.__esModule?e:{default:e}}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function n(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach(function(t){(0,r.default)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))})}return e}var i=function(r,a){var c,i,s=n(n({},r),{},{text_font:null!==(c=r.text_font)&&void 0!==c&&c.includes("Poppins")?void 0:r.text_font,fontFamily:!r.text_font||null!==(i=r.text_font)&&void 0!==i&&i.includes("Poppins")?"Storyly-Inter":void 0});return Object.keys(s).forEach(function(r){switch(r){case"bg_color":case"background_color":case"text_span_color":var c=(0,o.convertHex)(s[r]);s.background=c;break;case"text_color":var n=(0,o.convertHex)(s[r]);s.color=n;break;case"icon_color":var i=(0,o.convertHex)(s[r]),l=(0,o.getContrastBgColor)(s[r]);s.background_color=i,s.text_color=(0,o.convertHex)(l),s.border_color=(0,o.convertHex)(l,.3);break;case"rotation":s.transform="rotate(".concat(s[r],"deg)");break;case"is_bold":s.fontWeight=s[r]?700:"normal";break;case"is_italic":s.fontStyle=s[r]?"italic":"normal";break;case"text_font":if(s[r]){var b=s[r].split("-"),u=(0,e.default)(b,2),f=u[0],d=u[1];s.fontFamily="Storyly-".concat(f),s.fontWeight=d.includes("Bold")?700:"normal",s.fontStyle=d.includes("Italic")?"italic":"normal"}break;case"text_size":var p=2*s[r]+14;s.fontSize=p;break;case"x":s.sdkLeft=s[r];break;case"w":s.width="".concat(s[r],"%");break;case"y":s.sdkTop=s[r];break;case"left":var v;if(Number.isInteger(s[r])){var k=100*s[r]/360;v="".concat(k<0?0:k,"%")}else v="".concat(parseFloat(s[r]),"%");s.left=v;break;case"top":var y;y=Number.isInteger(s[r])?"".concat(100*s[r]/640,"%"):"".concat(parseFloat(s[r]),"%"),s.top=y;break;case"h":s.height="".concat(s[r],"%");break;case"border_color":if(!s[r])break;var _=(0,o.convertHex)(s[r]);s.borderColor=_;break;case"text_alignment":var x="left";1===s[r]&&(x="center"),2===s[r]&&(x="right"),s.textAlign=x;break;case"border_thickness":if(!1===s[r])break;var g=2*s[r]>=0?2*s[r]+2:0;s.borderWidth=g;break;case"scale":var O=s[r]+1;s.compScale=O;break;case"z_index":s.zIndex=s[r];break;case"border_radius":s.type===t.LayerTemplateTypes.BUTTON&&(s.border_radius=(0,o.calcBorderRadius)(s,a));break;default:return!0}return!0}),s},s=i;exports.default=s;
},{"@babel/runtime/helpers/slicedToArray":"HETk","@babel/runtime/helpers/defineProperty":"IxO8","../../constants/layerTypes":"aJRz","../../lib/util":"PesM"}],"lx7w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=o(require("@babel/runtime/helpers/toConsumableArray")),t=require("../../../lib/util");function o(n){return n&&n.__esModule?n:{default:n}}var e=function(n){return'\n<div class="arrow-lines">\n  <span class="arrow-lines-left" '.concat(n?'style="background-color: '.concat(n,'"'):"",'></span>\n  <span class="arrow-lines-right" ').concat(n?'style="background-color: '.concat(n,'"'):"","></span>\n</div>")},c=function(o,c,a){var r;return'\n  <div class="component-layer swipe" dir="'.concat(c.direction,'">\n    <div\n      class="swipe-up"\n      style="\n        z-index: ').concat(null!==(r=o.zIndex)&&void 0!==r?r:1,';\n      "\n      >\n      ').concat(o.button_text?e(o.background_color):"",'\n      <button\n        style="\n          font-family: ').concat((0,t.getFontFamily)({font:o.fontFamily,instanceId:a}),";\n          font-weight: ").concat(o.fontWeight,";\n          font-style: ").concat(o.fontStyle,";\n          border-color: ").concat(o.border_color,";\n          --text-color: ").concat(o.text_color,";\n          --background-color: ").concat(o.background_color,';\n        "\n        aria-hidden="true"\n        aria-label="').concat(o.button_text,', opens in a new tab"\n        class="swipe-up-button"\n        >\n        ').concat(o.button_text||(0,n.default)(Array(2)).map(function(){var n=e();return"".concat(n)}).join(""),"\n      </button>\n    </div>\n  </div>")};exports.default=c;
},{"@babel/runtime/helpers/toConsumableArray":"Fhqp","../../../lib/util":"PesM"}],"SgTT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/util"),t=function(t,o,c){var e,a=[18,22,26].indexOf(t.fontSize)+1;return'\n    <div class="component-layer" dir="'.concat(o.direction,'">\n      <button\n        aria-hidden="true"\n        role="component"\n        class="cta-button"\n        aria-label="').concat(t.text,', opens in a new tab"\n        data-scale="').concat(a,'"\n        ').concat(null!=t&&t.outlink?'href="'.concat(null==t?void 0:t.outlink,'"'):"",'\n        style="\n          font-family: ').concat((0,n.getFontFamily)({font:t.fontFamily,instanceId:c}),";\n          font-style: ").concat(t.fontStyle,";\n          font-weight: ").concat(t.fontWeight,";\n          transform: ").concat(t.transform?t.transform:"none",";\n          left: ").concat(t.left,";\n          top: ").concat(t.top,";\n          background-color: ").concat(t.background,";\n          border-color: ").concat(t.borderColor,";\n          border-width: ").concat(t.borderWidth,"px;\n          color: ").concat(t.color,";\n          width: ").concat(t.w,"%;\n          z-index: ").concat(null!==(e=t.zIndex)&&void 0!==e?e:1,";\n          border-radius: ").concat("number"==typeof t.border_radius?"".concat(t.border_radius,"px"):["0.5625em","0.6em","0.5714em"][a-1],';\n        "\n        >\n          ').concat(t.text,"\n      </button>\n    </div>\n  ")};exports.default=t;
},{"../../../lib/util":"PesM"}],"lS5I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=_(require("@babel/runtime/helpers/asyncToGenerator")),e=_(require("@babel/runtime/helpers/classCallCheck")),r=_(require("@babel/runtime/helpers/createClass")),i=_(require("@babel/runtime/helpers/inherits")),a=_(require("@babel/runtime/helpers/possibleConstructorReturn")),n=_(require("@babel/runtime/helpers/getPrototypeOf")),s=_(require("@babel/runtime/regenerator")),l=require("../../constants/layerTypes"),o=require("../../lib/util"),u=_(require("../base")),c=_(require("./dataConvertor")),h=_(require("./template/swipe")),d=_(require("./template/button")),y=require("../../constants/events"),p=_(require("../../components/StoryProduct"));function _(t){return t&&t.__esModule?t:{default:t}}function f(t){var e=b();return function(){var r,i=(0,n.default)(t);if(e){var s=(0,n.default)(this).constructor;r=Reflect.construct(i,arguments,s)}else r=i.apply(this,arguments);return(0,a.default)(this,r)}}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=function(a){(0,i.default)(u,a);var n=f(u);function u(t){var r,i=t.layer,a=t.group,s=t.story,o=t.type,y=t.storyDom,p=t.instanceId;return(0,e.default)(this,u),(r=n.call(this,{type:o,storyDom:y,instanceId:p})).story_=s,r.group_=a,r.type_=o,r.touchstartY=0,r.touchendY=0,r.setLayerData((0,c.default)(i,y)),r.generateComponentAndAppendToPage(r.layerData.type===l.LayerTemplateTypes.SWIPE?(0,h.default)(r.layerData,r.globalInstanceData,p):(0,d.default)(r.layerData,r.globalInstanceData,p)).then(function(t){r.dom_=t,o===l.LayerTemplateTypes.SWIPE&&(r.dom_=t.parentElement),r.init_()}),r.attachCallbacksToElement_(),r}return(0,r.default)(u,[{key:"attachCallbacksToElement_",value:function(){this.handleClickCTA_=this.handleClickCTA_.bind(this),this.storyObserverCallback_=this.storyObserverCallback_.bind(this)}},{key:"init_",value:function(){var t=(0,o.isMobileView)();this.type_===l.LayerTemplateTypes.SWIPE?(this.storyObserver_(this.storyObserverCallback_),(0,o.setClickEventListener)(this.dom_.firstElementChild,this.handleClickCTA_),t&&((0,o.stopEventBubbling)(this.dom_.firstElementChild,"touchstart"),this.handleSwipe_())):((0,o.setClickEventListener)(this.dom_,this.handleClickCTA_),t?(0,o.stopEventBubbling)(this.dom_,"touchstart"):(0,o.stopEventBubbling)(this.dom_,"click")),this.layerData.initialProduct&&(this.storyProduct_=new p.default({instanceId:this.instanceId,layer:this.layerData,storyDom:this.storyDom_,group:this.group_,story:this.story_}))}},{key:"storyObserverCallback_",value:function(t){var e=this;t.forEach(function(t){"attributes"===t.type&&"show"===t.attributeName&&e.dom_.firstElementChild.classList.toggle("animating")})}},{key:"handleClickCTA_",value:function(){if(0===this.touchstartY||this.type_!==l.LayerTemplateTypes.SWIPE){var t=this.layerData.initialProduct;t&&this.storyProduct_.onPurchase(t.product_id),this.layerData.outlink&&this.handleClickOrSwipe_()}}},{key:"handleClickOrSwipe_",value:function(){var e=(0,t.default)(s.default.mark(function t(){var e,r,i,a,n,u=this;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.story_.story_id&&this.group_.group_id&&this.layerData.outlink){t.next=2;break}return t.abrupt("return");case 2:if(r={event_type:y.LayerEventTypes.ActionClicked,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_type:"default",story_interactive_id:null,story_interactive_type:this.type_===l.LayerTemplateTypes.SWIPE?"swipe":"button",watch_length:null,event_time:Date.now(),uid:this.layerData.uid,click_url:null!==(e=this.layerData.outlink)&&void 0!==e?e:""},this.api.sendEvent(r),!this.globalInstanceData.events.actionClicked){t.next=9;break}return a=this.group_.stories.findIndex(function(t){return t.story_id===u.story_.story_id}),n={id:this.story_.story_id,title:null!==(i=this.story_.title)&&void 0!==i?i:null,seen:!0,index:a,group_id:this.group_.group_id,media:{actionUrl:this.layerData.outlink}},this.globalInstanceData.events.actionClicked(n),t.abrupt("return");case 9:this.layerData.outlink&&!this.layerData.initialProduct&&(0,o.openLink)(this.layerData.outlink);case 10:case"end":return t.stop()}},t,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSwipe_",value:function(){var t=this;this.dom_.parentElement.addEventListener("touchstart",function(e){t.touchstartY=e.changedTouches[0].screenY>0&&e.changedTouches[0].screenY},!1),this.dom_.parentElement.addEventListener("touchend",function(e){t.touchendY=e.changedTouches[0].screenY,t.handleGesture_(e)},!1)}},{key:"handleGesture_",value:function(){this.touchstartY-this.touchendY>100&&this.handleClickOrSwipe_()}}]),u}(u.default),m=v;exports.default=m;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/regenerator":"PMvg","../../constants/layerTypes":"aJRz","../../lib/util":"PesM","../base":"skR7","./dataConvertor":"Qewu","./template/swipe":"lx7w","./template/button":"SgTT","../../constants/events":"d0lR","../../components/StoryProduct":"GdVG"}],"XMhj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("@babel/runtime/helpers/defineProperty")),r=require("../../constants/common"),t=require("../../lib/util");function o(e){return e&&e.__esModule?e:{default:e}}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,o)}return t}function c(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach(function(t){(0,e.default)(r,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var n=function(e){var o=c({},e);return Object.keys(e).forEach(function(a){switch(a){case"left":var c;if(Number.isInteger(e[a])){var n=100*e[a]/360;c="".concat(n<0?0:n,"%")}else c="".concat(parseFloat(e[a]),"%");o.left=c;break;case"top":var f;f=Number.isInteger(e[a])?"".concat(100*e[a]/640,"%"):"".concat(parseFloat(e[a]),"%"),o.top=f;break;case"w":o.width="".concat(e[a],"%");break;case"h":o.height="".concat(e[a],"%");break;case"scale":o.scale=r.layerScales[e[a]];break;case"primary_color":o.backgroundColor=(0,t.convertHex)(e[a]);break;case"secondary_color":var l=(0,t.convertHex)(e[a],.9);"#ff000000"===e[a]?(o.borderColor="rgba(0, 0, 0, 0.15)",o.textShadowColor="0px 1px 2px rgba(0, 0, 0, 0.32)"):(o.borderColor="rgba(255, 255, 255, 0.15)",o.textShadowColor="0px 2px 4px rgba(255,255,255, 0.25)"),o.textColor=l;break;case"theme":if(o.primary_color||o.secondary_color){o.theme=null;break}"Dark"===e[a]?(o.backgroundColor=(0,t.convertHex)("#ff212121"),o.textColor=(0,t.convertHex)("#ffffffff"),o.borderColor="rgba(0, 0, 0, 0.15)",o.textShadowColor="0px 1px 2px rgba(0, 0, 0, 0.32)"):(o.backgroundColor=(0,t.convertHex)("#ffffffff"),o.textColor=(0,t.convertHex)("#ff141414"),o.borderColor="rgba(255, 255, 255, 0.15)",o.textShadowColor="0px 2px 4px rgba(255,255,255, 0.25)");break;default:return!0}return!0}),o},f=n;exports.default=f;
},{"@babel/runtime/helpers/defineProperty":"IxO8","../../constants/common":"VKZr","../../lib/util":"PesM"}],"YwuF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../lib/util"),n=function(n,o){return'\n  <div class="component-layer">\n    <div\n      class="poll-component"\n      role="component"\n      data-group=""\n      data-story=""\n      style="\n        font-family: '.concat((0,t.getFontFamily)({instanceId:o}),";\n        left: ").concat(n.left,";\n        top: ").concat(n.top,";\n        z-index: ").concat(n.z_index,";\n        width: ").concat(n.width,";\n        --background-color: ").concat(n.backgroundColor,";\n        --text-color: ").concat(n.textColor,";\n        --border-color: ").concat(n.borderColor,";\n        --text-shadow-color: ").concat(n.textShadowColor,";\n        ").concat(n.rotation?"transform: rotate(".concat(n.rotation,"deg);"):"",'\n      "\n      data-scale="').concat(n.scale,'"\n      data-mode="').concat(n.theme,'"\n      tabindex="-1"\n      aria-hidden="true"\n      aria-label="').concat(n.p_text,", has two options, ").concat(n.l_o_text," or ").concat(n.r_o_text,'"\n      >\n      ').concat(n.has_title?'<p class="question">'.concat(n.p_text,"</p>"):"",'\n      <div class="options">\n        <button\n          class="poll-left-button"\n          aria-live="polite"\n          aria-label="select ').concat(n.l_o_text,'"\n          style="font-family: ').concat((0,t.getFontFamily)({instanceId:o}),';"\n          type="button">\n            <span class="option-title">').concat(n.l_o_text,'</span>\n            <span class="vote"></span>\n        </button>\n        <button\n          class="poll-right-button"\n          aria-live="polite"\n            aria-label="select ').concat(n.r_o_text,'"\n          style="font-family: ').concat((0,t.getFontFamily)({instanceId:o}),';"\n          type="button">\n            <span class="option-title">').concat(n.r_o_text,'</span>\n            <span class="vote"></span>\n        </button>\n      </div>\n    </div>\n  </div>\n')};exports.default=n;
},{"../../../lib/util":"PesM"}],"fJSh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=d(require("@babel/runtime/helpers/asyncToGenerator")),e=d(require("@babel/runtime/helpers/slicedToArray")),a=d(require("@babel/runtime/helpers/classCallCheck")),r=d(require("@babel/runtime/helpers/createClass")),o=d(require("@babel/runtime/helpers/inherits")),s=d(require("@babel/runtime/helpers/possibleConstructorReturn")),i=d(require("@babel/runtime/helpers/getPrototypeOf")),l=d(require("@babel/runtime/regenerator")),n=require("../../constants/layerTypes"),u=d(require("../base")),c=d(require("./dataConvertor")),_=require("../../lib/util"),h=d(require("./template")),y=require("../../constants/events");function d(t){return t&&t.__esModule?t:{default:t}}function p(t){var e=f();return function(){var a,r=(0,i.default)(t);if(e){var o=(0,i.default)(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=function(s){(0,o.default)(u,s);var i=p(u);function u(t){var r,o=t.layer,s=t.group,l=t.storyDom,_=t.story,y=t.instanceId;return(0,a.default)(this,u),(r=i.call(this,{type:n.LayerTemplateTypes.POLL,storyDom:l,instanceId:y})).story_=_,r.group_=s,r.localData=r.getLocalComponentData(),r.key_=null,r.setLayerData((0,c.default)(o)),r.generateComponentAndAppendToPage((0,h.default)(r.layerData,y)).then(function(t){r.dom_=t;var a=r.selectorAll(r.dom_,"button"),o=(0,e.default)(a,2),s=o[0],i=o[1];r.leftButton_=s,r.rightButton_=i,r.init_()}),r}return(0,r.default)(u,[{key:"init_",value:function(){var t=this;if("number"==typeof this.localData[this.layerData.uid]||this.layerData.is_result){this.checkPollDataDiff_()&&(this.key_=this.localData[this.layerData.uid]),this.layerData.is_result&&0===this.layerData.l_o_vote_count&&0===this.layerData.r_o_vote_count&&(this.layerData.l_o_vote_count=50,this.layerData.r_o_vote_count=50),this.calcPollPercentage_(),this.dom_.classList.add("voted");var e=[this.layerData.l_o_text,this.layerData.r_o_text];this.dom_.ariaLabel="".concat(this.layerData.p_text,", selected ").concat(e[this.key_])}else this.selectorAll(this.dom_,"button").forEach(function(e,a){(0,_.stopEventBubbling)(e,"touchstart"),(0,_.stopEventBubbling)(e,"touchend"),(0,_.setClickEventListener)(e,function(){return t.clickPoll_({key:a})},!0)})}},{key:"calcPollPercentage_",value:function(){var t,e,a=null!==(t=this.layerData.l_o_vote_count)&&void 0!==t?t:0,r=null!==(e=this.layerData.r_o_vote_count)&&void 0!==e?e:0;0===this.key_?(this.leftButton_.classList.add("selected"),a+=1):1===this.key_&&(this.rightButton_.classList.add("selected"),r+=1),this.layerData.is_result&&this.rightButton_.classList.add("selected"),this.localData=this.getLocalComponentData(),this.localData[this.layerData.uid]=this.key_,this.setLocalComponentData(this.localData);var o=a+r,s=Math.round(a/o*100),i=Math.round(r/o*100),l=s,n=i,u=this.getMinWidthThreshold_();s<u&&100!==i&&(n=100-(l=u)),i<u&&100!==s&&(l=100-(n=u)),this.setStyle(this.leftButton_,"width","".concat(l,"%")),this.setStyle(this.rightButton_,"width","".concat(n,"%")),this.selector(this.leftButton_,".vote").innerHTML="".concat(s,"%"),this.selector(this.rightButton_,".vote").innerHTML="".concat(i,"%");var c=[s,i],h=c.findIndex(function(t){return 0===t});h>=0&&(0,_.setAttribute)(this.dom_.lastElementChild,"data-percentage-".concat(h),c[h])}},{key:"getMinWidthThreshold_",value:function(){switch(this.layerData.scale){case 0:return 33;case 1:return 30;default:return 29}}},{key:"checkPollDataDiff_",value:function(){var t=this.getComponentLocalData(n.LayerTemplateTypes.POLL,this.layerData);return this.layerData.l_o_vote_count===t.l_o_vote_count&&this.layerData.r_o_vote_count===t.r_o_vote_count}},{key:"clickPoll_",value:function(){var e=(0,t.default)(l.default.mark(function t(e){var a,r,o;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.key,!this.localData[this.layerData.uid]){t.next=3;break}return t.abrupt("return");case 3:this.key_=a,this.dom_.classList.add("voted"),this.calcPollPercentage_(),r={event_type:y.LayerEventTypes.PollSelected,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_index:null,story_index:null,story_group_type:"default",story_interactive_type:"poll",story_interactive_x:this.layerData.l_o_vote_count,story_interactive_y:this.layerData.r_o_vote_count,duration:null,watch_length:null,event_time:Date.now(),activity:0===this.key_?"L":"R",uid:this.layerData.uid},this.setComponentLocalData(n.LayerTemplateTypes.POLL,this.layerData),this.api.sendEvent(r),o={group:this.group_,story_id:this.story_.story_id,alt_text:this.story_.alt_text,is_sharable:this.story_.is_sharable,track_id:this.layerData.custom_payload,title:this.layerData.p_text,answers:[this.layerData.l_o_text,this.layerData.r_o_text],answer:0===this.key_?this.layerData.l_o_text:this.layerData.r_o_text},(0,_.createAndDispatchEvent)(this.storyDom_,"onConditionalEvent"),(0,_.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:y.CustomerEventTypes.onStoryPollAnswered,params:o});case 12:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}()}]),u}(u.default),D=v;exports.default=D;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/slicedToArray":"HETk","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/regenerator":"PMvg","../../constants/layerTypes":"aJRz","../base":"skR7","./dataConvertor":"XMhj","../../lib/util":"PesM","./template":"YwuF","../../constants/events":"d0lR"}],"UkqP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/helpers/defineProperty"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function a(t){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{};a%2?r(Object(c),!0).forEach(function(r){(0,e.default)(t,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))})}return t}var c=function(e){var t=a({},e);return Object.keys(e).forEach(function(r){switch(r){case"x":t.sdkLeft=e[r];break;case"w":t.width="".concat(e[r],"%");break;case"y":t.sdkTop=e[r];break;case"h":t.height="".concat(e[r],"%");break;case"left":var a;if(Number.isInteger(e[r])){var c=100*e[r]/360;a="".concat(c<0?0:c,"%")}else a="".concat(parseFloat(e[r]),"%");t.left=a;break;case"top":var o;o=Number.isInteger(e[r])?"".concat(100*e[r]/640,"%"):"".concat(parseFloat(e[r]),"%"),t.top=o;break;case"scale":var n=e[r]+1;t.compScale=n;break;case"title":t.title=e[r];break;case"has_title":t.has_title=e[r];break;case"theme":t.mode=e[r];break;case"type":t.type=e[r];break;case"uid":t.uid=e[r];break;case"emoji_code":t.emoji_code=e[r];break;case"custom_payload":t.custom_payload=e[r];break;case"rotation":t.transform="rotate(".concat(e[r],"deg)");break;case"z_index":t.zIndex=e[r];break;default:return!0}return!0}),t},o=c;exports.default=o;
},{"@babel/runtime/helpers/defineProperty":"IxO8"}],"LwBz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=require("../../../lib/util"),n=function(n,e){return'\n  <div class="component-layer">\n    <div\n      aria-hidden="true"\n      class="rating-component"\n      style="\n        font-family: '.concat((0,a.getFontFamily)({instanceId:e}),";\n        left: ").concat(n.left,";\n        top: ").concat(n.top,";\n        z-index: ").concat(n.zIndex,";\n        ").concat(n.transform?"transform: ".concat(n.transform,";"):"",'\n      "\n      role="component"\n      data-group=""\n      data-story=""\n      data-mode="').concat(n.mode,'"\n      data-scale="').concat(n.compScale,'"\n      data-has-title="').concat(!!n.has_title,'"\n    >\n      ').concat(n.has_title?'<div class="title"><span>'.concat(n.title,"</span></div>"):"",'\n      <div class="slider-container">\n        <div class="slider">\n          <div class="slider-colored"></div>\n          <span role="img" aria-label="emoji" class="indicator-animation">').concat(n.emoji_code,'</span>\n          <span role="img" aria-label="emoji" class="indicator">').concat(n.emoji_code,'</span>\n          <span data-i18n-key="rating_average_answer" class="average-tooltip">Average Answer</span>\n          <span class="average-tooltip result-tooltip">').concat(n.average_answer,'% <span data-i18n-key="rating_result_average">Average</span></span>\n        </div>\n      </div>\n    </div>\n  </div>\n')};exports.default=n;
},{"../../../lib/util":"PesM"}],"raea":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=y(require("@babel/runtime/helpers/asyncToGenerator")),e=y(require("@babel/runtime/helpers/classCallCheck")),i=y(require("@babel/runtime/helpers/createClass")),a=y(require("@babel/runtime/helpers/inherits")),r=y(require("@babel/runtime/helpers/possibleConstructorReturn")),s=y(require("@babel/runtime/helpers/getPrototypeOf")),o=y(require("@babel/runtime/regenerator")),n=require("../../constants/events"),l=require("../../constants/layerTypes"),h=require("../../lib/util"),c=y(require("../base")),u=y(require("./dataConvertor")),d=y(require("./template"));function y(t){return t&&t.__esModule?t:{default:t}}function _(t){var e=p();return function(){var i,a=(0,s.default)(t);if(e){var o=(0,s.default)(this).constructor;i=Reflect.construct(a,arguments,o)}else i=a.apply(this,arguments);return(0,r.default)(this,i)}}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var v=function(r){(0,a.default)(c,r);var s=_(c);function c(t){var i,a=t.layer,r=t.group,o=t.storyDom,n=t.story,h=t.instanceId;return(0,e.default)(this,c),(i=s.call(this,{type:l.LayerTemplateTypes.RATING,storyDom:o,instanceId:h})).story_=n,i.group_=r,i.localData=i.getLocalComponentData(),i.setLayerData((0,u.default)(a)),i.attachCallbacksToElement_(),i.generateComponentAndAppendToPage((0,d.default)(i.layerData,h)).then(function(t){i.dom_=t,i.init_()}),i}return(0,i.default)(c,[{key:"attachCallbacksToElement_",value:function(){this.indicatorDragDown_=this.indicatorDragDown_.bind(this),this.indicatorDrag_=this.indicatorDrag_.bind(this),this.closeDragElement_=this.closeDragElement_.bind(this),this.storyObserverCallback_=this.storyObserverCallback_.bind(this)}},{key:"init_",value:function(){this.indicator=this.selector(this.dom_,".indicator"),this.sliderColored=this.selector(this.dom_,".slider-colored"),this.tooltip=this.selector(this.dom_,this.layerData.is_result?".result-tooltip":".average-tooltip"),this.indicatorAnimationDom_=this.selector(this.dom_,".indicator-animation"),this.slider=this.selector(this.dom_,".slider"),"number"==typeof this.localData[this.layerData.uid]||this.layerData.is_result?this.renderRatingData_():(this.storyObserverInstance_=this.storyObserver_(this.storyObserverCallback_),(0,h.stopEventBubbling)(this.dom_,"touchmove"),this.renderIndicator_())}},{key:"storyObserverCallback_",value:function(t){var e=this;t.forEach(function(t){"attributes"===t.type&&("show"===t.attributeName&&t.target.hasAttribute("show")?(e.setStyle(e.indicator,"animation-name","indicatorMoveAnimation"),e.setStyle(e.sliderColored,"animation-name","sliderColoredMoveAnimation")):t.target.hasAttribute("show")||(e.setStyle(e.indicator,"animation-name",null),e.setStyle(e.sliderColored,"animation-name",null)))})}},{key:"renderRatingData_",value:function(){var t=0,e=0,i=this.layerData.is_result?this.layerData.average_answer:this.localData[this.layerData.uid];this.checkRatingDataDiff_()&&(t=i,e=1);var a=(this.layerData.answer_count*this.layerData.average_answer+t)/(this.layerData.answer_count+e);this.setStyle(this.tooltip,"left","".concat(a,"%")),this.setStyle(this.sliderColored,"width","".concat(i,"%")),this.setStyle(this.indicator,"left","".concat(i-5,"%")),this.setStyle(this.tooltip,"display","block")}},{key:"renderIndicator_",value:function(){this.pos1=0,this.pos3=0;var t=this.getStyle(this.dom_,"transform");this.ratingRotation=t&&+t.match(/.*?\((.*)deg/)[1],this.axis=this.ratingRotation>=45&&this.ratingRotation<=135||this.ratingRotation>=225&&this.ratingRotation<=315?"clientY":"clientX",this.indicator.addEventListener("pointerdown",this.indicatorDragDown_,{once:!0})}},{key:"indicatorDragDown_",value:function(t){var e,i=t||window.event;i.preventDefault(),(0,h.createAndDispatchEvent)(this.dom_,"onPlayPause"),this.pos3=null!==(e=i[this.axis])&&void 0!==e?e:i.targetTouches[0][this.axis],this.dom_.addEventListener("pointerup",this.closeDragElement_,{once:!0}),this.dom_.addEventListener("pointerleave",this.closeDragElement_,{once:!0}),this.dom_.addEventListener("pointermove",this.indicatorDrag_)}},{key:"indicatorDrag_",value:function(t){var e,i,a=t||window.event;a.preventDefault(),a.stopImmediatePropagation(),a.stopPropagation(),this.pos1=this.pos3-(null!==(e=a[this.axis])&&void 0!==e?e:a.targetTouches[0][this.axis]),this.pos3=null!==(i=a[this.axis])&&void 0!==i?i:a.targetTouches[0][this.axis];var r=this.indicator.offsetLeft,s=this.ratingRotation>=130&&this.ratingRotation<=315?r+this.pos1:r-this.pos1;if(!(s<=-10||s>this.slider.offsetWidth-10)){var o=100*s/this.slider.offsetWidth;this.setStyle(this.indicator,"left","".concat(o,"%")),this.setStyle(this.sliderColored,"width","".concat(o+5,"%"))}}},{key:"closeDragElement_",value:function(){this.tooltip.classList.add("show"),this.dom_.removeEventListener("pointermove",this.indicatorDrag_),this.indicator.removeEventListener("pointermove",this.indicatorDrag_),this.setStyle(this.indicator,"animation",null),this.setStyle(this.sliderColored,"animation",null),this.calcAverageAnswer_(),this.storyObserverInstance_.disconnect(),(0,h.createAndDispatchEvent)(this.dom_,"onPlayPause")}},{key:"calcAverageAnswer_",value:function(){var t=Math.floor(100*(this.indicator.offsetLeft+10)/this.slider.offsetWidth);t=t>100?100:t;var e=(this.layerData.answer_count*this.layerData.average_answer+t)/(this.layerData.answer_count+1),i=this.slider.offsetWidth*e/100;this.setStyle(this.tooltip,"left","".concat(i,"px")),this.componentsData=this.getLocalComponentData(),this.componentsData[this.layerData.uid]=t,this.setLocalComponentData(this.componentsData),this.sendRatingEvent_(t)}},{key:"checkRatingDataDiff_",value:function(){var t=this.getComponentLocalData(l.LayerTemplateTypes.RATING,this.layerData);return this.layerData.average_answer===t.average_answer}},{key:"sendRatingEvent_",value:function(){var e=(0,t.default)(o.default.mark(function t(e){var i,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i={event_type:n.LayerEventTypes.Rated,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_index:null,story_index:null,story_group_type:"default",uid:this.layerData.uid,story_interactive_type:"rating",story_interactive_x:this.layerData.x,story_interactive_y:this.layerData.y,duration:null,watch_length:null,event_time:Date.now(),activity:e.toString()},this.setComponentLocalData(l.LayerTemplateTypes.RATING,this.layerData),this.api.sendEvent(i),a={group:this.group_,story_id:this.story_.story_id,alt_text:this.story_.alt_text,is_sharable:this.story_.is_sharable,track_id:this.layerData.custom_payload,title:this.layerData.title,emoji_code:this.layerData.emoji_code,answer:e.toString()},(0,h.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:n.CustomerEventTypes.onStoryRatingAnswered,params:a});case 5:case"end":return t.stop()}},t,this)}));return function(t){return e.apply(this,arguments)}}()}]),c}(c.default),f=v;exports.default=f;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/regenerator":"PMvg","../../constants/events":"d0lR","../../constants/layerTypes":"aJRz","../../lib/util":"PesM","../base":"skR7","./dataConvertor":"UkqP","./template":"LwBz"}],"Wuka":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/helpers/defineProperty")),r=require("../../lib/util");function t(e){return e&&e.__esModule?e:{default:e}}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);r&&(c=c.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,c)}return t}function o(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach(function(t){(0,e.default)(r,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}var a=function(e){var t=o({},e),c={1:[1],2:[1,2],3:[1,3,2],4:[1,3,4,2],5:[1,3,5,4,2]};return Object.keys(e).forEach(function(o){switch(o){case"background_color":var a=(0,r.convertHex)(e[o]);t.mode="rgba(255, 255, 255, 0.5)"===a?"Light":"Dark";break;case"emoji_codes":t.emoji_codes=e.emoji_codes.map(function(r,t){return{emoji:r,count:e.click_counts[r],animate_order:c[e.emoji_codes.length][t]}});break;case"left":var n;if(Number.isInteger(e[o])){var i=100*e[o]/360;n="".concat(i<0?0:i,"%")}else n="".concat(parseFloat(e[o]),"%");t.left=n;break;case"top":var s;s=Number.isInteger(e[o])?"".concat(100*e[o]/640,"%"):"".concat(parseFloat(e[o]),"%"),t.top=s;break;case"x":t.sdkLeft=e[o];break;case"w":t.width="".concat(e[o],"%");break;case"y":t.sdkTop=e[o];break;case"h":t.height="".concat(e[o],"%");break;case"z_index":t.zIndex=e[o];break;default:return!0}return!0}),t},n=a;exports.default=n;
},{"@babel/runtime/helpers/defineProperty":"IxO8","../../lib/util":"PesM"}],"KBRU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/util"),o=function(o){var e;return'\n<div class="component-layer">\n  <div\n    role="component"\n    aria-hidden="true"\n    style="\n      left: '.concat(o.left,";\n      top: ").concat(o.top,";\n      z-index: ").concat(o.z_index,'\n    "\n    class="reactions ').concat(90===o.rotation?"rotated":"",'"\n    data-mode="').concat(o.mode,'""\n  >\n    ').concat(null===(e=o.emoji_codes)||void 0===e?void 0:e.map(function(e){return'\n        <div\n          class="emoji-container"\n          style="--animate-order: '.concat(e.animate_order,"; --background-color: ").concat("Light"===o.mode?"#fff":"#000",'">\n          <span class="emoji no-pointer-events">').concat(e.emoji,'</span>\n          <span class="count no-pointer-events">').concat((0,n.kFormatter)(e.count),"</span>\n        </div>\n      ")}).join(""),"\n  </div>\n</div>")};exports.default=o;
},{"../../../lib/util":"PesM"}],"GGza":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=m(require("@babel/runtime/helpers/asyncToGenerator")),e=m(require("@babel/runtime/helpers/defineProperty")),a=m(require("@babel/runtime/helpers/toConsumableArray")),r=m(require("@babel/runtime/helpers/classCallCheck")),i=m(require("@babel/runtime/helpers/createClass")),n=m(require("@babel/runtime/helpers/inherits")),s=m(require("@babel/runtime/helpers/possibleConstructorReturn")),l=m(require("@babel/runtime/helpers/getPrototypeOf")),o=m(require("@babel/runtime/regenerator")),c=require("../../constants/events"),u=require("../../constants/layerTypes"),h=require("../../lib/util"),d=m(require("../base")),_=m(require("./dataConvertor")),y=m(require("./template"));function m(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),a.push.apply(a,r)}return a}function p(t){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?f(Object(r),!0).forEach(function(a){(0,e.default)(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function b(t){var e=v();return function(){var a,r=(0,l.default)(t);if(e){var i=(0,l.default)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,s.default)(this,a)}}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var D=function(s){(0,n.default)(d,s);var l=b(d);function d(t){var e,a=t.layer,i=t.group,n=t.storyDom,s=t.story,o=t.instanceId;return(0,r.default)(this,d),(e=l.call(this,{type:u.LayerTemplateTypes.EMOJI,storyDom:n,instanceId:o})).story_=s,e.storyDom_=n,e.group_=i,e.animationStart_=!1,e.selectedEmoji_=null,e.localData_=e.getLocalComponentData(),e.setLayerData((0,_.default)(a)),e.generateComponentAndAppendToPage((0,y.default)(e.layerData)).then(function(t){e.dom_=t,e.init_()}),e.attachCallbacksToElement_(),e}return(0,i.default)(d,[{key:"attachCallbacksToElement_",value:function(){this.handleClickEmoji_=this.handleClickEmoji_.bind(this),this.handleLocalData_=this.handleLocalData_.bind(this),this.handleEvent_=this.handleEvent_.bind(this),this.handleDom_=this.handleDom_.bind(this),this.storyObserverCallback_=this.storyObserverCallback_.bind(this)}},{key:"init_",value:function(){var t=this;if(this.storyObserver_(this.storyObserverCallback_),this.globalInstanceData.storylyEmbed.init&&(0,h.stopEventBubbling)(this.dom_,"click"),this.localData_[this.layerData.uid]||this.layerData.is_result){if(this.dom_.classList.add("reacted"),!this.layerData.is_result){var e,a={};Object.keys(null!==(e=this.layerData.click_counts)&&void 0!==e?e:{}).forEach(function(e){a[e]=t.layerData.click_counts[e],t.localData_[t.layerData.uid].selected===e&&(a[e]+=1)}),this.layerData.click_counts=a}this.handleDom_(!this.layerData.is_result&&this.localData_[this.layerData.uid].selected)}this.layerData.is_result||this.dom_.querySelectorAll(".emoji-container").forEach(function(e){(0,h.stopEventBubbling)(e,"touchstart"),(0,h.stopEventBubbling)(e,"touchend"),e.addEventListener("pointerdown",t.handleClickEmoji_)})}},{key:"storyObserverCallback_",value:function(t){var e=this;t.forEach(function(t){"attributes"===t.type&&"show"===t.attributeName&&(t.target.hasAttribute("show")&&e.dom_.classList.add("animating"),t.target.hasAttribute("show")||(e.dom_.classList.remove("animating"),e.handleEvent_()))})}},{key:"animationDom_",value:function(t){return'\n      <div class="emoji-animation">\n        '.concat((0,a.default)(Array(20).keys()).map(function(){return'<span style="bottom: -'.concat(10*Math.random()-10,"%; left: ").concat(90*Math.random(),"%; animation-delay: ").concat(1.2*Math.random(),'s">').concat(t,"</span>")}).join(""),"\n      </div>\n    ")}},{key:"handleClickEmoji_",value:function(t){var e=this,a=t.target,r=a.querySelector(".emoji").innerHTML;if(a.classList.contains("clicked"))return this.selectedEmoji_=null,a.classList.remove("clicked"),this.dom_.classList.remove("reacted"),this.dom_.classList.add("deselected"),this.layerData.click_counts[r]-=1,this.localData_[this.layerData.uid]=null,void this.setLocalComponentData(this.localData_);var i=this.generateHtmlFromTemplate(this.animationDom_(r));this.animationStart_||(this.storyDom_.appendChild(i),this.selectedEmoji_&&(this.layerData.click_counts[this.selectedEmoji_]-=1),this.layerData.click_counts[r]+=1,this.selectedEmoji_=r,this.handleDom_(r),this.handleLocalData_(),this.animationStart_=!0),this.dom_.classList.add("reacted"),setTimeout(function(){i.remove(),e.animationStart_=!1},2500)}},{key:"handleLocalData_",value:function(){this.selectedEmoji_&&(this.localData_=this.getLocalComponentData(),this.localData_[this.layerData.uid]={counts:this.layerData.click_counts,selected:this.selectedEmoji_},this.setLocalComponentData(this.localData_))}},{key:"handleDom_",value:function(t){var a=this,r=Object.values(this.layerData.click_counts).reduce(function(t,e){return t+e},0);Array.from(this.dom_.children).forEach(function(i){var n=i.firstElementChild.innerHTML,s=(a.layerData.click_counts[n]/r*100).toFixed();a.layerData.click_percentages=p(p({},a.layerData.click_percentages||{}),{},(0,e.default)({},n,Number(s))),i.lastElementChild.innerHTML="%".concat(s),i.lastElementChild.dataset.count=s,n===t?i.classList.add("clicked"):i.classList.remove("clicked")}),this.handleSummedPercentages_()}},{key:"handleSummedPercentages_",value:function(){var t=Object.values(this.layerData.click_percentages).reduce(function(t,e){return t+e},0);if(100!==t){var e=Math.max.apply(Math,(0,a.default)(Object.values(this.layerData.click_percentages))),r=e+(100-t);this.dom_.querySelector("[data-count='".concat(e,"']")).innerHTML="%".concat(r)}}},{key:"handleEvent_",value:function(){var e=(0,t.default)(o.default.mark(function t(){var e,a;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.selectedEmoji_){t.next=2;break}return t.abrupt("return");case 2:e={event_type:c.LayerEventTypes.ReactionClicked,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_index:null,story_index:null,story_group_type:"default",story_interactive_x:null,story_interactive_y:null,duration:null,watch_length:null,event_time:Date.now(),uid:this.layerData.uid,activity:this.selectedEmoji_},this.api.sendEvent(e),a={group:this.group_,story_id:this.story_.story_id,alt_text:this.story_.alt_text,is_sharable:this.story_.is_sharable,track_id:this.layerData.custom_payload,answers:this.layerData.emoji_codes,answer:this.selectedEmoji_},(0,h.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:c.CustomerEventTypes.onStoryReactionAnswered,params:a});case 6:case"end":return t.stop()}},t,this)}));return function(){return e.apply(this,arguments)}}()}]),d}(d.default),k=D;exports.default=k;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/toConsumableArray":"Fhqp","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/regenerator":"PMvg","../../constants/events":"d0lR","../../constants/layerTypes":"aJRz","../../lib/util":"PesM","../base":"skR7","./dataConvertor":"Wuka","./template":"KBRU"}],"WBGL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/helpers/defineProperty"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function a(t){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{};a%2?r(Object(c),!0).forEach(function(r){(0,e.default)(t,r,c[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):r(Object(c)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))})}return t}var c=function(e){var t=a({},e);return Object.keys(e).forEach(function(r){switch(r){case"custom_payload":t.custom_payload=e[r];break;case"x":t.sdkLeft=e[r];break;case"w":t.width="".concat(e[r],"%");break;case"y":t.sdkTop=e[r];break;case"left":var a;if(Number.isInteger(e[r])){var c=100*e[r]/360;a="".concat(c<0?0:c,"%")}else a="".concat(parseFloat(e[r]),"%");t.left=a;break;case"top":var o;o=Number.isInteger(e[r])?"".concat(100*e[r]/640,"%"):"".concat(parseFloat(e[r]),"%"),t.top=o;break;case"h":t.height="".concat(e[r],"%");break;case"q_answer":t.q_answer=e[r];break;case"q_o_texts":t.q_o_texts=e[r];break;case"q_o_votes":t.q_o_votes=e[r];break;case"q_text":t.q_text=e[r];break;case"has_title":t.has_title=e[r];break;case"o_h":t.o_h=e[r];break;case"scale":var s=e[r]+1;t.compScale=s;break;case"theme":t.mode=e[r];break;case"type":t.type=e[r];break;case"uid":t.uid=e[r];break;case"rotation":t.transform="rotate(".concat(e[r],"deg)");break;case"z_index":t.zIndex=e[r];break;default:return!0}return!0}),t},o=c;exports.default=o;
},{"@babel/runtime/helpers/defineProperty":"IxO8"}],"KbCg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/util"),t=function(t,a){var c=["A","B","C","D"];return'\n    <div class="component-layer">\n      <div\n        aria-hidden="true"\n        class="quiz-component"\n        style="\n          font-family: '.concat((0,n.getFontFamily)({instanceId:a}),";\n          left: ").concat(t.left,";\n          top: ").concat(t.top,";\n          z-index: ").concat(t.zIndex,";\n          ").concat(t.transform?"transform: ".concat(t.transform,";"):"",'";\n        role="component"\n        data-group=""\n        data-story=""\n        data-mode="').concat(t.mode,'"\n        data-scale="').concat(t.compScale,'"\n        data-has-title=').concat(!!t.has_title,"\n      >\n        ").concat(t.has_title?'<div class="question"><span>'.concat(t.q_text,"</span></div>"):"",'\n        <div class="answers" data-has-title=').concat(!!t.has_title,">\n          ").concat(t.q_o_texts.map(function(n,t){return'<div class="answer">\n              <span>'.concat(c[t],"</span>\n              <span>").concat(n,"</span>\n            </div>")}).join(""),"\n        </div>\n      </div>\n    </div>\n  ")};exports.default=t;
},{"../../../lib/util":"PesM"}],"lrR5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=_(require("@babel/runtime/helpers/asyncToGenerator")),t=_(require("@babel/runtime/helpers/toConsumableArray")),r=_(require("@babel/runtime/helpers/classCallCheck")),a=_(require("@babel/runtime/helpers/createClass")),s=_(require("@babel/runtime/helpers/inherits")),i=_(require("@babel/runtime/helpers/possibleConstructorReturn")),n=_(require("@babel/runtime/helpers/getPrototypeOf")),l=_(require("@babel/runtime/regenerator")),o=_(require("../base")),u=require("../../constants/layerTypes"),c=_(require("./dataConvertor")),h=require("../../lib/util"),y=_(require("./template")),d=require("../../constants/events");function _(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=f();return function(){var r,a=(0,n.default)(e);if(t){var s=(0,n.default)(this).constructor;r=Reflect.construct(a,arguments,s)}else r=a.apply(this,arguments);return(0,i.default)(this,r)}}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var v=function(i){(0,s.default)(o,i);var n=p(o);function o(e){var t,a=e.layer,s=e.group,i=e.story,l=e.storyDom,h=e.instanceId;return(0,r.default)(this,o),(t=n.call(this,{type:u.LayerTemplateTypes.QUIZ,storyDom:l,instanceId:h})).story_=i,t.group_=s,t.localData=t.getLocalComponentData(),t.sumAnswers=[],t.incorrectIcon='<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path fill-rule="evenodd" clip-rule="evenodd" d="M14.1942 3.80598C14.6251 4.2369 14.6251 4.93557 14.1942 5.36649L5.36661 14.1941C4.93569 14.625 4.23703 14.625 3.8061 14.1941C3.37518 13.7632 3.37518 13.0645 3.8061 12.6336L12.6337 3.80598C13.0646 3.37506 13.7633 3.37506 14.1942 3.80598Z" fill="#FF4D50"/>\n                            <path fill-rule="evenodd" clip-rule="evenodd" d="M3.8061 3.80598C4.23703 3.37506 4.93569 3.37506 5.36661 3.80598L14.1942 12.6336C14.6251 13.0645 14.6251 13.7632 14.1942 14.1941C13.7633 14.625 13.0646 14.625 12.6337 14.1941L3.8061 5.36649C3.37518 4.93557 3.37518 4.2369 3.8061 3.80598Z" fill="#FF4D50"/>\n                          </svg>',t.correctIcon='<svg width="15" height="11" viewBox="0 0 15 11" fill="none" xmlns="http://www.w3.org/2000/svg">\n                          <path fill-rule="evenodd" clip-rule="evenodd" d="M14.2168 0.805981C14.6477 1.2369 14.6477 1.93557 14.2168 2.36649L6.12485 10.4584C5.69393 10.8894 4.99526 10.8894 4.56434 10.4584L0.886181 6.78028C0.455257 6.34936 0.455257 5.6507 0.886181 5.21977C1.3171 4.78885 2.01577 4.78885 2.44669 5.21977L5.3446 8.11768L12.6563 0.805981C13.0872 0.375057 13.7859 0.375057 14.2168 0.805981Z" fill="#51C41A"/>\n                        </svg>',t.setLayerData((0,c.default)(a)),t.generateComponentAndAppendToPage((0,y.default)(t.layerData,h)).then(function(e){t.dom_=e,t.init_()}),t}return(0,a.default)(o,[{key:"init_",value:function(){var e=this;if("number"==typeof this.localData[this.layerData.uid]||this.layerData.is_result){if(this.key=this.localData[this.layerData.uid],this.layerData.is_result&&this.layerData.q_o_votes.every(function(e){return 0===e})){var t=Math.round(100/this.layerData.q_o_texts.length);this.layerData.q_o_votes=Array(this.layerData.q_o_texts.length).fill(t)}this.makeChoice_()}else this.selectorAll(this.dom_,".answer").forEach(function(t,r){(0,h.stopEventBubbling)(t,"touchstart"),(0,h.stopEventBubbling)(t,"touchend"),t.addEventListener("pointerdown",function(){return e.clickChoice_({key:r})},{once:!0})})}},{key:"handlePercentageTypeAnswerStyles_",value:function(e,t,r){var a,s=this.checkQuizDataDiff_()?0:1,i=null!==(a=this.layerData.q_o_votes)&&void 0!==a?a:[100,100,100,100],n=this.sumArrayValues(null!=i?i:[])+s,l=r===this.key?Number(i[r])+s:Number(i[r]),o=Math.round(l/n*100),u=document.createElement("div");u.classList.add("bg-percent"),e.appendChild(u),this.key===r&&this.setStyle(e,"border-color","#BDBDBD"),this.setStyle(u,"width","".concat(o,"%")),this.setStyle(t,"border","none"),this.sumAnswers.push(o),t.innerHTML="".concat(o,"%")}},{key:"handleCorrectTypeAnswerStyles_",value:function(e,t,r){var a=this.layerData.q_answer===this.key;t.innerHTML=a&&r===this.key||this.layerData.q_answer===r?this.correctIcon:this.incorrectIcon,r===this.key?e.classList.add(a?"correct-choice":"incorrect-choice"):e.classList.add(r===this.layerData.q_answer?"correct-choice":"other-choice","blurred")}},{key:"handleSummedPercentages_",value:function(){var e,r=this.sumArrayValues(null!==(e=this.sumAnswers)&&void 0!==e?e:[]);if(100!==r){var a,s=Math.max.apply(Math,(0,t.default)(null!==(a=this.sumAnswers)&&void 0!==a?a:[])),i=s+(100-r),n=this.sumAnswers.findIndex(function(e){return e===s});this.selectorAll(this.dom_,".answer")[n].firstElementChild.innerHTML="".concat(i,"%")}}},{key:"makeChoice_",value:function(){var e=this;this.localData=this.getLocalComponentData(),this.localData[this.layerData.uid]=this.key,this.setLocalComponentData(this.localData);var t=null===this.layerData.q_answer;this.selectorAll(this.dom_,".answer").forEach(function(r,a){var s=r.firstElementChild;return t?e.handlePercentageTypeAnswerStyles_(r,s,a):(e.handleCorrectTypeAnswerStyles_(r,s,a),!0)}),t&&this.handleSummedPercentages_()}},{key:"checkQuizDataDiff_",value:function(){if(this.layerData.is_result)return!0;var e,t=this.getComponentLocalData(u.LayerTemplateTypes.QUIZ,this.layerData);return!(t.uid!==this.layerData.uid||!t.q_o_votes)&&(null!==(e=this.layerData.q_o_votes)&&void 0!==e?e:[]).some(function(e,r){var a;return(null===(a=t.q_o_votes)||void 0===a?void 0:a[r])!==e})}},{key:"clickChoice_",value:function(){var t=(0,e.default)(l.default.mark(function e(t){var r,a,s;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.key,"number"!=typeof this.localData[this.layerData.uid]){e.next=3;break}return e.abrupt("return");case 3:this.key=r,this.makeChoice_(),a={event_type:d.LayerEventTypes.QuizAnswered,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_index:null,story_index:null,story_group_type:"default",story_interactive_type:"quiz",story_interactive_x:this.layerData.x,story_interactive_y:this.layerData.y,duration:null,watch_length:null,event_time:Date.now(),activity:String(this.key),uid:this.layerData.uid},this.setComponentLocalData(u.LayerTemplateTypes.QUIZ,this.layerData),this.api.sendEvent(a),s={group:this.group_,story_id:this.story_.story_id,alt_text:this.story_.alt_text,is_sharable:this.story_.is_sharable,track_id:this.layerData.custom_payload,title:this.layerData.q_text,answers:this.layerData.q_o_texts,answer:this.layerData.q_o_texts[this.key],correct_answer:this.layerData.q_o_texts[this.layerData.q_answer]},(0,h.createAndDispatchEvent)(this.storyDom_,"onConditionalEvent"),(0,h.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:d.CustomerEventTypes.onStoryQuizAnswered,params:s});case 11:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()}]),o}(o.default),m=v;exports.default=m;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/toConsumableArray":"Fhqp","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/regenerator":"PMvg","../base":"skR7","../../constants/layerTypes":"aJRz","./dataConvertor":"WBGL","../../lib/util":"PesM","./template":"KbCg","../../constants/events":"d0lR"}],"YvuL":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.create=void 0;var e={};!function t(e,n,a,r){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL);function i(){}function l(t){var a=n.exports.Promise,r=void 0!==a?a:e.Promise;return"function"==typeof r?new r(t):(t(i,i),null)}var s,c,u,d,f,h,m=(u=Math.floor(1e3/60),d={},f=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(s=function(t){var e=Math.random();return d[e]=requestAnimationFrame(function n(a){f===a||f+u-1<a?(f=a,delete d[e],t()):d[e]=requestAnimationFrame(n)}),e},c=function(t){d[t]&&cancelAnimationFrame(d[t])}):(s=function(t){return setTimeout(t,u)},c=function(t){return clearTimeout(t)}),{frame:s,cancel:c}),g=function(){var e,n,r={};return function(){if(e)return e;if(!a&&o){var i=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{e=new Worker(URL.createObjectURL(new Blob([i])))}catch(s){return void 0!==typeof console&&"function"==typeof console.warn&&console.warn("🎊 Could not load worker",s),null}!function(t){function e(e,n){t.postMessage({options:e||{},callback:n})}t.init=function(e){var n=e.transferControlToOffscreen();t.postMessage({canvas:n},[n])},t.fire=function(a,o,i){if(n)return e(a,null),n;var s=Math.random().toString(36).slice(2);return n=l(function(o){function l(e){e.data.callback===s&&(delete r[s],t.removeEventListener("message",l),n=null,i(),o())}t.addEventListener("message",l),e(a,s),r[s]=l.bind(null,{data:{callback:s}})})},t.reset=function(){for(var e in t.postMessage({reset:!0}),r)r[e](),delete r[e]}}(e)}return e}}(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function v(t,e,n){return function(t,e){return e?e(t):t}(t&&null!=t[e]?t[e]:b[e],n)}function p(t){return t<0?0:Math.floor(t)}function M(t){return parseInt(t,16)}function y(t){return t.map(w)}function w(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:M(e.substring(0,2)),g:M(e.substring(2,4)),b:M(e.substring(4,6))}}function x(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function C(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function T(t,e,n,o,i){var s,c,u=e.slice(),d=t.getContext("2d"),f=l(function(e){function l(){s=c=null,d.clearRect(0,0,o.width,o.height),i(),e()}s=m.frame(function e(){!a||o.width===r.width&&o.height===r.height||(o.width=t.width=r.width,o.height=t.height=r.height),o.width||o.height||(n(t),o.width=t.width,o.height=t.height),d.clearRect(0,0,o.width,o.height),(u=u.filter(function(t){return function(t,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.wobble+=e.wobbleSpeed,e.velocity*=e.decay,e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble);var n=e.tick++/e.totalTicks,a=e.x+e.random*e.tiltCos,r=e.y+e.random*e.tiltSin,o=e.wobbleX+e.random*e.tiltCos,i=e.wobbleY+e.random*e.tiltSin;if(t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",t.beginPath(),"circle"===e.shape)t.ellipse?t.ellipse(e.x,e.y,Math.abs(o-a)*e.ovalScalar,Math.abs(i-r)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):function(t,e,n,a,r,o,i,l,s){t.save(),t.translate(e,n),t.rotate(o),t.scale(a,r),t.arc(0,0,1,i,l,s),t.restore()}(t,e.x,e.y,Math.abs(o-a)*e.ovalScalar,Math.abs(i-r)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if("star"===e.shape)for(var l=Math.PI/2*3,s=4*e.scalar,c=8*e.scalar,u=e.x,d=e.y,f=5,h=Math.PI/f;f--;)u=e.x+Math.cos(l)*c,d=e.y+Math.sin(l)*c,t.lineTo(u,d),l+=h,u=e.x+Math.cos(l)*s,d=e.y+Math.sin(l)*s,t.lineTo(u,d),l+=h;else t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(r)),t.lineTo(Math.floor(o),Math.floor(i)),t.lineTo(Math.floor(a),Math.floor(e.wobbleY));return t.closePath(),t.fill(),e.tick<e.totalTicks}(d,t)})).length?s=m.frame(e):l()}),c=l});return{addFettis:function(t){return u=u.concat(t),f},canvas:t,promise:f,reset:function(){s&&m.cancel(s),c&&c()}}}function I(t,n){var a,r=!t,i=!!v(n||{},"resize"),s=v(n,"disableForReducedMotion",Boolean),c=o&&!!v(n||{},"useWorker")?g():null,u=r?x:C,d=!(!t||!c)&&!!t.__confetti_initialized,f="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function h(e,n,r){for(var o,i,l,s,c,d=v(e,"particleCount",p),f=v(e,"angle",Number),h=v(e,"spread",Number),m=v(e,"startVelocity",Number),g=v(e,"decay",Number),b=v(e,"gravity",Number),M=v(e,"drift",Number),w=v(e,"colors",y),x=v(e,"ticks",Number),C=v(e,"shapes"),I=v(e,"scalar"),k=function(t){var e=v(t,"origin",Object);return e.x=v(e,"x",Number),e.y=v(e,"y",Number),e}(e),E=d,S=[],F=t.width*k.x,N=t.height*k.y;E--;)S.push((o={x:F,y:N,angle:f,spread:h,startVelocity:m,color:w[E%w.length],shape:C[(s=0,c=C.length,Math.floor(Math.random()*(c-s))+s)],ticks:x,decay:g,gravity:b,drift:M,scalar:I},i=void 0,l=void 0,i=o.angle*(Math.PI/180),l=o.spread*(Math.PI/180),{x:o.x,y:o.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*o.startVelocity+Math.random()*o.startVelocity,angle2D:-i+(.5*l-Math.random()*l),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:o.color,shape:o.shape,tick:0,totalTicks:o.ticks,decay:o.decay,drift:o.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*o.gravity,ovalScalar:.6,scalar:o.scalar}));return a?a.addFettis(S):(a=T(t,S,u,n,r)).promise}function m(n){var o=s||v(n,"disableForReducedMotion",Boolean),m=v(n,"zIndex",Number);if(o&&f)return l(function(t){t()});r&&a?t=a.canvas:r&&!t&&(t=function(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}(m),document.body.appendChild(t)),i&&!d&&u(t);var g={width:t.width,height:t.height};function b(){if(c){var e={getBoundingClientRect:function(){if(!r)return t.getBoundingClientRect()}};return u(e),void c.postMessage({resize:{width:e.width,height:e.height}})}g.width=g.height=null}function p(){a=null,i&&e.removeEventListener("resize",b),r&&t&&(document.body.removeChild(t),t=null,d=!1)}return c&&!d&&c.init(t),d=!0,c&&(t.__confetti_initialized=!0),i&&e.addEventListener("resize",b,!1),c?c.fire(n,g,p):h(n,g,p)}return m.reset=function(){c&&c.reset(),a&&a.reset()},m}function k(){return h||(h=I(null,{useWorker:!0,resize:!0})),h}n.exports=function(){return k().apply(this,arguments)},n.exports.reset=function(){k().reset()},n.exports.create=I}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),e,!1);var n=e.exports;exports.default=n;var a=e.exports.create;exports.create=a;
},{}],"Adv1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/helpers/defineProperty")),r=require("../../constants/common");function t(e){return e&&e.__esModule?e:{default:e}}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function c(r){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?a(Object(c),!0).forEach(function(t){(0,e.default)(r,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):a(Object(c)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(c,e))})}return r}var n=function(e){var t=c({},e);return Object.keys(e).forEach(function(a){switch(a){case"left":var c;if(Number.isInteger(e[a])){var n=100*e[a]/360;c="".concat(n<0?0:n,"%")}else c="".concat(parseFloat(e[a]),"%");t.left=c;break;case"top":var o;o=Number.isInteger(e[a])?"".concat(100*e[a]/640,"%"):"".concat(parseFloat(e[a]),"%"),t.top=o;break;case"w":t.width="".concat(e[a],"%");break;case"h":t.height="".concat(e[a],"%");break;case"scale":t.scale=r.layerScales[e[a]];break;case"theme":t.mode=e[a];break;case"rotation":t.transform="rotate(".concat(e[a],"deg)");break;case"z_index":t.zIndex=e[a];break;default:return!0}return!0}),t},o=n;exports.default=o;
},{"@babel/runtime/helpers/defineProperty":"IxO8","../../constants/common":"VKZr"}],"QFdH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/util"),s=function(s,a){return'\n  <div class="component-layer">\n    <div\n      aria-hidden="true"\n      tabindex="-1"\n      class="countdown"\n      role="component"\n      style="\n        font-family: '.concat((0,n.getFontFamily)({instanceId:a}),";\n        left: ").concat(s.left,";\n        top: ").concat(s.top,";\n        width: ").concat(s.width,";\n        z-index: ").concat(s.zIndex,";\n        ").concat(s.transform?"transform: ".concat(s.transform,";"):"",';\n      "\n      data-mode="').concat(s.mode,'"\n      data-scale="').concat(s.scale,'"\n      data-reminder=').concat(!!s.notificationEnd,'"\n    >\n      ').concat(s.has_title?'\n        <div class="title">\n          <span>'.concat(s.title,"</span>\n        </div>"):"",'\n      <div class="times">\n        <div class="days">\n          <div class="day-times">\n            <div class="time"><span>0</span></div>\n            <div class="time"><span>0</span></div>\n          </div>\n          <span data-i18n-key="countdown_days" class="time-name">days</span>\n        </div>\n        <span class="dot"><span>:</span></span>\n        <div class="hours">\n          <div class="hour-times">\n            <div class="time"><span>0</span></div>\n            <div class="time"><span>0</span></div>\n          </div>\n          <span data-i18n-key="countdown_hours" class="time-name">hours</span>\n        </div>\n        <span class="dot"><span>:</span></span>\n        <div class="minutes">\n          <div class="minute-times">\n            <div class="time"><span>0</span></div>\n            <div class="time"><span>0</span></div>\n          </div>\n          <span data-i18n-key="countdown_minutes" class="time-name">minutes</span>\n        </div>\n        <span class="dot"><span>:</span></span>\n        <div class="seconds">\n          <div class="second-times">\n            <div class="time"><span>0</span></div>\n            <div class="time"><span>0</span></div>\n          </div>\n          <span data-i18n-key="countdown_seconds" class="time-name">seconds</span>\n        </div>\n      </div>\n    </div>\n  </div>\n')};exports.default=s;
},{"../../../lib/util":"PesM"}],"YoYr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=h(require("@babel/runtime/helpers/defineProperty")),t=h(require("@babel/runtime/helpers/asyncToGenerator")),r=h(require("@babel/runtime/helpers/classCallCheck")),a=h(require("@babel/runtime/helpers/createClass")),n=h(require("@babel/runtime/helpers/inherits")),i=h(require("@babel/runtime/helpers/possibleConstructorReturn")),o=h(require("@babel/runtime/helpers/getPrototypeOf")),s=h(require("@babel/runtime/regenerator")),l=h(require("canvas-confetti")),u=require("../../constants/layerTypes"),c=require("../../lib/util"),d=h(require("../base")),f=h(require("./dataConvertor")),m=h(require("./template"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function p(t){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?y(Object(a),!0).forEach(function(r){(0,e.default)(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _(e){var t=v();return function(){var r,a=(0,o.default)(e);if(t){var n=(0,o.default)(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return(0,i.default)(this,r)}}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var b=function(e){(0,n.default)(o,e);var i=_(o);function o(e){var t,a=e.layer,n=e.group,s=e.storyDom,l=e.story,c=e.instanceId;return(0,r.default)(this,o),(t=i.call(this,{type:u.LayerTemplateTypes.COUNTDOWN,storyDom:s,instanceId:c})).story_=l,t.group_=n,t.animationStatus_=!1,t.daysHidden_=!1,t.storyDom_=s,t.setLayerData((0,f.default)(a)),t.generateComponentAndAppendToPage((0,m.default)(t.layerData,c)).then(function(e){var r;t.dom_=e,t.daysDom_=null===(r=t.dom_.querySelector(".day-times"))||void 0===r?void 0:r.querySelectorAll(".time"),t.hoursDom_=t.dom_.querySelector(".hour-times").querySelectorAll(".time"),t.minutesDom_=t.dom_.querySelector(".minute-times").querySelectorAll(".time"),t.secondsDom_=t.dom_.querySelector(".second-times").querySelectorAll(".time"),t.init_()}),t.attachCallbacksToElement_(),t}return(0,a.default)(o,[{key:"attachCallbacksToElement_",value:function(){this.storyObserverCallback_=this.storyObserverCallback_.bind(this)}},{key:"init_",value:function(){this.globalInstanceData.storylyEmbed.init&&(0,c.stopEventBubbling)(this.dom_),this.layerData.has_seconds||(this.dom_.querySelector(".seconds").setAttribute("hidden","true"),this.dom_.lastElementChild.setAttribute("data-seconds","false")),this.storyObserver_(this.storyObserverCallback_)}},{key:"createAnimationCanvas_",value:function(){this.animationCanvas_=document.createElement("canvas"),this.animationCanvas_.classList.add("confetti-animation"),this.storyDom_.appendChild(this.animationCanvas_)}},{key:"handleAnimation_",value:function(){var e=(0,t.default)(s.default.mark(function e(){var t,r,a=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.animationStatus_=!0,this.animationCanvas_.confetti=this.animationCanvas_.confetti||l.default.create(this.animationCanvas_,{resize:!0}),200,t={origin:{y:.4}},(r=function(e,r){a.animationCanvas_.confetti(p(p(p({},t),r),{},{particleCount:Math.floor(200*e),origin:{y:a.layerData.sdkTop/100+.15}}))})(.2,{spread:26,startVelocity:55}),r(.2,{spread:60}),r(.2,{spread:100,decay:.91,scalar:.8}),r(.2,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),r(.2,{spread:120,startVelocity:45});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"storyObserverCallback_",value:function(e){var t=this;e.forEach(function(e){if("attributes"===e.type)if("show"===e.attributeName&&e.target.hasAttribute("show"))t.handleTimer_(),t.createAnimationCanvas_();else if(!e.target.hasAttribute("show")){var r;if(clearInterval(t.countdownTime_),t.animationCanvas_)t.animationCanvas_.remove(),null===(r=t.animationCanvas_.confetti)||void 0===r||r.reset();t.animationStatus_=!1}})}},{key:"renderTime_",value:function(){var e=this,t=0,r=0,a=0,n=0,i=new Date(1e3*this.layerData.end)-new Date;i>0&&(n=(a=(r=(t=i/864e5)%1*24)%1*60)%1*60,t=Math.floor(t),r=Math.floor(r),n=Math.floor(n),a=Math.floor(a),a+=a<59&&n>0?1:0),0!==t||this.daysHidden_||(this.dom_.querySelector(".days").setAttribute("hidden","true"),this.dom_.querySelector(".seconds").removeAttribute("hidden","false"),this.dom_.lastElementChild.setAttribute("data-days","false"),this.dom_.lastElementChild.removeAttribute("data-seconds"),this.daysHidden_=!0);var o=0===t&&0===r&&0===a;o&&(this.animationStatus_||setTimeout(function(){e.handleAnimation_()},150),clearInterval(this.countdownTime_));var s=[(0,c.splitTime)(t),(0,c.splitTime)(r),(0,c.splitTime)(a),(0,c.splitTime)(n)];return t=s[0],r=s[1],a=s[2],n=s[3],this.daysDom_.forEach(function(e,r){e.querySelector("span").innerHTML=t[r]}),this.hoursDom_.forEach(function(e,t){e.querySelector("span").innerHTML=r[t]}),this.minutesDom_.forEach(function(e,t){e.querySelector("span").innerHTML=a[t]}),this.secondsDom_.forEach(function(e,t){e.querySelector("span").innerHTML=n[t]}),Promise.resolve(o)}},{key:"handleTimer_",value:function(){var e=this;this.renderTime_().then(function(t){t||(e.countdownTime_=setInterval(function(){e.renderTime_()},1e3))})}}]),o}(d.default),C=b;exports.default=C;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/regenerator":"PMvg","canvas-confetti":"YvuL","../../constants/layerTypes":"aJRz","../../lib/util":"PesM","../base":"skR7","./dataConvertor":"Adv1","./template":"QFdH"}],"L7Hj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("@babel/runtime/helpers/defineProperty")),r=require("../../constants/common"),t=require("../../lib/util");function c(e){return e&&e.__esModule?e:{default:e}}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);r&&(c=c.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,c)}return t}function a(r){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?o(Object(c),!0).forEach(function(t){(0,e.default)(r,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(c,e))})}return r}var n=function(e){var c=a({},e);return Object.keys(e).forEach(function(o){switch(o){case"x":c.sdkLeft=e[o];break;case"w":c.width="".concat(e[o],"%");break;case"y":c.sdkTop=e[o];break;case"h":c.height="".concat(e[o],"%");break;case"left":c.left="".concat(parseFloat(e[o]),"%");break;case"top":c.top="".concat(parseFloat(e[o]),"%");break;case"scale":c.scale=r.layerScales[e[o]];break;case"theme":c.mode=e[o];break;case"rotation":c.transform="rotate(".concat(e[o],"deg)");break;case"primary_color":c.color=e[o].includes("rgba")?e[o]:(0,t.convertHex)(e[o]);break;case"secondary_color":c.background=e[o].includes("rgba")?e[o]:(0,t.convertHex)(e[o])}return!0}),c},s=n;exports.default=s;
},{"@babel/runtime/helpers/defineProperty":"IxO8","../../constants/common":"VKZr","../../lib/util":"PesM"}],"hHV8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/util"),o=function(o,t,c){return'\n  <div class="component-layer" dir="'.concat(t.direction,'">\n    <div\n      aria-hidden="true"\n      tabindex="-1"\n      class="question-component"\n      role="component"\n      data-group=""\n      data-story=""\n      style="\n        font-family: ').concat((0,n.getFontFamily)({instanceId:c}),";\n        left: ").concat(o.left,";\n        top: ").concat(o.top,";\n        width: ").concat(o.width,";\n        z-index: ").concat(o.z_index,";\n        ").concat(o.transform?"transform: ".concat(o.transform,";"):"","\n        background-color: ").concat(o.background,";\n        border: 1px solid ").concat((0,n.convertHex)(o.primary_color,.1),";\n        color: ").concat(o.color,';\n      "\n      data-scale="').concat(o.scale,'"\n      >\n        <div\n          style="\n            border-right: 20px solid ').concat(o.background,';\n          "\n          class="question-component-tail">\n        </div>\n        <div>\n          <div class="question-component-container">\n          ').concat(o.has_title?'<div class="question-component-container-title">\n            <h6>'.concat(o.title,"</h6>\n          </div>"):"",'\n          <div class="question-component-container-button">\n            <p>').concat(o.placeholder,"</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n")},t=function(o,t,c){return'\n  <div class="component-layer" dir="'.concat(t.direction,'">\n    <div\n      aria-hidden="true"\n      tabindex="-1"\n      class="question-component-result question-component"\n      role="component"\n      data-scale="').concat(o.scale,'"\n      style="\n        font-family: ').concat((0,n.getFontFamily)({instanceId:c}),";\n        left: ").concat(o.left,";\n        top: ").concat(o.top,";\n        width: ").concat(o.width,";\n        z-index: ").concat(o.z_index,";\n        ").concat(o.transform?"transform: ".concat(o.transform,";"):"","\n        border: 1px solid ").concat((0,n.convertHex)(o.primary_color,.1),";\n        color: ").concat(o.color,';\n      "\n      >\n        <div\n          style="\n            border-right-color: color-mix(in srgb, ').concat(o.background,', rgb(255, 255, 255) 80%)\n          "\n          class="question-component-tail">\n        </div>\n        <div \n          style="background-color: ').concat(o.background,';"\n          class="question-component-container">\n          ').concat(o.has_title?'\n              <div class="question-component-container-title">\n                <h6>'.concat(o.title,"</h6>\n              </div>"):"",'\n        <div class="question-component-container-text">\n          <p>').concat(o.a_t||"","</p>\n        </div>\n      </div>\n    </div>\n  </div>\n  ")},c=function(){for(var n=arguments.length,c=new Array(n),a=0;a<n;a++)c[a]=arguments[a];return c[0].is_result?t.apply(void 0,c):o.apply(void 0,c)},a=c;exports.default=a;
},{"../../../lib/util":"PesM"}],"K7o6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/icons"),t=require("../../../lib/util"),a=function(a,e,o){return'\n  <div class="question-textbox-container" aria-hidden="true" tabindex="-1" dir="'.concat(e.direction,'">\n    <div class="question-textbox-container-overlay"></div>\n    <form\n      aria-hidden="true"\n      class="question-textbox-container-form"\n      style="\n        font-family: ').concat((0,t.getFontFamily)({instanceId:o}),";\n        background-color: ").concat(a.background,";\n        color: ").concat(a.color,';\n      ">\n      ').concat(a.has_title?'<label for="form-'.concat(a.uid,'">').concat(a.title,"</label>"):"",'\n        <textarea\n          autofocus\n          id="form-').concat(a.uid,'"\n          name="form-').concat(a.uid,'"\n          maxlength="200"\n          required\n          data-gramm="false"\n          data-gramm_editor="false"\n          data-enable-grammarly="false"\n        ></textarea>\n        <button\n          aria-hidden="true"\n          tabindex="-1"\n          type="submit"\n          style="background-color: ').concat(a.color,';"\n        >\n          ').concat((0,n.sendIcon)(a.background),"\n        </button>\n    </form>\n  </div>")};exports.default=a;
},{"../../../lib/icons":"irwm","../../../lib/util":"PesM"}],"KeqT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=v(require("@babel/runtime/helpers/classCallCheck")),e=v(require("@babel/runtime/helpers/createClass")),i=v(require("@babel/runtime/helpers/inherits")),s=v(require("@babel/runtime/helpers/possibleConstructorReturn")),a=v(require("@babel/runtime/helpers/getPrototypeOf")),r=v(require("platform")),n=require("../../constants/layerTypes"),o=v(require("../../constants/os")),l=v(require("../base")),u=v(require("./dataConvertor")),h=require("../../lib/util"),c=v(require("./template/layer")),_=v(require("./template/textbox")),y=require("../../constants/events"),d=require("../../lib/icons");function v(t){return t&&t.__esModule?t:{default:t}}function f(t){var e=p();return function(){var i,r=(0,a.default)(t);if(e){var n=(0,a.default)(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return(0,s.default)(this,i)}}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var m=function(s){(0,i.default)(l,s);var a=f(l);function l(e){var i,s=e.layer,r=e.group,o=e.storyDom,h=e.story,_=e.storiesContainer,y=e.instanceId;return(0,t.default)(this,l),(i=a.call(this,{type:n.LayerTemplateTypes.QUESTION,storyDom:o,instanceId:y})).story_=h,i.storiesContainer_=_,i.group_=r,i.setLayerData((0,u.default)(s)),i.attachCallbacksToElement_(),i.generateComponentAndAppendToPage((0,c.default)(i.layerData,i.globalInstanceData,y)).then(function(t){i.dom_=t,i.init_()}),i}return(0,e.default)(l,[{key:"attachCallbacksToElement_",value:function(){this.onClickTapButton_=this.onClickTapButton_.bind(this),this.onClickOverlay_=this.onClickOverlay_.bind(this),this.onQuestionSent=this.onQuestionSent.bind(this),this.onTextAreaChange_=this.onTextAreaChange_.bind(this),this.storyObserverCallback_=this.storyObserverCallback_.bind(this),this.setInitialFormOffsetHeight_=this.setInitialFormOffsetHeight_.bind(this)}},{key:"init_",value:function(){var t,e=null===(t=r.default.os)||void 0===t||null===(t=t.family)||void 0===t?void 0:t.toLocaleLowerCase();this.layerData.is_result||(this.isIos_=e===o.default.IOS,this.tapButton_=this.dom_.querySelector(".question-component-container-button"),this.textBoxContainer_=this.generateHtmlFromTemplate((0,_.default)(this.layerData,this.globalInstanceData,this.instanceId)),this.dom_.parentElement.appendChild(this.textBoxContainer_),this.form_=this.textBoxContainer_.querySelector("form"),this.textarea_=this.textBoxContainer_.querySelector("textarea"),this.textarea_.oninput=this.onTextAreaChange_,this.isIos_&&(this.textarea_.placeholder=this.layerData.placeholder),this.submitButton_=this.form_.querySelector("button"),(0,h.setClickEventListener)(this.submitButton_,this.onQuestionSent),this.overlay_=this.textBoxContainer_.querySelector(".question-textbox-container-overlay"),this.eventListeners_())}},{key:"eventListeners_",value:function(){var t=this;(0,h.isMobileView)()?(this.tapButton_.addEventListener("touchstart",this.onClickTapButton_),this.overlay_.addEventListener("touchstart",this.onClickOverlay_),(0,h.stopEventBubbling)(this.overlay_,"touchstart"),(0,h.stopEventBubbling)(this.overlay_,"touchend")):(this.dom_.addEventListener("click",this.onClickTapButton_),this.overlay_.addEventListener("click",this.onClickOverlay_),(0,h.stopEventBubbling)(this.overlay_,"click")),this.textarea_.addEventListener("keydown",function(e){e.stopPropagation(),"Escape"===e.key&&t.onClickOverlay_()}),this.storyObserver_(this.storyObserverCallback_)}},{key:"storyObserverCallback_",value:function(t){var e=this;t.forEach(function(t){"attributes"===t.type&&("show"===t.attributeName&&(t.target.hasAttribute("show")||e.onClickOverlay_()),"paused"===t.attributeName&&(e.isStoryPaused_=t.target.hasAttribute("paused")),"class"===t.attributeName&&(e.isStoryPaused_=!1))})}},{key:"setInitialFormOffsetHeight_",value:function(){this.textarea_.value||(this.initialFormOffsetHeight_||(this.initialFormOffsetHeight_=this.form_.offsetHeight),this.setStyle(this.form_,"max-height","".concat(this.initialFormOffsetHeight_-this.submitButton_.offsetHeight,"px")))}},{key:"setInitialStyle_",value:function(){this.setInitialFormOffsetHeight_(),this.textarea_.style.height="",this.submitButton_.classList.remove("active")}},{key:"onClickTapButton_",value:function(){var t=this;if((0,h.isMobileView)()&&!this.isIos_){var e=this.storiesContainer_.getBoundingClientRect().width;this.setStyle(this.storiesContainer_,"width","".concat(e,"px")),this.textBoxContainer_.classList.add("android")}requestAnimationFrame(this.setInitialFormOffsetHeight_),this.isIos_||setTimeout(function(){t.textarea_.focus()},200),this.textBoxContainer_.classList.add("active"),this.isStoryPaused_||(0,h.createAndDispatchEvent)(this.dom_,"onPlayPause")}},{key:"onClickOverlay_",value:function(){var t=this;this.textBoxContainer_.classList.remove("active"),this.textarea_.blur(),(0,h.isMobileView)()&&setTimeout(function(){t.storiesContainer_.style.removeProperty("width")},400),this.isStoryPaused_&&(this.isStoryPaused_=!1,(0,h.createAndDispatchEvent)(this.dom_,"onPlayPause"))}},{key:"onTextAreaChange_",value:function(){this.textarea_.value?(this.form_.style.maxHeight="45%",this.textarea_.style.height="",this.textarea_.style.height="".concat(this.textarea_.scrollHeight,"px"),this.submitButton_.classList.add("active")):this.setInitialStyle_()}},{key:"onQuestionSent",value:function(t){var e=this;t.preventDefault();var i=this.textBoxContainer_.querySelector("button"),s={event_type:y.LayerEventTypes.CommentSent,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_index:null,story_index:null,story_group_type:"default",story_interactive_type:n.LayerTemplateTypes.QUESTION,duration:null,watch_length:null,event_time:Date.now(),activity:this.textarea_.value,uid:this.layerData.uid};i.innerHTML=(0,d.loadingIcon)(this.layerData.background),this.api.sendEvent(s).then(function(){i.innerHTML=(0,d.checkIcon)(e.layerData.background),setTimeout(function(){e.textarea_.value="",e.onClickOverlay_(),e.setInitialStyle_(),i.innerHTML=(0,d.sendIcon)(e.layerData.background)},1e3)});var a={group:this.group_,story_id:this.story_.story_id,alt_text:this.story_.alt_text,is_sharable:this.story_.is_sharable,track_id:this.layerData.custom_payload,title:this.layerData.title,question:this.textarea_.value};(0,h.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:y.CustomerEventTypes.onStoryQuestionAnswered,params:a})}}]),l}(l.default),b=m;exports.default=b;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","platform":"kohK","../../constants/layerTypes":"aJRz","../../constants/os":"Ms5h","../base":"skR7","./dataConvertor":"L7Hj","../../lib/util":"PesM","./template/layer":"hHV8","./template/textbox":"K7o6","../../constants/events":"d0lR","../../lib/icons":"irwm"}],"qy6d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/helpers/defineProperty"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);t&&(c=c.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,c)}return r}function c(t){for(var c=1;c<arguments.length;c++){var a=null!=arguments[c]?arguments[c]:{};c%2?r(Object(a),!0).forEach(function(r){(0,e.default)(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}var a=function(e){return Object.keys(e).reduce(function(t,r){var a=c({},t);switch(r){case"x":a.sdkLeft=e[r];break;case"w":a.width="".concat(e[r],"%");break;case"y":a.sdkTop=e[r];break;case"h":a.height="".concat(e[r],"%");break;case"left":var n;if(Number.isInteger(e[r])){var o=100*e[r]/360;n="".concat(o<0?0:o,"%")}else n="".concat(parseFloat(e[r]),"%");a.left=n;break;case"top":var s;s=Number.isInteger(e[r])?"".concat(100*e[r]/640,"%"):"".concat(parseFloat(e[r]),"%"),a.top=s;break;case"rotation":a.transform="rotate(".concat(e[r],"deg)");break;case"z_index":a.zIndex=e[r]}return a},c({},e))},n=a;exports.default=n;
},{"@babel/runtime/helpers/defineProperty":"IxO8"}],"QPFf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(n){var t,e,o="".concat(n.mediaHost).concat(null!==(t=n.image_path)&&void 0!==t?t:n.video_path);("image_url"in n||"video_url"in n)&&(o=null!==(e=n.image_url)&&void 0!==e?e:n.video_url);return'\n    <div class="component-layer">\n      <div\n        aria-hidden="true"\n        class="media-component"\n        role="component"\n        style="\n          width: '.concat(n.width,";\n          height: ").concat(n.height,";\n          left: ").concat(n.left,";\n          top: ").concat(n.top,";\n          ").concat(n.transform?"transform: ".concat(n.transform,";"):"","\n          z-index: ").concat(n.zIndex,';\n        "\n      >\n          ').concat("video"===n.type?'<video width="320" height="240" autoplay disablepictureinpicture muted controls>\n              <source src="'.concat(o,'" type="video/mp4" />\n            </video>'):'<img src="'.concat(o,'" style="border-radius: ').concat(n.border_radius,'px;" alt="Component Image" />'),"\n      </div>\n    </div>\n  ")};exports.default=n;
},{}],"VEUS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("@babel/runtime/helpers/defineProperty")),t=f(require("@babel/runtime/helpers/classCallCheck")),r=f(require("@babel/runtime/helpers/createClass")),n=f(require("@babel/runtime/helpers/inherits")),a=f(require("@babel/runtime/helpers/possibleConstructorReturn")),u=f(require("@babel/runtime/helpers/getPrototypeOf")),i=require("../../constants/layerTypes"),o=require("../../lib/util"),l=f(require("../base")),s=f(require("./dataConvertor")),c=f(require("./template"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach(function(r){(0,e.default)(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function y(e){var t=b();return function(){var r,n=(0,u.default)(e);if(t){var i=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var h=function(e){(0,n.default)(u,e);var a=y(u);function u(e){var r,n=e.layer,o=e.mediaHost,l=e.storyDom,c=e.instanceId;return(0,t.default)(this,u),(r=a.call(this,{type:i.LayerTemplateTypes.MEDIA,storyDom:l,instanceId:c})).setLayerData(d(d({},(0,s.default)(n)),{},{mediaHost:o})),r.init_(),r}return(0,r.default)(u,[{key:"init_",value:function(){var e=(0,o.calcBorderRadius)(this.layerData,this.storyDom_);this.layerData.border_radius=this.layerData.border_radius?e:0,this.generateComponentAndAppendToPage((0,c.default)(this.layerData))}}]),u}(l.default),O=h;exports.default=O;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","../../constants/layerTypes":"aJRz","../../lib/util":"PesM","../base":"skR7","./dataConvertor":"qy6d","./template":"QPFf"}],"I4RP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/helpers/defineProperty"));function t(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function n(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?r(Object(o),!0).forEach(function(r){(0,e.default)(t,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var o=function(e){var t=n(n({},e),{},{scale:+(e.w/28.7).toFixed(2)||1});return Object.keys(e).forEach(function(r){switch(r){case"x":if(t.left)break;t.left="".concat(e[r],"%");break;case"y":if(t.top)break;t.top="".concat(e[r],"%");break;default:return!0}return!0}),t},c=o;exports.default=c;
},{"@babel/runtime/helpers/defineProperty":"IxO8"}],"pEwR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../lib/util"),c=require("../../../lib/icons"),n=function(n,a){return'\n  <div class="component-layer">\n    <div\n      class="product-card-interactive"\n      role="component"\n      data-scale="'.concat(n.scale,'"\n      data-radius="').concat(!!n.border_radius,'"\n      style="\n        font-family: ').concat((0,t.getFontFamily)({instanceId:a}),";\n        left: ").concat(n.left,";\n        z-index: ").concat(n.z_index,";\n        --product-card-rotation: ").concat(n.rotation,";\n        --product-card-top: ").concat(n.top,';\n      "\n      tabindex="-1"\n      aria-hidden="true"\n      >\n        <img class="product-card-interactive-image" loading="lazy" alt="product image" src="').concat((0,t.isMobileView)()?"":n.image_url,'" />\n        ').concat(n.title?'<div class="product-card-interactive-title"><h6>'.concat(n.title,"</h6></div>"):"",'\n        <div class="product-card-interactive-price">\n          ').concat(n.old_price?'<span class="product-card-interactive-price-old">'.concat(n.old_price,"</span>"):"",'\n          <div class="product-card-interactive-price-current">\n            <span>').concat(n.price,'</span>\n            <button type="button" class="product-card-interactive-price-current-button">\n              ').concat((0,c.arrowRight)("#000000"),"\n            </button>\n          </div>\n        </div>\n    </div>\n  </div>\n")};exports.default=n;
},{"../../../lib/util":"PesM","../../../lib/icons":"irwm"}],"ldNI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=d(require("@babel/runtime/helpers/classCallCheck")),e=d(require("@babel/runtime/helpers/createClass")),r=d(require("@babel/runtime/helpers/inherits")),a=d(require("@babel/runtime/helpers/possibleConstructorReturn")),i=d(require("@babel/runtime/helpers/getPrototypeOf")),n=require("../../constants/layerTypes"),o=d(require("../base")),s=d(require("./dataConvertor")),u=require("../../lib/util"),l=d(require("./template")),c=require("../../constants/events"),y=d(require("../../components/StoryProduct"));function d(t){return t&&t.__esModule?t:{default:t}}function h(t){var e=_();return function(){var r,n=(0,i.default)(t);if(e){var o=(0,i.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,a.default)(this,r)}}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var p=function(a){(0,r.default)(o,a);var i=h(o);function o(e){var r,a=e.layer,c=e.group,y=e.storyDom,d=e.story,h=e.instanceId;return(0,t.default)(this,o),(r=i.call(this,{type:n.LayerTemplateTypes.PRODUCT_CARD,storyDom:y,instanceId:h})).story_=d,r.group_=c,r.setLayerData((0,s.default)(a)),r.attachCallbacksToElement_(),r.generateComponentAndAppendToPage((0,l.default)(r.layerData,h)).then(function(t){r.dom_=t,r.init_(),(0,u.isMobileView)()&&r.storyObserver_(r.storyObserverCallback_)}),r}return(0,e.default)(o,[{key:"attachCallbacksToElement_",value:function(){this.onRedirect_=this.onRedirect_.bind(this),this.storyObserverCallback_=this.storyObserverCallback_.bind(this)}},{key:"init_",value:function(){(0,u.setClickEventListener)(this.dom_,this.onRedirect_),(0,u.stopEventBubbling)(this.dom_,"touchstart"),(0,u.stopEventBubbling)(this.dom_,"touchend"),this.layerData.initialProduct&&(this.storyProduct_=new y.default({instanceId:this.instanceId,layer:this.layerData,storyDom:this.storyDom_,group:this.group_,story:this.story_}))}},{key:"storyObserverCallback_",value:function(t){var e=this;t.forEach(function(t){var r=t.type,a=t.attributeName,i=t.target;if("attributes"===r&&"show"===a){var n=e.dom_.querySelector(".product-card-interactive-image");i.hasAttribute("show")&&!n.getAttribute("src")&&(n.src=e.layerData.image_url)}})}},{key:"onRedirect_",value:function(){var t={event_type:c.LayerEventTypes.ProductCardClicked,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_index:null,story_index:null,story_group_type:"default",story_interactive_type:n.LayerTemplateTypes.PRODUCT_CARD,story_interactive_x:this.layerData.x,story_interactive_y:this.layerData.y,duration:null,watch_length:null,event_time:Date.now(),uid:this.layerData.uid};this.api.sendEvent(t),this.handleRedirectURL_()}},{key:"handleRedirectURL_",value:function(){if(this.layerData.initialProduct)this.storyProduct_.onPurchase(this.layerData.initialProduct.product_id);else{var t=this.layerData.outlink;t&&(0,u.openLink)(t)}}}]),o}(o.default),f=p;exports.default=f;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","../../constants/layerTypes":"aJRz","../base":"skR7","./dataConvertor":"I4RP","../../lib/util":"PesM","./template":"pEwR","../../constants/events":"d0lR","../../components/StoryProduct":"GdVG"}],"Pi05":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var c=require("../../../lib/util"),r=function(r){var e;return'\n    <div\n      class="product-card"\n      data-product-id="'.concat(r.product_id,'"\n      tabindex="-1"\n      aria-hidden="true"\n      >\n      ').concat(null!==(e=r.image_urls)&&void 0!==e&&e.length?'<img class="product-card-media" src="'.concat(r.image_urls[0],'" alt="product" />'):"",'\n      <div class="product-card-right-container">\n      ').concat(r.is_title_visible?'<p class="product-card-right-container-description">'.concat(r.title,"</p>"):"",'\n        <div class="product-card-right-container-bottom-section">\n          <div class="product-card-price-container">\n          ').concat(r.is_price_visible&&!r.sales_price?'<span class="product-card-current-price">'.concat((0,c.currencyFormatter)(r.price,r.price_currency),"</span>"):"","\n          ").concat(!r.is_price_visible&&r.sales_price&&r.is_s_price_visible?'<span class="product-card-current-price">'.concat((0,c.currencyFormatter)(r.sales_price,r.price_currency),"</span>"):"","\n          ").concat(r.is_s_price_visible&&r.sales_price&&r.is_price_visible?'<span class="product-card-current-price">'.concat((0,c.currencyFormatter)(r.sales_price,r.price_currency),'</span><span class="product-card-old-price">').concat((0,c.currencyFormatter)(r.price,r.price_currency),"</span>"):"","\n          </div>\n          ").concat(r.c_b_text?'<button\n                    class="product-card-purchase-button">\n                      <span>'.concat(r.c_b_text,"</span>\n                  </button>"):"","\n        </div>\n      </div>\n    </div>\n")};exports.default=r;
},{"../../../lib/util":"PesM"}],"WudP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/util"),t=function(t,e){return'\n  <div class="component-layer product-list-layer">\n    <div class="product-list-container">\n      <div\n        class="product-list"\n        role="component"\n        data-group=""\n        data-story=""\n        style="font-family: '.concat((0,n.getFontFamily)({instanceId:e}),';"\n        tabindex="-1"\n        aria-hidden="true"\n        dir="').concat(t.direction,'"\n        ></div>\n      <div class="product-list-arrow left-arrow" hidden>\n        <svg class="no-pointer-events" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path class="no-pointer-events" d="M13.333 8L2.66634 8" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n          <path class="no-pointer-events" d="M6.66699 12L2.66699 8L6.66699 4" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n      </div>\n      <div class="product-list-arrow right-arrow" hidden>\n        <svg class="no-pointer-events" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path class="no-pointer-events" d="M2.66699 8H13.3337" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n          <path class="no-pointer-events" d="M9.33301 4L13.333 8L9.33301 12" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n      </div>\n    </div>\n  </div>\n')};exports.default=t;
},{"../../../lib/util":"PesM"}],"kvuH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ProductCardTemplate",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"ProductCatalogTemplate",{enumerable:!0,get:function(){return t.default}});var e=r(require("./productCard")),t=r(require("./productCatalog"));function r(e){return e&&e.__esModule?e:{default:e}}
},{"./productCard":"Pi05","./productCatalog":"WudP"}],"rFjg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=y(require("@babel/runtime/helpers/slicedToArray")),e=y(require("@babel/runtime/helpers/asyncToGenerator")),r=y(require("@babel/runtime/helpers/defineProperty")),n=y(require("@babel/runtime/helpers/classCallCheck")),o=y(require("@babel/runtime/helpers/createClass")),a=y(require("@babel/runtime/helpers/inherits")),i=y(require("@babel/runtime/helpers/possibleConstructorReturn")),s=y(require("@babel/runtime/helpers/getPrototypeOf")),u=y(require("@babel/runtime/regenerator")),c=y(require("../base")),l=y(require("../../components/StoryProduct")),d=require("./template"),h=require("../../constants/layerTypes"),p=require("../../lib/util"),f=y(require("../../constants/layouts")),_=require("../../constants/events");function y(t){return t&&t.__esModule?t:{default:t}}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach(function(e){(0,r.default)(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function C(t){var e=m();return function(){var r,n=(0,s.default)(t);if(e){var o=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var g=function(r){(0,a.default)(s,r);var i=C(s);function s(t){var e,r=t.layer,o=t.group,a=t.storyDom,u=t.story,c=t.instanceId;return(0,n.default)(this,s),(e=i.call(this,{type:h.LayerTemplateTypes.PRODUCT_CATALOG,storyDom:a,instanceId:c})).story_=u,e.group_=o,e.dom_=null,e.rendered_=!1,e.storyPaused_=!1,e.setLayerData(b({},r)),e.attachCallbacksToElement_(),e.generateComponentAndAppendToPage((0,d.ProductCatalogTemplate)(e.globalInstanceData,c)).then(function(t){e.dom_=t,e.init_(),e.storyObserver_(e.storyObserverCallback_)}),e}return(0,o.default)(s,[{key:"attachCallbacksToElement_",value:function(){this.storyObserverCallback_=this.storyObserverCallback_.bind(this),this.onClickArrow_=this.onClickArrow_.bind(this),this.renderProducts_=this.renderProducts_.bind(this),this.handleScrollArrows_=this.handleScrollArrows_.bind(this)}},{key:"init_",value:function(){var t=(0,e.default)(u.default.mark(function t(){return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.productCardsContainer_=this.dom_.querySelector(".product-list"),(0,p.stopEventBubbling)(this.productCardsContainer_,"touchmove",!1),this.storyProduct_=new l.default({instanceId:this.instanceId,layer:this.layerData,storyDom:this.storyDom_,group:this.group_,story:this.story_}),this.handleScrollArrows_();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"storyObserverCallback_",value:function(t){var e=this;t.forEach(function(t){var r=t.type,n=t.attributeName,o=t.target;if("attributes"===r&&"show"===n){if(o.hasAttribute("show")){var a=e.renderProducts_();setTimeout(function(){return a.classList.add("active")},0),e.rendered_=!0}o.hasAttribute("show")||(e.productCardsContainer_.classList.remove("active"),e.productCardsContainer_.scrollTo(0,0))}"attributes"===r&&"paused"===n&&(e.storyPaused_=o.hasAttribute("paused"))})}},{key:"handleScrollArrows_",value:function(){var e=this;if(this.layerData.products.length>1){var r=this.dom_.querySelectorAll(".product-list-arrow"),n=(0,t.default)(r,2),o=n[0],a=n[1];this.globalInstanceData.layout===f.default.MODERN&&r.forEach(function(t,r){1===r&&a.removeAttribute("hidden"),t.addEventListener("click",e.onClickArrow_)}),this.productCardsContainer_.addEventListener("scroll",function(t){var r=t.currentTarget,n=r.scrollLeft,i=r.clientWidth,s=r.scrollWidth;e.storyPaused_||(0,p.createAndDispatchEvent)(e.dom_,"onPlayPause"),e.globalInstanceData.layout!==f.default.CLASSIC&&(n+i>=s-1?a.setAttribute("hidden","true"):(n>0&&(o.removeAttribute("hidden"),a.removeAttribute("hidden")),0===n&&o.setAttribute("hidden","true")))})}}},{key:"onClickArrow_",value:function(t){var e=t.target;this.storyPaused_||(0,p.createAndDispatchEvent)(this.dom_,"onPlayPause");var r=this.productCardsContainer_.firstElementChild.offsetWidth;e.classList.contains("right-arrow")?this.productCardsContainer_.scrollTo({left:this.productCardsContainer_.scrollLeft+r}):this.productCardsContainer_.scrollTo({left:this.productCardsContainer_.scrollLeft-r})}},{key:"renderProducts_",value:function(){var t=this;if(this.rendered_){var e=this.layerData.products,r=this.instanceClass.storylyHydration.filter(function(t){return e.filter(function(e){return e.product_group_id===t.product_group_id}).length});if((0,p.isArraysEqual)(r,e))return this.productCardsContainer_;this.layerData.productVariants=r,this.productCardsContainer_.innerHTML=""}var n=function(e){var r=e.target.closest(".product-card");t.handleEvent_(_.LayerEventTypes.ProductCatalogClicked),t.storyProduct_.onPurchase(r.dataset.productId,!1)};return this.layerData.products.forEach(function(e){var r=e.product_id,n=t.layerData.productVariants.find(function(t){return t.product_id===r});if(n){var o=t.generateHtmlFromTemplate((0,d.ProductCardTemplate)(b(b({},t.layerData),n)));t.productCardsContainer_.appendChild(o)}}),(0,p.isMobileView)()?(this.productCardsContainer_.addEventListener("touchstart",function(e){e.stopPropagation(),e.stopImmediatePropagation(),t.productCardsContainer_.childNodes.forEach(function(t){t.addEventListener("touchend",n)})}),this.productCardsContainer_.addEventListener("scroll",function(){t.productCardsContainer_.childNodes.forEach(function(t){t.removeEventListener("touchend",n)})}),(0,p.stopEventBubbling)(this.productCardsContainer_,"touchend",!1)):this.productCardsContainer_.childNodes.forEach(function(t){t.addEventListener("click",n)}),this.productCardsContainer_}},{key:"handleEvent_",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=b({event_type:t,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_index:null,story_index:null,story_group_type:"default",story_interactive_x:null,story_interactive_y:null,duration:null,watch_length:null,event_time:Date.now()},e);this.api.sendEvent(r)}}]),s}(c.default),P=g;exports.default=P;
},{"@babel/runtime/helpers/slicedToArray":"HETk","@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/regenerator":"PMvg","../base":"skR7","../../components/StoryProduct":"GdVG","./template":"kvuH","../../constants/layerTypes":"aJRz","../../lib/util":"PesM","../../constants/layouts":"kUgL","../../constants/events":"d0lR"}],"gzP3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("@babel/runtime/helpers/defineProperty")),r=require("../../lib/util");function t(e){return e&&e.__esModule?e:{default:e}}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function c(r){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?a(Object(c),!0).forEach(function(t){(0,e.default)(r,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):a(Object(c)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(c,e))})}return r}var o=function(e){var t=c({},e);return Object.keys(e).forEach(function(a){switch(a){case"x":t.sdkLeft=e[a];break;case"y":t.sdkTop=e[a];break;case"left":var c;if(Number.isInteger(e[a])){var o=100*e[a]/360;c="".concat(o<0?0:o,"%")}else c="".concat(parseFloat(e[a]),"%");t.left=c;break;case"top":var n;n=Number.isInteger(e[a])?"".concat(100*e[a]/640,"%"):"".concat(parseFloat(e[a]),"%"),t.top=n;break;case"title":t.title=e[a];break;case"price":t.price=e[a];break;case"old_price":t.old_price=e[a];break;case"primary_color":t.color=e[a].includes("rgba")?e[a]:(0,r.convertHex)(e[a]),t.borderColor=e[a].includes("rgba")?e[a]:(0,r.convertHex)(e[a],.3);break;case"secondary_color":t.background=e[a].includes("rgba")?e[a]:(0,r.convertHex)(e[a]);break;case"icon_type":t.icon_type=e[a];break;case"outlink":t.outlink=e[a];break;case"has_title":t.has_title=e[a];break;case"tooltip_placement":t.tooltip_placement=e[a];break;case"theme":t.mode=e[a];break;case"type":t.type=e[a];break;case"uid":t.uid=e[a];break;case"z_index":t.zIndex=e[a];break;default:return!0}return!0}),t},n=o;exports.default=n;
},{"@babel/runtime/helpers/defineProperty":"IxO8","../../lib/util":"PesM"}],"m7GC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/util"),o=function(o,c){var l,t,a,r,i,e,d,s;return'\n  <div class="component-layer">\n    <div\n      class="product-tag-dot"\n      role="component"\n      data-group=""\n      data-story=""\n      style="\n        font-family: '.concat((0,n.getFontFamily)({instanceId:c}),";\n        left: ").concat(o.left,";\n        top: ").concat(o.top,";\n        background-color: ").concat(null!==(l=o.background)&&void 0!==l?l:"#FFFFFF",";\n        border-color: ").concat(null!==(t=o.color)&&void 0!==t?t:"#000000",';\n      ">\n      <button\n        class="product-tag-tooltip"\n        style="\n          color: ').concat(null!==(a=o.color)&&void 0!==a?a:"#000000",";\n          background-color: ").concat(null!==(r=o.background)&&void 0!==r?r:"#FFFFFF",";\n          border-color: ").concat(null!==(i=o.borderColor)&&void 0!==i?i:"rgba(0,0,0,0.3)",';\n        ">\n          <div class="title-container ').concat(null!=o&&o.price||null!=o&&o.old_price?"":"no-price",'">\n            <span class="tag-title">').concat(o.title,'</span>\n            <span>\n              <svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path d="M1.29006 0.710022C0.900059 1.10002 0.900059 1.73002 1.29006 2.12002L5.17006 6.00002L1.29006 9.88002C0.900059 10.27 0.900059 10.9 1.29006 11.29C1.68006 11.68 2.31006 11.68 2.70006 11.29L7.29006 6.70002C7.68006 6.31002 7.68006 5.68002 7.29006 5.29002L2.70006 0.700022C2.32006 0.320022 1.68006 0.320022 1.29006 0.710022Z" fill="').concat(null!==(e=o.color)&&void 0!==e?e:"#000000",'"/>\n              </svg>\n            </span>\n          </div>\n          ').concat(((null==o?void 0:o.price)||(null==o?void 0:o.old_price))&&'<div class="price-container" aria-hidden="true">\n              '.concat((null==o?void 0:o.price)&&'<span style="background-color: '.concat(null!==(d=o.color)&&void 0!==d?d:"#000000","; color: ").concat(null!==(s=o.background)&&void 0!==s?s:"#FFFFFF",';" class="price"\n                >').concat(null==o?void 0:o.price,"</span>"),"\n              ").concat((null==o?void 0:o.old_price)&&'<span class="old-price">'.concat(null==o?void 0:o.old_price,"</span>"),"\n            </div>"),"\n      </button>\n    </div>\n  </div>\n")};exports.default=o;
},{"../../../lib/util":"PesM"}],"cjPL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=p(require("@babel/runtime/helpers/classCallCheck")),e=p(require("@babel/runtime/helpers/createClass")),i=p(require("@babel/runtime/helpers/inherits")),o=p(require("@babel/runtime/helpers/possibleConstructorReturn")),s=p(require("@babel/runtime/helpers/getPrototypeOf")),r=require("../../constants/layerTypes"),n=p(require("../base")),a=p(require("./dataConvertor")),l=require("../../lib/util"),c=require("../../lib/style"),d=p(require("./template")),u=require("../../constants/events"),h=require("../../lib/icons"),_=p(require("../../components/StoryProduct"));function p(t){return t&&t.__esModule?t:{default:t}}function y(t){var e=v();return function(){var i,r=(0,s.default)(t);if(e){var n=(0,s.default)(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return(0,o.default)(this,i)}}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var g=function(o){(0,i.default)(n,o);var s=y(n);function n(e){var i,o=e.layer,l=e.group,c=e.storyDom,u=e.story,_=e.instanceId;return(0,t.default)(this,n),(i=s.call(this,{type:r.LayerTemplateTypes.PRODUCT_TAG,storyDom:c,instanceId:_})).story_=u,i.group_=l,i.tooltip_=null,i.isPlacementSet_=!1,i.placement={"top-left":0,"top-middle":1,"top-right":2,"down-right":3,"down-middle":4,"down-left":5},i.setLayerData((0,a.default)(o)),i.shoppingBagIcon_=(0,h.shoppingBagIcon)(i.layerData.color),i.shoppingCartIcon_='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                              <path d="M12.5 12H4.78092C4.66383 12 4.55045 11.9589 4.46055 11.8839C4.37065 11.8088 4.30993 11.7046 4.28899 11.5894L2.6201 2.41056C2.59915 2.29535 2.53844 2.19115 2.44854 2.11612C2.35864 2.0411 2.24526 2 2.12817 2H1" stroke="'.concat(i.layerData.color,'" stroke-linecap="round" stroke-linejoin="round"/>\n                              <path d="M5 14.5C5.69036 14.5 6.25 13.9404 6.25 13.25C6.25 12.5596 5.69036 12 5 12C4.30964 12 3.75 12.5596 3.75 13.25C3.75 13.9404 4.30964 14.5 5 14.5Z" stroke="').concat(i.layerData.color,'" stroke-linecap="round" stroke-linejoin="round"/>\n                              <path d="M12.5 14.5C13.1904 14.5 13.75 13.9404 13.75 13.25C13.75 12.5596 13.1904 12 12.5 12C11.8096 12 11.25 12.5596 11.25 13.25C11.25 13.9404 11.8096 14.5 12.5 14.5Z" stroke="').concat(i.layerData.color,'" stroke-linecap="round" stroke-linejoin="round"/>\n                              <path d="M3 4.5H13.9009C13.9741 4.5 14.0465 4.51609 14.1128 4.54713C14.1791 4.57817 14.2378 4.6234 14.2848 4.67963C14.3317 4.73585 14.3657 4.8017 14.3844 4.87252C14.403 4.94333 14.4059 5.01739 14.3928 5.08944L13.5746 9.58944C13.5537 9.70465 13.493 9.80885 13.4031 9.88388C13.3132 9.9589 13.1998 10 13.0827 10H4" stroke="').concat(i.layerData.color,'" stroke-linecap="round" stroke-linejoin="round"/>\n                            </svg>'),i.productTagIcon_='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                            <path fill-rule="evenodd" clip-rule="evenodd" d="M14.7268 9.93992L9.94683 14.7199C9.69674 14.9703 9.35738 15.111 9.0035 15.111C8.64962 15.111 8.31025 14.9703 8.06016 14.7199L2.3335 8.99992V2.33325H9.00016L14.7268 8.05992C15.2438 8.57997 15.2438 9.41987 14.7268 9.93992Z" stroke="'.concat(i.layerData.color,'" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n                            <circle cx="6" cy="6" r="1" fill="none"/>\n                          </svg>'),i.percentIcon_='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                          <path d="M12.5 3.5L3.5 12.5" stroke="'.concat(i.layerData.color,'" stroke-width="1.3" stroke-linecap="round" stroke-linejoin="round"/>\n                          <path d="M4.75 6.5C5.7165 6.5 6.5 5.7165 6.5 4.75C6.5 3.7835 5.7165 3 4.75 3C3.7835 3 3 3.7835 3 4.75C3 5.7165 3.7835 6.5 4.75 6.5Z" stroke="').concat(i.layerData.color,'" stroke-width="1.3" stroke-miterlimit="10"/>\n                          <path d="M11.25 13C12.2165 13 13 12.2165 13 11.25C13 10.2835 12.2165 9.5 11.25 9.5C10.2835 9.5 9.5 10.2835 9.5 11.25C9.5 12.2165 10.2835 13 11.25 13Z" stroke="').concat(i.layerData.color,'" stroke-width="1.3" stroke-miterlimit="10"/>\n                        </svg>'),i.dotIcon_='<svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <rect width="8" height="8" rx="4" fill="'.concat(i.layerData.color,'"/>\n                    </svg>'),i.attachCallbacksToElement_(),i.generateComponentAndAppendToPage((0,d.default)(i.layerData,_)).then(function(t){i.dom_=t,i.init_()}),i}return(0,e.default)(n,[{key:"attachCallbacksToElement_",value:function(){this.dispatchClickEvent_=this.dispatchClickEvent_.bind(this),this.showTooltip_=this.showTooltip_.bind(this),this.clearTimeouts_=this.clearTimeouts_.bind(this),this.handleRedirectURL_=this.handleRedirectURL_.bind(this),this.storyObserverCallback_=this.storyObserverCallback_.bind(this),this.eventListeners_=this.eventListeners_.bind(this)}},{key:"init_",value:function(){this.handleProductTagIcon_(),this.tooltip_=this.selector(this.dom_,".product-tag-tooltip"),this.eventListeners_(),(0,l.stopEventBubbling)(this.dom_,"touchstart"),(0,l.stopEventBubbling)(this.dom_,"touchend"),this.layerData.initialProduct&&(this.storyProduct_=new _.default({instanceId:this.instanceId,layer:this.layerData,storyDom:this.storyDom_,group:this.group_,story:this.story_}))}},{key:"eventListeners_",value:function(){(0,l.setClickEventListener)(this.dom_,this.dispatchClickEvent_),this.storyDom_.addEventListener("onProductTagClearTimeouts",this.clearTimeouts_),this.storyDom_.addEventListener("onProductTagClick",this.showTooltip_),(0,l.setClickEventListener)(this.tooltip_,this.handleRedirectURL_),this.storyObserver_(this.storyObserverCallback_)}},{key:"storyObserverCallback_",value:function(t){var e=this;t.forEach(function(t){"attributes"===t.type&&("show"===t.attributeName&&(t.target.hasAttribute("show")&&(e.isStoryActive_=!0,e.handleAnimation_()),t.target.hasAttribute("show")||(e.isStoryActive_=!1,(0,c.removeClass)(e.dom_,"active"),e.clearTimeouts_())),"paused"!==t.attributeName||e.globalInstanceData.accessibility||(t.target.hasAttribute("paused")&&(e.storyPaused_=!0),t.target.hasAttribute("paused")||(e.storyPaused_=!1,(0,c.removeClass)(e.dom_,"active"))))})}},{key:"dispatchClickEvent_",value:function(t){var e=this;if(t.target===this.dom_){var i=this.dom_.classList.contains("active");if((!this.storyPaused_||this.storyPaused_&&i)&&(0,l.createAndDispatchEvent)(this.dom_,"onPlayPause"),i||(0,l.createAndDispatchEvent)(this.storyDom_,"onProductTagClick"),(0,l.createAndDispatchEvent)(this.storyDom_,"onProductTagClearTimeouts"),!i){var o={event_type:u.LayerEventTypes.ProductTagClicked,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_index:null,story_index:null,story_group_type:"default",story_interactive_type:"product_tag",story_interactive_x:this.layerData.x,story_interactive_y:this.layerData.y,duration:null,watch_length:null,event_time:Date.now(),uid:this.layerData.uid};if(this.api.sendEvent(o),this.globalInstanceData.events.productTagExpanded){var s=this.layerData,r=s.outlink,n=s.title,a=s.uid,c=this.group_.stories.findIndex(function(t){return t.story_id===e.story_.story_id}),d={id:this.story_.story_id,productTagId:a,title:n,seen:!0,index:c,media:{actionUrl:r}};this.globalInstanceData.events.productTagExpanded(d)}}}}},{key:"showTooltip_",value:function(){this.isStoryActive_&&this.dom_.classList.toggle("active")}},{key:"clearTimeouts_",value:function(){this.timeout_&&clearTimeout(this.timeout_)}},{key:"handleTooltipPlacement_",value:function(){var t=this;if(!this.isPlacementSet_){var e=this.layerData.tooltip_placement,i=Object.keys(this.placement).find(function(i){return t.placement[i]===e}),o=this.storyDom_.offsetWidth,s="".concat(.55*o,"px");if(this.setStyle(this.tooltip_,"max-width",s),e===this.placement["top-middle"]||e===this.placement["down-middle"]){var r=this.tooltip_.offsetWidth;this.setStyle(this.tooltip_,"margin-left","-".concat(r/2,"px"))}this.tooltip_.classList.add(null!=i?i:"top-middle"),this.isPlacementSet_=!0}}},{key:"handleAnimation_",value:function(){var t=this;new Promise(function(e){t.handleTooltipPlacement_(),t.timeout_=setTimeout(function(){t.showTooltip_(),e()},500)}).then(function(){t.globalInstanceData.accessibility||(t.timeout_=setTimeout(function(){t.showTooltip_()},2e3))})}},{key:"handleProductTagIcon_",value:function(){var t={shopping_bag:this.shoppingBagIcon_,price_tag:this.productTagIcon_,shopping_cart:this.shoppingCartIcon_,percent:this.percentIcon_,dot:this.dotIcon_},e=window.btoa(t[this.layerData.icon_type]);this.setStyle(this.dom_,"background-image","url(data:image/svg+xml;base64,".concat(e,")")),"dot"===this.layerData.icon_type&&this.setStyle(this.dom_,"background-size","auto")}},{key:"handleRedirectURL_",value:function(){var t=this,e=this.layerData,i=e.outlink,o=e.title,s=e.uid,r=e.initialProduct;if(r&&this.storyProduct_.onPurchase(r.product_id),this.globalInstanceData.events.productTagClicked){var n=this.group_.stories.findIndex(function(e){return e.story_id===t.story_.story_id}),a={id:this.story_.story_id,productTagId:s,title:o,seen:!0,index:n,media:{actionUrl:i}};this.globalInstanceData.events.productTagClicked(a)}else i&&!r&&(0,l.openLink)(i)}}]),n}(n.default),m=g;exports.default=m;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","../../constants/layerTypes":"aJRz","../base":"skR7","./dataConvertor":"gzP3","../../lib/util":"PesM","../../lib/style":"vgU2","./template":"m7GC","../../constants/events":"d0lR","../../lib/icons":"irwm","../../components/StoryProduct":"GdVG"}],"JUot":[function(require,module,exports) {
module.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,t=[],a=0;a<e.rangeCount;a++)t.push(e.getRangeAt(a));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||t.forEach(function(n){e.addRange(n)}),n&&n.focus()}};
},{}],"xbqV":[function(require,module,exports) {
"use strict";var e=require("toggle-selection"),t={"text/plain":"Text","text/html":"Url",default:"Text"},o="Copy to clipboard: #{key}, Enter";function a(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function n(n,r){var c,l,s,i,d,p,u=!1;r||(r={}),c=r.debug||!1;try{if(s=e(),i=document.createRange(),d=document.getSelection(),(p=document.createElement("span")).textContent=n,p.ariaHidden="true",p.style.all="unset",p.style.position="fixed",p.style.top=0,p.style.clip="rect(0, 0, 0, 0)",p.style.whiteSpace="pre",p.style.webkitUserSelect="text",p.style.MozUserSelect="text",p.style.msUserSelect="text",p.style.userSelect="text",p.addEventListener("copy",function(e){if(e.stopPropagation(),r.format)if(e.preventDefault(),void 0===e.clipboardData){c&&console.warn("unable to use e.clipboardData"),c&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=t[r.format]||t.default;window.clipboardData.setData(o,n)}else e.clipboardData.clearData(),e.clipboardData.setData(r.format,n);r.onCopy&&(e.preventDefault(),r.onCopy(e.clipboardData))}),document.body.appendChild(p),i.selectNodeContents(p),d.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(m){c&&console.error("unable to copy using execCommand: ",m),c&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(r.format||"text",n),r.onCopy&&r.onCopy(window.clipboardData),u=!0}catch(m){c&&console.error("unable to copy using clipboardData: ",m),c&&console.error("falling back to prompt"),l=a("message"in r?r.message:o),window.prompt(l,n)}}finally{d&&("function"==typeof d.removeRange?d.removeRange(i):d.removeAllRanges()),p&&document.body.removeChild(p),s()}return u}module.exports=n;
},{"toggle-selection":"JUot"}],"z7fV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("@babel/runtime/helpers/defineProperty"));function r(e){return e&&e.__esModule?e:{default:e}}function t(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function a(r){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{};a%2?t(Object(c),!0).forEach(function(t){(0,e.default)(r,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):t(Object(c)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(c,e))})}return r}var c=function(e){var r=a({},e);return Object.keys(e).forEach(function(t){switch(t){case"x":r.sdkLeft=e[t];break;case"w":r.width="".concat(e[t],"%");break;case"y":r.sdkTop=e[t];break;case"h":r.height="".concat(e[t],"%");break;case"left":var a;if(Number.isInteger(e[t])){var c=100*e[t]/360;a="".concat(c<0?0:c,"%")}else a="".concat(parseFloat(e[t]),"%");r.left=a;break;case"top":var o;o=Number.isInteger(e[t])?"".concat(100*e[t]/640,"%"):"".concat(parseFloat(e[t]),"%"),r.top=o;break;case"scale":var n=e[t]+1;r.compScale=n;break;case"theme":r.mode=e[t];break;case"type":r.type=e[t];break;case"uid":r.uid=e[t];break;case"rotation":r.transform="rotate(".concat(e[t],"deg)");break;case"z_index":r.zIndex=e[t];break;case"text":r.text=e[t];break;case"placeholder":r.placeholder=e[t];break;default:return!0}return!0}),r},o=c;exports.default=o;
},{"@babel/runtime/helpers/defineProperty":"IxO8"}],"NM5M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/icons"),o=require("../../../lib/util"),t=function(t,a){return'\n  <div class="component-layer">\n    <div\n      aria-hidden="true"\n      class="promo-code-component"\n      style="\n        font-family: '.concat((0,o.getFontFamily)({instanceId:a}),";\n        left: ").concat(t.left.startsWith("-")&&!t.rotation?"0%":t.left,";\n        top: ").concat(t.top,";\n        z-index: ").concat(t.zIndex,";\n        ").concat(t.transform?"transform: ".concat(t.transform,"; --data-rotation: ").concat(t.rotation,"deg"):"",'\n      "\n      role="component"\n      data-group=""\n      data-story=""\n      data-mode="').concat(t.mode,'"\n      data-scale="').concat(t.scale,'"\n    >\n      <div class="promo-code">\n        <span class="promo-code-title">').concat(t.text,'</span>\n        <span class="promo-code-icon">').concat((0,n.copyIcon)((0,o.randomAlphaNum)(4)),'</span>\n      </div>\n      <span data-i18n-key="copied" class="promo-code-component-copied">Copied</span>\n    </div>\n  </div>\n')};exports.default=t;
},{"../../../lib/icons":"irwm","../../../lib/util":"PesM"}],"N5Sp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=y(require("@babel/runtime/helpers/classCallCheck")),t=y(require("@babel/runtime/helpers/createClass")),r=y(require("@babel/runtime/helpers/inherits")),o=y(require("@babel/runtime/helpers/possibleConstructorReturn")),n=y(require("@babel/runtime/helpers/getPrototypeOf")),i=y(require("copy-to-clipboard")),a=require("../../constants/events"),s=require("../../constants/layerTypes"),u=require("../../lib/icons"),l=y(require("../base")),c=y(require("./dataConvertor")),d=y(require("./template"));function y(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=_();return function(){var r,i=(0,n.default)(e);if(t){var a=(0,n.default)(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return(0,o.default)(this,r)}}function _(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var f=function(o){(0,r.default)(l,o);var n=p(l);function l(t){var r,o=t.layer,i=t.group,a=t.storyDom,u=t.story,y=t.instanceId;return(0,e.default)(this,l),(r=n.call(this,{type:s.LayerTemplateTypes.PROMO_CODE,storyDom:a,instanceId:y})).story_=u,r.group_=i,r.setLayerData((0,c.default)(o)),r.generateComponentAndAppendToPage((0,d.default)(r.layerData,y)).then(function(e){r.dom_=e,r.init_()}),r.attachCallbacksToElement_(),r}return(0,t.default)(l,[{key:"attachCallbacksToElement_",value:function(){this.onCopy_=this.onCopy_.bind(this)}},{key:"init_",value:function(){this.dom_.addEventListener("pointerdown",this.onCopy_)}},{key:"onCopy_",value:function(){this.setStyle(this.dom_,"animation","none");var e=this.layerData.text,t={event_type:a.LayerEventTypes.PromoCodeCopied,ivod_total_session_time:0,event_time:Date.now(),story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,duration:null,story_interactive_type:"promo_code",story_interactive_y:this.layerData.y,watch_length:null,story_interactive_x:this.layerData.x,uid:this.layerData.uid,story_group_type:"default",story_group_index:null,story_index:null};(0,i.default)(e);var r=this.dom_.querySelector(".promo-code-component-copied"),o=this.dom_.querySelector(".promo-code-icon"),n=o.innerHTML;o.innerHTML=u.checkIconGradient,r.classList.add("show"),setTimeout(function(){r.classList.remove("show"),o.innerHTML=n},2e3),this.api.sendEvent(t)}}]),l}(l.default),h=f;exports.default=h;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","copy-to-clipboard":"xbqV","../../constants/events":"d0lR","../../constants/layerTypes":"aJRz","../../lib/icons":"irwm","../base":"skR7","./dataConvertor":"z7fV","./template":"NM5M"}],"GO24":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("@babel/runtime/helpers/defineProperty")),r=require("../../constants/common"),t=require("../../lib/util");function c(e){return e&&e.__esModule?e:{default:e}}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);r&&(c=c.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,c)}return t}function n(r){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?o(Object(c),!0).forEach(function(t){(0,e.default)(r,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):o(Object(c)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(c,e))})}return r}var a=function(e){var c=n({},e);return Object.keys(c).forEach(function(o){switch(o){case"w":var n="".concat(parseFloat(e[o]),"%");c.width=n;break;case"h":var a="".concat(parseFloat(e[o]),"%");c.height=a;break;case"q_title_color":var i=(0,t.convertHex)(e[o]);c.q_title_color=i;break;case"scale":c.scale=r.layerScales[e[o]];break;default:return!0}return!0}),c},i=a;exports.default=i;
},{"@babel/runtime/helpers/defineProperty":"IxO8","../../constants/common":"VKZr","../../lib/util":"PesM"}],"OpIm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=["A","B","C","D"],t=function(t){return'\n  <div class="component-layer">\n    <div\n      class="image-quiz-component"\n      role="component"\n      style="\n        width: '.concat(t.width,";\n        left: ").concat(t.left,";\n        top: ").concat(t.top,";\n        z-index: ").concat(t.z_index,";\n        transform: rotate(").concat(t.rotation,'deg);\n      "\n      data-scale="').concat(t.scale,'"\n      aria-label="Quiz sticker, ').concat(t.q_title?"Quiz sticker title ".concat(t.q_title):"",' "\n      >\n       ').concat(t.q_title?'<div class="image-quiz-component-header">\n                <h6>'.concat(t.q_title,"</h6>\n              </div>"):"",'\n        <div class="image-quiz-component-questions">\n          ').concat(t.q_o_images.map(function(e,o){var i,a,c;return'\n            <button\n              type="button"\n              aria-label="Option '.concat(n[o]," is ").concat((null===(i=t.alt_texts)||void 0===i?void 0:i[o])||(null!==(a=t.q_o_texts)&&void 0!==a?a:[])[o],'"\n              class="image-quiz-component-question"\n              style="background-image: url(').concat(e,')"\n              >\n                <div class="image-quiz-component-question-letter"><span>').concat(n[o],'</span></div>\n                <div class="image-quiz-component-question-title">\n                  <span>').concat((null!==(c=t.q_o_texts)&&void 0!==c?c:[])[o]||"","</span>\n                </div>\n            </button>")}).join(""),"\n        </div>\n    </div>\n  </div>\n")};exports.default=t;
},{}],"Mxyn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=y(require("@babel/runtime/helpers/asyncToGenerator")),t=y(require("@babel/runtime/helpers/classCallCheck")),a=y(require("@babel/runtime/helpers/createClass")),r=y(require("@babel/runtime/helpers/inherits")),n=y(require("@babel/runtime/helpers/possibleConstructorReturn")),s=y(require("@babel/runtime/helpers/getPrototypeOf")),i=y(require("@babel/runtime/regenerator")),o=y(require("../base")),l=y(require("./dataConvertor")),c=y(require("./template"));require("./style.scss");var u=require("../../lib/util"),h=require("../../lib/icons"),_=require("../../constants/layerTypes"),p=require("../../constants/events");function y(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=m();return function(){var a,r=(0,s.default)(e);if(t){var i=(0,s.default)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,n.default)(this,a)}}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var f=function(n){(0,r.default)(o,n);var s=d(o);function o(e){var a,r=e.layer,n=e.group,i=e.story,u=e.type,_=e.storyDom,p=e.instanceId;return(0,t.default)(this,o),(a=s.call(this,{type:u,storyDom:_,instanceId:p})).setLayerData((0,l.default)(r)),a.story_=i,a.group_=n,a.type_=u,a.isPercentageType_=null===a.layerData.q_answer,a.localData_=a.getLocalComponentData(),a.partyEmoji_='<span class="correct-emoji">🥳</span>',a.sadEmoji_='<span class="wrong-emoji">😕</span>',a.wrongIconTemplate_='<span class="wrong-icon">'.concat((0,h.xIcon)("#FF4D50"),"</span>"),a.correctIconTemplate_='<span class="correct-icon">'.concat((0,h.checkIcon)("#51C41A"),"</span>"),a.percentageIconTemplate_=function(e){return'<div style="--width-percentage: '.concat(e,'%" class="percentage-icon"><span>').concat(e,"%</span></div>")},a.generateComponentAndAppendToPage((0,c.default)(a.layerData)).then(function(e){a.dom_=e,a.questions_=Array.from(a.dom_.lastElementChild.children),a.storyObserver_(a.storyObserverCallback_),a.init_()}),a.attachCallbacksToElement_(),a}return(0,a.default)(o,[{key:"attachCallbacksToElement_",value:function(){this.storyObserverCallback_=this.storyObserverCallback_.bind(this),this.onQuestionClick_=this.onQuestionClick_.bind(this),this.handleCorrectAnswerType_=this.handleCorrectAnswerType_.bind(this),this.handlePercentageAnswerType_=this.handlePercentageAnswerType_.bind(this)}},{key:"init_",value:function(){var e=this,t=this.localData_[this.layerData.uid];if("number"==typeof t||this.layerData.is_result){if(this.layerData.is_result){if(this.layerData.q_o_votes.every(function(e){return 0===e})){var a=Math.round(100/this.layerData.q_o_texts.length);this.layerData.q_o_votes=Array(this.layerData.q_o_texts.length).fill(a)}}else this.questions_[t].classList.add("selected");if(this.isPercentageType_)return void this.handlePercentageAnswerType_(this.questions_[t]);this.questions_.forEach(function(t,a){e.layerData.q_answer===a?e.handleOptions_(t,"correct-option",e.correctIconTemplate_):e.handleOptions_(t,"wrong-option",e.wrongIconTemplate_)})}else this.questions_.forEach(function(t,a){(0,u.stopEventBubbling)(t,"touchstart"),(0,u.stopEventBubbling)(t,"touchend"),(0,u.setClickEventListener)(t,function(t){return e.onQuestionClick_(t,a)},!0)})}},{key:"storyObserverCallback_",value:function(e){var t=this;e.forEach(function(e){"attributes"===e.type&&"show"===e.attributeName&&(e.target.hasAttribute("show")&&t.exposeAccessibilityElements_(),e.target.hasAttribute("show")||t.hideAccessibilityElements_())})}},{key:"exposeAccessibilityElements_",value:function(){this.dom_.setAttribute("tabindex","21"),this.questions_.forEach(function(e){return e.setAttribute("tabindex","21")})}},{key:"hideAccessibilityElements_",value:function(){this.dom_.removeAttribute("tabindex"),this.questions_.forEach(function(e){return e.removeAttribute("tabindex")})}},{key:"onQuestionClick_",value:function(e,t){var a=e.target;"number"!=typeof this.localData_[this.layerData.uid]&&(this.localData_=this.getLocalComponentData(),this.localData_[this.layerData.uid]=t,this.setLocalComponentData(this.localData_),this.questions_.forEach(function(e){return e.classList.remove("selected")}),a.classList.add("selected"),this.isPercentageType_?this.handlePercentageAnswerType_(a):this.handleCorrectAnswerType_(a),this.handleEvent_(t))}},{key:"handleCorrectAnswerType_",value:function(e){var t=this;this.dom_.lastElementChild.classList.add("correct"),this.questions_[this.layerData.q_answer]===e?(this.handleOptions_(e,"correct-option",this.partyEmoji_),setTimeout(function(){t.questions_.forEach(function(a){a!==e&&t.handleOptions_(a,"wrong-option",t.wrongIconTemplate_)}),e.removeChild(e.querySelector(".correct-emoji")),e.appendChild(t.generateHtmlFromTemplate(t.correctIconTemplate_))},1400)):(this.handleOptions_(e,"wrong-option",this.sadEmoji_),setTimeout(function(){t.questions_.forEach(function(a,r){r===t.layerData.q_answer&&t.handleOptions_(a,"correct-option",t.correctIconTemplate_),a!==e&&r!==t.layerData.q_answer&&t.handleOptions_(a,"wrong-option",t.wrongIconTemplate_)}),e.removeChild(e.querySelector(".wrong-emoji")),e.appendChild(t.generateHtmlFromTemplate(t.wrongIconTemplate_))},1400))}},{key:"handleOptions_",value:function(e,t,a){e.classList.add(t);var r=e.querySelector(".image-quiz-component-question-letter"),n=this.generateHtmlFromTemplate(a),s=e.querySelector(".image-quiz-component-question-title span").innerHTML;if(e.removeChild(r),e.appendChild(n),"percentage-option"===t){var i=e.querySelector(".percentage-icon span").innerHTML;e.setAttribute("aria-label","".concat(s," was selected by ").concat(i," of users."))}else e.setAttribute("aria-label","".concat(s," is the ").concat("correct-option"===t?"correct":"wrong"," answer"))}},{key:"handlePercentageAnswerType_",value:function(e){var t,a=this,r=this.checkQuizDataDiff_()?0:1,n=null!==(t=this.layerData.q_o_votes)&&void 0!==t?t:Array.from({length:this.layerData.q_o_votes.length},function(){return 100}),s=this.sumArrayValues(null!=n?n:[])+r;this.dom_.lastElementChild.classList.add("percentage"),this.questions_.forEach(function(t,i){var o;t===e?(o=Number(n[i])+r,e.classList.add("selected")):o=Number(n[i]);var l=Math.round(o/s*100);a.handleOptions_(t,"percentage-option",a.percentageIconTemplate_(l))})}},{key:"checkQuizDataDiff_",value:function(){if(this.layerData.is_result)return!0;var e,t=this.getComponentLocalData(_.LayerTemplateTypes.IMAGE_QUIZ,this.layerData);return!(t.uid!==this.layerData.uid||!t.q_o_votes)&&(null!==(e=this.layerData.q_o_votes)&&void 0!==e?e:[]).some(function(e,a){var r;return(null===(r=t.q_o_votes)||void 0===r?void 0:r[a])!==e})}},{key:"handleEvent_",value:function(){var t=(0,e.default)(i.default.mark(function e(t){var a,r;return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a={event_type:p.LayerEventTypes.ImageQuizAnswered,story_group_id:+this.group_.group_id,story_id:+this.story_.story_id,story_group_index:null,story_index:null,story_group_type:"default",story_interactive_type:"image_quiz",story_interactive_x:this.layerData.x,story_interactive_y:this.layerData.y,duration:null,watch_length:null,event_time:Date.now(),activity:String(t),uid:this.layerData.uid},this.setComponentLocalData(_.LayerTemplateTypes.IMAGE_QUIZ,this.layerData),this.api.sendEvent(a),r={group:this.group_,story_id:this.story_.story_id,alt_text:this.story_.alt_text,is_sharable:this.story_.is_sharable,track_id:this.layerData.custom_payload,title:this.layerData.q_title,questions:this.layerData.q_o_texts,images:this.layerData.q_o_images,votes:this.layerData.q_o_votes,answer:t,correct_answer:this.layerData.q_answer},(0,u.createAndDispatchEvent)(this.storyDom_,"onConditionalEvent"),(0,u.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:p.CustomerEventTypes.onStoryImageQuizAnswered,params:r});case 6:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()}]),o}(o.default),v=f;exports.default=v;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/regenerator":"PMvg","../base":"skR7","./dataConvertor":"GO24","./template":"OpIm","./style.scss":"WCGv","../../lib/util":"PesM","../../lib/icons":"irwm","../../constants/layerTypes":"aJRz","../../constants/events":"d0lR"}],"xzwX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("@babel/runtime/helpers/slicedToArray")),t=a(require("@babel/runtime/helpers/defineProperty")),r=require("../../lib/util");function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function o(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?n(Object(a),!0).forEach(function(r){(0,t.default)(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var c=function(t){var a,n,c=o(o({},t),{},{text_font:null!==(a=t.text_font)&&void 0!==a&&a.includes("Poppins")?void 0:t.text_font,fontFamily:!t.text_font||null!==(n=t.text_font)&&void 0!==n&&n.includes("Poppins")?"Storyly-Inter":void 0});return Object.keys(c).forEach(function(t){switch(t){case"text_span_color":var a=(0,r.convertHex)(c[t]);c.background=a;break;case"text_color":var n=(0,r.convertHex)(c[t]);c.color=n;break;case"text_style":var o=[{key:"u",value:"underline"},{key:"s",value:"line-through"}],i=c[t].split("+").map(function(e){return o.find(function(t){return t.key===e}).value}).join(" ");c.text_style=i;break;case"rotation":c.transform="rotate(".concat(c[t],"deg)");break;case"text_font":if(c[t]){var l=c[t].split("-"),s=(0,e.default)(l,2),u=s[0],f=s[1];c.fontFamily="Storyly-".concat(u),c.fontWeight=f.includes("Bold")?700:"normal",c.fontStyle=f.includes("Italic")?"italic":"normal"}break;case"x":c.sdkLeft=c[t];break;case"w":c.width="".concat(c[t],"%");break;case"y":c.sdkTop=c[t];break;case"left":var b;if(Number.isInteger(c[t])){var d=100*c[t]/360;b="".concat(d<0?0:d,"%")}else b="".concat(parseFloat(c[t]),"%");c.left=b;break;case"top":var p;p=Number.isInteger(c[t])?"".concat(100*c[t]/640,"%"):"".concat(parseFloat(c[t]),"%"),c.top=p;break;case"h":c.height="".concat(c[t],"%");break;case"border_color":if(!c[t])break;var v=(0,r.convertHex)(c[t]);c.borderColor=v;break;case"text_alignment":var y="left";1===c[t]&&(y="center"),2===c[t]&&(y="right"),c.textAlign=y;break;case"border_thickness":if(!1===c[t])break;var k=c[t]+1;c.borderWidth=k;break;case"scale":var x=c[t]+1;c.compScale=x;break;case"t_v_a":c.verticalAlignment=["flex-start","center","flex-end"][c[t]];break;default:return!0}return!0}),c},i=c;exports.default=i;
},{"@babel/runtime/helpers/slicedToArray":"HETk","@babel/runtime/helpers/defineProperty":"IxO8","../../lib/util":"PesM"}],"tJpD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/util"),t=function(t,o,c){var e,a,i,l;return'\n  <div class="component-layer" dir="'.concat(o.direction,'">\n    <div\n      role="component"\n      class="text-component"\n      aria-hidden="true"\n      style="\n        color: ').concat(t.color,";\n        font-size: ").concat(t.f_s/10,"em;\n        font-family: ").concat((0,n.getFontFamily)({font:t.fontFamily,instanceId:c}),";\n        font-style: ").concat(null!==(e=t.font)&&void 0!==e&&e.url?"normal":t.fontStyle,";\n        font-weight: ").concat(null!==(a=t.font)&&void 0!==a&&a.url?"normal":t.fontWeight,";\n        transform: ").concat(t.transform?t.transform:"none",";\n        left: ").concat(t.left,";\n        top: ").concat(t.top,";\n        width: ").concat(t.width,";\n        height: ").concat(t.height,";\n        align-items: ").concat(t.verticalAlignment,";\n        z-index: ").concat(null!==(i=t.z_index)&&void 0!==i?i:1,";\n        text-decoration: ").concat(t.text_style||"none",";\n        justify-content: ").concat(t.textAlign,';\n      "\n    >\n      <span\n        data-highlight="').concat(t.t_bg_t||"none",'"\n        style="\n          line-height: ').concat(t.line_h/t.f_s,";\n          text-align: ").concat(t.textAlign,";\n          background: ").concat(null!==(l=t.background)&&void 0!==l?l:"unset",";\n          line-clamp: ").concat(t.l_c,";\n          -webkit-line-clamp: ").concat(t.l_c,';"\n      >').concat(t.text,"</span>\n    </div>\n  </div>\n")};exports.default=t;
},{"../../../lib/util":"PesM"}],"youg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("@babel/runtime/helpers/classCallCheck")),t=c(require("@babel/runtime/helpers/createClass")),r=c(require("@babel/runtime/helpers/inherits")),a=c(require("@babel/runtime/helpers/possibleConstructorReturn")),n=c(require("@babel/runtime/helpers/getPrototypeOf")),o=require("../../constants/layerTypes"),l=require("../../lib/util"),i=c(require("../base")),s=c(require("./dataConvertor")),u=c(require("./template"));function c(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=d();return function(){var r,o=(0,n.default)(e);if(t){var l=(0,n.default)(this).constructor;r=Reflect.construct(o,arguments,l)}else r=o.apply(this,arguments);return(0,a.default)(this,r)}}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var f=function(a){(0,r.default)(i,a);var n=h(i);function i(t){var r,a=t.layer,c=t.storyDom,h=t.instanceId;return(0,e.default)(this,i),(r=n.call(this,{type:o.LayerTemplateTypes.TEXT,storyDom:c,instanceId:h})).setLayerData((0,s.default)(a)),r.attachCallbacksToElement_(),r.generateComponentAndAppendToPage((0,u.default)(r.layerData,r.globalInstanceData,h)).then(function(e){r.dom_=e,(0,l.stopEventBubbling)(r.dom_,"touchstart"),(0,l.stopEventBubbling)(r.dom_,"touchend"),r.storyObserver_(r.storyObserverCallback_)}),r}return(0,t.default)(i,[{key:"attachCallbacksToElement_",value:function(){this.storyObserverCallback_=this.storyObserverCallback_.bind(this),this.handleBottomSheet_=this.handleBottomSheet_.bind(this)}},{key:"storyObserverCallback_",value:function(e){var t=this;e.forEach(function(e){if("attributes"===e.type){if(e.target.hasAttribute("show")&&"show"===e.attributeName)t.isTextOverflow(t.dom_,t.dom_.firstElementChild)&&t.dom_.addEventListener("pointerdown",t.handleBottomSheet_);e.target.hasAttribute("show")||t.dom_.removeEventListener("pointerdown",t.handleBottomSheet_)}})}},{key:"handleBottomSheet_",value:function(e){if(!this.clickableSafeArea_){var t=this.dom_.getBoundingClientRect(),r=t.bottom,a=t.height/this.layerData.l_c;this.clickableSafeArea_=r-a}if(e.clientY>this.clickableSafeArea_){var n=this.generateHtmlFromTemplate('<p style="font-family: '.concat((0,l.getFontFamily)({instanceId:this.instanceId}),';" class="text-component-bottom-sheet">').concat(this.layerData.text,"</p>")),o=this.generateHtmlFromTemplate('<div style="display: none;"></div>');(0,l.createAndDispatchEvent)(this.dom_,"onBottomSheetOpen",{body:n,footer:o})}}}]),i}(i.default),b=f;exports.default=b;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","../../constants/layerTypes":"aJRz","../../lib/util":"PesM","../base":"skR7","./dataConvertor":"xzwX","./template":"tJpD"}],"fjyM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){return'\n  <div class="storyly__video-seekbar show">\n    <div class="action-icon">\n      <div class="play-icon" style="display: none">\n        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M6.81019 20.9064C6.41566 21.1616 6.01533 21.1732 5.6092 20.9412C5.20307 20.7091 5 20.361 5 19.8968V3.95327C5 3.48912 5.20307 3.14101 5.6092 2.90893C6.01533 2.67686 6.41566 2.68846 6.81019 2.94374L19.3422 10.9503C19.7136 11.1824 19.8992 11.5073 19.8992 11.925C19.8992 12.3428 19.7136 12.6677 19.3422 12.8998L6.81019 20.9064Z" fill="white"/>\n        </svg>\n      </div>\n      <div class="pause-icon">\n        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path d="M10 3.99902H6V19.999H10V3.99902Z" fill="white" stroke="white" stroke-width="0.994767" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M18 3.99902H14V19.999H18V3.99902Z" fill="white" stroke="white" stroke-width="0.994767" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n      </div>\n    </div>\n    <div class="seekbar">\n      <span class="progress-indicator"></span>\n      <span class="filled-progress-bar"></span>\n      <div class="interactive-lines"></div>\n    </div>\n    <div class="video-time">\n      <span>00:00</span>\n    </div>\n  </div>\n'};exports.default=n;
},{}],"WHTK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime/helpers/classCallCheck")),e=r(require("@babel/runtime/helpers/createClass")),i=r(require("../../constants/layouts")),s=r(require("../../lib/proxy")),o=require("../../lib/style"),a=require("../../lib/util"),n=r(require("./template/seekbar-template"));function r(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(e){var i=e.storyDom,o=e.videoDom,a=e.layers,n=e.playPauseStory,l=e.setProgressTime,h=e.instanceId;(0,t.default)(this,r),this.storyDom_=i,this.videoDom_=o,this.pauseButton_=null,this.playButton_=null,this.playPauseStory_=n,this.setProgressTime_=l,this.instanceId_=h,this.layers_=a;var d=s.default.getNodeByInstanceId(this.instanceId_).getDataFromGlobal().globalInstanceData;this.globalInstanceData_=d,this.setStoryEvents_(),this.attachCallbacksToElement_(),this.createSeekbarElements_(),this.storyObserver_(this.handleStoryObserverCallback_)}return(0,e.default)(r,[{key:"attachCallbacksToElement_",value:function(){this.handleVideoTime_=this.handleVideoTime_.bind(this),this.indicatorDragDown_=this.indicatorDragDown_.bind(this),this.indicatorDrag_=this.indicatorDrag_.bind(this),this.closeDragElement_=this.closeDragElement_.bind(this),this.handleClickInteractiveLine_=this.handleClickInteractiveLine_.bind(this),this.handleStoryObserverCallback_=this.handleStoryObserverCallback_.bind(this)}},{key:"createSeekbarElements_",value:function(){var t=this;this.seekBarDom_=(0,a.generateHtmlFromTemplate)((0,n.default)(this.layers_)),this.storyDom_.appendChild(this.seekBarDom_),this.videoDom_.addEventListener("timeupdate",this.handleVideoTime_),this.videoDom_.addEventListener("pause",function(){return t.handlePlayPause_("pause")}),this.videoDom_.addEventListener("play",function(){return t.handlePlayPause_("play")}),this.pauseButton_=this.seekBarDom_.querySelector(".pause-icon"),this.pauseButton_.addEventListener("pointerdown",function(){return t.handlePlayPause_("pause",!0)}),this.playButton_=this.seekBarDom_.querySelector(".play-icon"),this.playButton_.addEventListener("pointerdown",function(){return t.handlePlayPause_("play",!0)}),this.indicator_=this.seekBarDom_.querySelector(".progress-indicator"),this.indicator_.addEventListener("pointerdown",this.indicatorDragDown_),this.interactiveLinesContainer_=this.seekBarDom_.querySelector(".interactive-lines"),this.interactiveLinesContainer_.addEventListener("pointerdown",this.handleClickInteractiveLine_),this.renderLayerLines_(),(this.globalInstanceData_.layout===i.default.CLASSIC||this.globalInstanceData_.storylyEmbed.init)&&this.handleClassicView_(),this.show()}},{key:"handleClassicView_",value:function(){(0,a.stopEventBubbling)(this.storyDom_,"touchstart"),this.globalInstanceData_.storylyEmbed.init&&(0,a.stopEventBubbling)(this.storyDom_,"click");var t=this.storyDom_.getRootNode().host.shadowRoot.querySelector(".accessibility-navigation-buttons");this.globalInstanceData_.accessibility||t||(0,a.createAndDispatchEvent)(this.storyDom_,"onAccessibilityTriggered",{videoSeekbarEnabled:!0})}},{key:"setStoryEvents_",value:function(){var t=this;this.globalInstanceData_.layout===i.default.MODERN||this.globalInstanceData_.storylyEmbed.init?(this.storyDom_.addEventListener("mouseenter",function(){t.storyDom_.hasAttribute("show")&&t.showed_&&(t.storyEventTigger_=!0,t.seekBarDom_.classList.add("hovered"),t.rePositionLayers_(),t.globalInstanceData_.storylyEmbed.init&&t.navigationDom_.classList.add("hovered"))}),this.storyDom_.addEventListener("mouseleave",function(){t.storyDom_.hasAttribute("show")&&t.showed_&&(t.storyEventTigger_=!1,t.seekBarDom_.classList.remove("hovered"),t.rePositionLayers_(!1),t.globalInstanceData_.storylyEmbed.init&&t.navigationDom_.classList.remove("hovered"))})):this.storyDom_.addEventListener("touchstart",function(e){t.storyDom_.hasAttribute("show")&&e.target.parentElement===t.storyDom_&&(t.storyEventTigger_?t.rePositionLayers_(!1):t.rePositionLayers_(),t.storyEventTigger_=!t.storyEventTigger_,t.seekBarDom_.classList.toggle("hovered"),t.navigationDom_.classList.toggle("hovered"))})}},{key:"rePositionLayers_",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.rePositionTimeout_||clearTimeout(this.rePositionTimeout_),this.rePositionTimeout_=setTimeout(function(){var i=t.storyDom_.querySelector(".product-list-container"),s=t.storyDom_.querySelector(".swipe-up");s&&(e&&!t.swipeUpRepositioned_?(s.style.setProperty("bottom","".concat(t.seekBarDom_.offsetHeight,"px")),t.swipeUpRepositioned_=!0):(s.style.removeProperty("bottom"),t.swipeUpRepositioned_=!1)),i&&(e&&!t.productCatalogRepositioned_?(i.style.setProperty("bottom","".concat(t.seekBarDom_.offsetHeight,"px")),t.productCatalogRepositioned_=!0):(i.style.removeProperty("bottom"),t.productCatalogRepositioned_=!1))},50)}},{key:"handleClickInteractiveLine_",value:function(t){var e=this.interactiveLinesContainer_.getBoundingClientRect(),i=100*(t.clientX-e.left-this.indicator_.offsetWidth/2)/this.interactiveLinesContainer_.offsetWidth,s=this.videoDom_.duration*i/100;this.videoDom_.currentTime=s,(0,o.setStyle)(this.indicator_,["left","".concat(i,"%")]),this.setProgressTime_(s)}},{key:"renderLayerLines_",value:function(){var t=this,e=[];this.layers_.forEach(function(t){var i,s=null!==(i=t.start_time)&&void 0!==i?i:0;e.push(s)}),e.sort(function(t,e){return t-e}),0!==e[0]&&e.splice(0,0,0),e[e.length-1]!==this.videoDom_.duration&&e.push(this.videoDom_.duration),e.forEach(function(i,s){var o=e[s+1];if(o){var a=100*(o-i)/t.videoDom_.duration;t.createLineElement_(a,i,o)}})}},{key:"createLineElement_",value:function(t,e,i){var s=document.createElement("span");s.style.width="".concat(t,"%"),s.classList.add("interactive-line"),s.dataset.start_time=e,s.dataset.end_time=i,this.seekBarDom_.querySelector(".interactive-lines").appendChild(s)}},{key:"handleVideoTime_",value:function(){var t=Math.floor((this.videoDom_.duration-this.videoDom_.currentTime)/60),e=Math.floor((this.videoDom_.duration-this.videoDom_.currentTime)%60),i=100*this.videoDom_.currentTime/this.videoDom_.duration;(0,o.setStyle)(this.indicator_,["left","".concat(i,"%")]),this.seekBarDom_.querySelector(".video-time").querySelector("span").innerText="-".concat(String(t).padStart("2","0"),":").concat(String(e).padStart("2","0")),this.fillProgressForLines_()}},{key:"handlePlayPause_",value:function(t,e){"play"===t?((0,o.setStyle)(this.playButton_,["display","none"]),(0,o.setStyle)(this.pauseButton_,["display","flex"])):((0,o.setStyle)(this.playButton_,["display","flex"]),(0,o.setStyle)(this.pauseButton_,["display","none"])),e&&this.playPauseStory_()}},{key:"indicatorDragDown_",value:function(t){var e;t.preventDefault(),this.pos3=null!==(e=t.clientX)&&void 0!==e?e:t.targetTouches[0].clientX,this.storyPaused_=this.storyDom_.hasAttribute("paused"),this.storyPaused_||this.handlePlayPause_("pause",!0),this.indicatorMove_=!0,this.seekBarDom_.addEventListener("pointerup",this.closeDragElement_,{once:!0}),this.seekBarDom_.addEventListener("pointerleave",this.closeDragElement_,{once:!0}),this.seekBarDom_.addEventListener("pointermove",this.indicatorDrag_)}},{key:"indicatorDrag_",value:function(t){var e,i;if(this.indicatorMove_){t.preventDefault(),t.stopImmediatePropagation(),t.stopPropagation(),this.pos1=this.pos3-(null!==(e=t.clientX)&&void 0!==e?e:t.targetTouches[0].clientX),this.pos3=null!==(i=t.clientX)&&void 0!==i?i:t.targetTouches[0].clientX;var s=this.indicator_.offsetLeft-this.pos1;if(!(s<=-10||s>=this.interactiveLinesContainer_.offsetWidth)){var a=100*s/this.interactiveLinesContainer_.offsetWidth,n=this.videoDom_.duration*a/100;this.videoDom_.currentTime=n,(0,o.setStyle)(this.indicator_,["left","".concat(a,"%")])}}}},{key:"closeDragElement_",value:function(){this.indicatorMove_&&(this.indicatorMove_=!1,this.setProgressTime_(this.videoDom_.currentTime),this.storyPaused_||this.handlePlayPause_("play",!0))}},{key:"fillProgressForLines_",value:function(){var t=this;this.interactiveLinesContainer_.querySelectorAll(".interactive-line").forEach(function(e){var i=e;if(e.dataset.start_time<t.videoDom_.currentTime){var s=+e.dataset.start_time,o=+e.dataset.end_time,a=Math.ceil(100*(t.videoDom_.currentTime-s)/(o-s));i.style.background="linear-gradient(to right, #fff 0 ".concat(a,"%, rgba(255, 255, 255, 0.6) ").concat(a,"% 100%)")}else i.style.removeProperty("background")})}},{key:"storyObserver_",value:function(t){new MutationObserver(t).observe(this.storyDom_,{attributes:!0})}},{key:"handleStoryObserverCallback_",value:function(t){var e=this;t.forEach(function(t){"attributes"===t.type&&("show"===t.attributeName&&t.target.hasAttribute("show")?setTimeout(function(){e.show()},500):t.target.hasAttribute("show")||e.hide())})}},{key:"show",value:function(){var t=this;if(this.seekBarDom_.classList.add("show"),this.storyEventTigger_||this.rePositionLayers_(),(this.globalInstanceData_.layout===i.default.CLASSIC||this.globalInstanceData_.storylyEmbed.init)&&!this.globalInstanceData_.accessibility){var e=this.storyDom_.getRootNode().host;this.navigationDom_=e.shadowRoot.querySelector(".accessibility-navigation-buttons"),this.globalInstanceData_.storylyEmbed.init&&(this.navigationDom_.style.removeProperty("display"),this.navigationDom_.addEventListener("mouseenter",function(){t.seekBarDom_.classList.add("hovered")})),this.navigationDom_.classList.add("show"),this.navigationDom_.classList.remove("hovered")}setTimeout(function(){t.seekBarDom_.classList.remove("show"),t.storyEventTigger_||(t.navigationDom_&&t.navigationDom_.classList.remove("show"),t.seekBarDom_.classList.remove("hovered"),t.rePositionLayers_(!1)),t.showed_=!0},1200),this.globalInstanceData_.layout===i.default.CLASSIC&&(this.indicator_.style.opacity=1)}},{key:"hide",value:function(){this.rePositionLayers_(!1),this.seekBarDom_.classList.remove("hovered"),this.seekBarDom_.classList.remove("show"),this.navigationDom_&&this.navigationDom_.classList.remove("hovered"),this.storyEventTigger_=!1}}]),r}(),h=l;exports.default=h;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","../../constants/layouts":"kUgL","../../lib/proxy":"qmVm","../../lib/style":"vgU2","../../lib/util":"PesM","./template/seekbar-template":"fjyM"}],"LJ77":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("@babel/runtime/helpers/asyncToGenerator")),t=s(require("@babel/runtime/regenerator")),r=require("../constants/events"),n=require("../lib/util");function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return a.apply(this,arguments)}function a(){return(a=(0,e.default)(t.default.mark(function e(s){var u,a,i,o,c,l,d;return t.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=s.source,a=s.tag,(i=s.thumbnail)&&(0,n.setAttribute)(a,"poster",i),void 0!==window.Hls){e.next=12;break}return e.next=5,fetch("https://cdn.jsdelivr.net/npm/hls.js@1");case 5:return o=e.sent,e.next=8,o.text();case 8:c=e.sent,(l=document.createElement("script")).innerHTML=c,document.body.appendChild(l);case 12:return(d=new window.Hls).attachMedia(a),d.on(window.Hls.Events.MEDIA_ATTACHED,function(){a.firstElementChild.type="application/x-mpegURL",d.loadSource(u)}),d.on(window.Hls.Events.ERROR,function(){(0,n.createAndDispatchEvent)(a,"onNextGroup",{gesture:r.GestureTypes.Progress}),d.destroy()}),e.abrupt("return",d);case 17:case"end":return e.stop()}},e)}))).apply(this,arguments)}var i=u;exports.default=i;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/regenerator":"PMvg","../constants/events":"d0lR","../lib/util":"PesM"}],"dDAE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=require("../../../lib/icons"),e=require("../../../lib/util"),n=function(n){return'<div class="storyly__share-popup">\n      <div class="header">\n        <div class="text-wrapper" data-i18n-key="share_story"></div>\n        <div class="close-icon-wrapper">'.concat((0,i.xIcon)("#FFF"),'</div>\n      </div>\n       \n      <div class="divider"></div>\n      <div class="share-social-media">\n          <a \n          class="social-media twitter-share-button"\n          href="https://x.com/intent/tweet?text=').concat(n,'"\n          target="_blank"\n          data-size="large"\n        >\n          ').concat(i.twitterLogo,'\n          <div>X</div>\n        </a>\n        <a \n          class="social-media fb-share-button" \n          href="https://www.facebook.com/sharer/sharer.php?kid_directed_site=0&sdk=joey&u=').concat(n,'"\n          target="_blank"\n          >\n          ').concat(i.facebookLogo,'\n          <div>Facebook</div>\n        </a>\n      </div>\n      <div class="divider"></div>\n      <div class="share-other-media">\n        <div class="share-icon-wrapper">\n          <div class="share-icon copy-link">\n            <div class="icon">').concat((0,i.copyIcon)((0,e.randomAlphaNum)(4),"#FFF","#FFF"),'</div>\n            <div class="text" data-i18n-key="copy_link"></div>\n          </div>\n        </div>\n        <div class="share-icon-wrapper">\n          <div class="share-icon download-story">\n            <div class="icon">\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" id="id_125" style="stroke: rgb(255, 255, 255);"></path><polyline points="7 10 12 15 17 10" id="id_126" style="stroke: rgb(255, 255, 255);"></polyline><line x1="12" y1="15" x2="12" y2="3" id="id_127" style="stroke: rgb(255, 255, 255);"></line></svg>\n            </div>\n            <div class="text" data-i18n-key="download_media">Download Story</div>\n          </div>\n        </div>\n      </div>\n    </div>')};exports.default=n;
},{"../../../lib/icons":"irwm","../../../lib/util":"PesM"}],"YKVc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("@babel/runtime/helpers/defineProperty")),t=i(require("@babel/runtime/helpers/asyncToGenerator")),r=i(require("@babel/runtime/regenerator")),n=i(require("copy-to-clipboard")),o=require("../../lib/util"),a=i(require("./template")),c=require("../../constants/events");function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?u(Object(n),!0).forEach(function(r){(0,e.default)(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l=function(){var e=(0,t.default)(r.default.mark(function e(t){var i,u,l,p,d,f,y,h,v,m,g,b,w,_,O,E,S,j,q,D,k;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k=function(){E.remove(),_.remove()},i=t.dom,u=t.group,l=t.story,p=t.pause,d=t.play,f=t.gesture,y=void 0===f?c.GestureTypes.Icon:f,!i.querySelector(".storyly__share-wrapper")&&l.is_sharable){e.next=4;break}return e.abrupt("return",null);case 4:if((h=new URLSearchParams(window.location.search)).set("storyly","[".concat(u.group_id,", ").concat(l.story_id,"]")),v={title:"Storyly",text:u.title,url:"".concat(window.location.origin).concat(window.location.pathname,"?").concat(h.toString())},p(),!navigator.canShare){e.next=20;break}return m="".concat(u.media_host).concat(l.video_path||l.image_path),e.next=12,fetch(m);case 12:return g=e.sent,e.next=15,g.blob();case 15:return b=e.sent,w=[new File([b],"image.jpg",{type:b.type,lastModified:(new Date).getTime()})],h.get("shareTest")&&(v.url=void 0),navigator.share(s(s({},v),{},{files:w})).then(function(){d()}).catch(function(e){20===e.code&&d()}),e.abrupt("return",null);case 20:return _=(0,o.generateHtmlFromTemplate)((0,a.default)(v.url)),(0,o.createAndDispatchEvent)(i,"onI18nEvent",{wrapperDom:_}),O=.8*i.clientWidth,_.style.width="".concat(O,"px"),(E=document.createElement("div")).classList.add("storyly__share-popup-overlay"),(S=i.getRootNode().querySelector(".storyly__group-container")).appendChild(_),S.appendChild(E),j=_.querySelector(".close-icon-wrapper"),q=_.querySelector(".copy-link"),D=_.querySelector(".download-story"),j.addEventListener("click",function(){_.remove(),E.remove(),i.focus(),d()}),E.addEventListener("click",function(){_.remove(),E.remove(),i.focus(),d()}),q.addEventListener("click",function(){var e=q.querySelector(".text");e.dataset.i18nKey="share_link_copied",(0,o.createAndDispatchEvent)(i,"onI18nEvent",{wrapperDom:q}),(0,n.default)(v.url),(0,o.createAndDispatchEvent)(i,"onShareStoryEvent",{gesture:y}),setTimeout(function(){e.dataset.i18nKey="copy_link",(0,o.createAndDispatchEvent)(i,"onI18nEvent",{wrapperDom:q})},2e3)}),D.addEventListener("click",function(){var e=document.createElement("canvas"),t=e.getContext("2d");e.width=i.offsetWidth,e.height=i.offsetHeight;var r=new Image;r.crossOrigin="*",r.src="".concat(u.media_host).concat(l.preview_path),r.onload=function(){t.drawImage(r,0,0,e.width,e.height);var n=e.toDataURL("image/png"),o=document.createElement("a");o.download="image.png",o.href=n,o.click()}}),e.abrupt("return",{hide:k});case 37:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();exports.default=l;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/regenerator":"PMvg","copy-to-clipboard":"xbqV","../../lib/util":"PesM","./template":"dDAE","../../constants/events":"d0lR"}],"UKq4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=x(require("@babel/runtime/helpers/asyncToGenerator")),t=x(require("@babel/runtime/helpers/defineProperty")),s=x(require("@babel/runtime/helpers/toConsumableArray")),i=x(require("@babel/runtime/helpers/classCallCheck")),r=x(require("@babel/runtime/helpers/createClass")),o=x(require("@babel/runtime/regenerator")),a=require("../../../constants/layerTypes"),n=require("../../../lib/style"),d=require("../../../lib/util"),h=x(require("../templates/story")),u=x(require("../../../components/BottomSheet")),l=require("../../../constants/events"),y=x(require("../../../constants/directions")),_=require("../../../service"),c=x(require("../../../lib/proxy")),p=x(require("../../../layers/BlankStory")),v=x(require("../../../layers/ImageCTA")),m=x(require("../../../layers/CTA")),g=x(require("../../../layers/Poll")),f=x(require("../../../layers/Rating")),A=x(require("../../../layers/Emoji")),b=x(require("../../../layers/Quiz")),P=x(require("../../../layers/Countdown")),S=x(require("../../../layers/Question")),D=x(require("../../../layers/Media")),T=x(require("../../../layers/ProductCard")),L=x(require("../../../layers/ProductCatalog")),k=x(require("../../../layers/ProductTag")),E=x(require("../../../layers/PromoCode")),C=x(require("../../../layers/ImageQuiz")),q=x(require("../../../layers/Text")),w=x(require("../../../components/VideoSeekBar")),I=x(require("../../../service/HlsPlayer")),O=x(require("../../../components/ShareWidget"));function x(e){return e&&e.__esModule?e:{default:e}}function V(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function B(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?V(Object(i),!0).forEach(function(s){(0,t.default)(e,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):V(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var W=function(){function t(e){var s=e.story,r=e.key,o=e.group,a=e.storiesContainer,h=e.groupWrapper,u=e.progressDoms,l=e.instanceId,_=e.condition;(0,i.default)(this,t),this.storyDom_=null,this.layersContainer_=document.createElement("div"),this.story_=s,this.storyData_={},this.layers_=[],this.group_=o,this.key_=r,this.storiesContainer_=a,this.groupWrapper_=h,this.progressDoms_=new Proxy(u,[]),this.storyProgressSecond_=7,this.progressPaused_=!0,this.imageAsset_=null,this.videoAsset_=null,this.videoAssetLoadingStarted_=!1,this.storyProgressRemain_=this.storyProgressSecond_,this.progressTime_=0,this.isBlankStory_=!1,this.imageAssetLoaded_=!1,this.instanceId_=l,this.timedLayers_=[],this.condition_=_,(0,n.setClass)(this.layersContainer_,"layers-container"),(0,d.setAttribute)(this.layersContainer_,"dir",y.default.LTR),this.attachCallbacksToElement_(),this.render_()}return(0,r.default)(t,[{key:"attachCallbacksToElement_",value:function(){this.onVideoLoadedData_=this.onVideoLoadedData_.bind(this),this.onVideoEnded_=this.onVideoEnded_.bind(this),this.onVideoWaiting_=this.onVideoWaiting_.bind(this),this.onVideoPlaying_=this.onVideoPlaying_.bind(this),this.handleSoundStory_=this.handleSoundStory_.bind(this),this.playAndPauseStory=this.playAndPauseStory.bind(this),this.handleCloseGroup_=this.handleCloseGroup_.bind(this),this.renderBottomSheet_=this.renderBottomSheet_.bind(this),this.onImageLoad_=this.onImageLoad_.bind(this),this.renderShareWidget=this.renderShareWidget.bind(this),this.handleLayersVisibility_=this.handleLayersVisibility_.bind(this)}},{key:"setCustomEvents_",value:function(){this.storyDom_.addEventListener("onPlayPause",this.playAndPauseStory)}},{key:"render_",value:function(){var e=(0,d.getStoryAssetFromLayers)(this.story_.media.layers),t=e.storyData,i=e.layers,r=e.storyBg;this.storyData_=t,this.layers_=(0,s.default)(i);var o=(0,h.default)({story:B(B({},this.storyData_),{},{story_id:this.story_.story_id}),type:this.storyData_.type,altText:this.story_.alt_text,mediaHost:this.group_.media_host,storyBg:r});if(this.storyDom_=(0,d.generateHtmlFromTemplate)(o),this.storyDom_.appendChild(this.layersContainer_),this.condition_?0===this.key_?this.storiesContainer_.querySelectorAll(".storyly__story")[this.key_].before(this.storyDom_):this.storiesContainer_.querySelectorAll(".storyly__story")[this.key_-1].after(this.storyDom_):this.storiesContainer_.appendChild(this.storyDom_),"video"===this.storyData_.type)this.videoAsset_=this.storyDom_.querySelector("video"),this.handleVideoEvents_();else if(this.isBlankStory_){if(this.isBlankStory_){var a=this.storyDom_.querySelector(".story-image");(0,n.setStyle)(a,["opacity","0"])}}else this.imageAsset_=this.storyDom_.querySelector("img"),this.imageAsset_.addEventListener("load",this.onImageLoad_,{once:!0});this.loadLayers_();var u=c.default.getNodeByInstanceId(this.instanceId_).getDataFromGlobal().globalInstanceData;this.globalInstanceData=u,this.setCustomEvents_(),this.renderBottomSheet_()}},{key:"onImageLoad_",value:function(){if(!this.imageAssetLoaded_){this.handleProgressBar_(),this.imageAssetLoaded_=!0;var e=this.imageAsset_,t=e.clientHeight,s=e.clientWidth;this.setStoryClassByAsset_({height:t,width:s})}}},{key:"setStoryClassByAsset_",value:function(e){var t=e.width;+(56.25*e.height/t).toFixed(2)<100&&(0,n.setClass)(this.storyDom_,"story-9_16")}},{key:"handleVideoEvents_",value:function(){this.videoAsset_.addEventListener("loadedmetadata",this.onVideoLoadedData_),this.videoAsset_.addEventListener("ended",this.onVideoEnded_),this.videoAsset_.addEventListener("waiting",this.onVideoWaiting_),this.videoAsset_.addEventListener("playing",this.onVideoPlaying_)}},{key:"onVideoLoadedData_",value:function(){this.videoAssetLoaded_=!0,this.setStoryClassByAsset_({height:this.videoAsset_.videoHeight,width:this.videoAsset_.videoWidth}),this.storyProgressRemain_=this.videoAsset_.duration,this.storyProgressSecond_=this.videoAsset_.duration,this.videoAsset_.duration>=120&&!(0,d.isLiveVideo)(this.storyData_.video_type)&&(this.videoSeekbar_=new w.default({storyDom:this.storyDom_,videoDom:this.videoAsset_,layers:this.timedLayers_,playPauseStory:this.playAndPauseStory.bind(this),setProgressTime:this.setProgressTime.bind(this),instanceId:this.instanceId_}),this.videoAsset_.addEventListener("seeking",this.handleLayersVisibility_)),this.videoAsset_.addEventListener("timeupdate",this.handleLayersVisibility_)}},{key:"onVideoEnded_",value:function(){this.globalInstanceData.accessibility||(0,d.createAndDispatchEvent)(this.storyDom_,"onNextStory",{gesture:l.GestureTypes.Progress})}},{key:"onVideoWaiting_",value:function(){this.progressPaused_=!0}},{key:"onVideoPlaying_",value:function(){this.videoAssetLoaded_&&(this.soundOn_?this.soundOn():this.soundOff(),this.progressPaused_=!1,this.handleProgressBar_())}},{key:"onVideoShown_",value:function(){var t=(0,e.default)(o.default.mark(function e(){var t,s,i=this;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.videoAsset_.querySelector("source"),s=this.videoAsset_.querySelector("source").dataset.src,!(0,d.isLiveVideo)(this.storyData_.video_type)){e.next=8;break}return e.next=5,(0,I.default)({source:s,tag:this.videoAsset_,thumbnail:this.storyData_.thumbnail_url});case 5:this.hls_=e.sent,e.next=10;break;case 8:t.src=s,this.videoAsset_.load();case 10:this.videoPausedPromise_?this.videoPausedPromise_.then(function(){i.videoPlayedPromise_=i.videoAsset_.play()}):this.videoPlayedPromise_=this.videoAsset_.play();case 11:case"end":return e.stop()}},e,this)}));return function(){return t.apply(this,arguments)}}()},{key:"removeEvents_",value:function(){var e=this.groupWrapper_.querySelector(".storyly__story-actions"),t=e.querySelector('button[data-type="sound"]'),s=e.querySelector('button[data-type="share"]');this.playPauseAction_&&this.playPauseAction_.removeEventListener("click",this.playAndPauseStory),t.removeEventListener("click",this.handleSoundStory_),s.removeEventListener("click",this.renderShareWidget)}},{key:"loadLayers_",value:function(){var t=this;this.layers_.forEach(function(){var s=(0,e.default)(o.default.mark(function e(s){var i,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=s,r={layer:s,group:t.group_,story:t.story_,storyDom:t.layersContainer_,instanceId:t.instanceId_},s.type===a.LayerTemplateTypes.IMAGE&&(s.bg_color||s.gradient_colors)&&(t.isBlankStory_=!0,i.instance=new p.default(B({},r))),s.type===a.LayerTemplateTypes.EMOJI&&(i.instance=new A.default(B({},r))),s.type===a.LayerTemplateTypes.POLL&&(i.instance=new g.default(B({},r))),s.type===a.LayerTemplateTypes.RATING&&(i.instance=new f.default(B({},r))),s.type===a.LayerTemplateTypes.QUIZ&&(i.instance=new b.default(B({},r))),s.type===a.LayerTemplateTypes.COUNTDOWN&&(i.instance=new P.default(B({},r))),s.type===a.LayerTemplateTypes.IMAGE_CTA&&(i.instance=new v.default(B(B({},r),{},{type:a.LayerTemplateTypes.IMAGE_CTA}))),s.type!==a.LayerTemplateTypes.BUTTON&&s.type!==a.LayerTemplateTypes.SWIPE||(i.instance=new m.default(B(B({},r),{},{type:s.type===a.LayerTemplateTypes.BUTTON?a.LayerTemplateTypes.BUTTON:a.LayerTemplateTypes.SWIPE}))),s.type===a.LayerTemplateTypes.IMAGE&&(s.image_path||s.video_path||s.image_url)&&(i.instance=new D.default(B(B({},r),{},{mediaHost:t.group_.media_host}))),s.type===a.LayerTemplateTypes.TEXT&&(i.instance=new q.default(B({},r))),s.type===a.LayerTemplateTypes.PRODUCT_TAG&&(i.instance=new k.default(B({},r))),s.type===a.LayerTemplateTypes.PROMO_CODE&&(i.instance=new E.default(B({},r))),s.type===a.LayerTemplateTypes.QUESTION&&(i.instance=new S.default(B(B({},r),{},{storiesContainer:t.storiesContainer_}))),s.type===a.LayerTemplateTypes.PRODUCT_CARD&&(i.instance=new T.default(B({},r))),s.type===a.LayerTemplateTypes.PRODUCT_CATALOG&&(i.instance=new L.default(B({},r))),s.type===a.LayerTemplateTypes.IMAGE_QUIZ&&(i.instance=new C.default(B({},r))),(i.start_time||i.end_time)&&(i.instance.hideLayer(),t.timedLayers_.push(i));case 19:case"end":return e.stop()}},e)}));return function(e){return s.apply(this,arguments)}}())}},{key:"handleProgressBar_",value:function(){var e=this;if(!this.progressInterval_){this.progressCount_=0;var t=this.progressDoms_[this.key_].querySelector("span");if((0,d.isLiveVideo)(this.storyData_.video_type))return this.progressCount_=100,void(0,n.setStyle)(t,["width","".concat(this.progressCount_,"%")]);this.progressInterval_=setInterval(function(){e.progressPaused_||(e.progressTime_+=.1,e.storyProgressRemain_-=.1,e.videoAsset_?e.play():(e.handleLayersVisibility_(),e.handleProgress_()),e.progressCount_=100*e.progressTime_/e.storyProgressSecond_,e.progressCount_<=100&&(0,n.setStyle)(t,["width","".concat(e.progressCount_,"%")]))},100)}}},{key:"handleLayersVisibility_",value:function(){var e=this;if(!this.progressPaused_||this.videoAsset_){var t=1e3*(this.videoAsset_?this.videoAsset_.currentTime:this.progressTime_);this.timedLayers_.forEach(function(s){var i=s.start_time?1e3*s.start_time-300:0,r=s.end_time?1e3*s.end_time:e.videoAsset_?1e3*e.videoAsset_.duration:1e3*e.storyProgressSecond_;t>=i&&t<=r?s.instance.showLayer():s.instance.hideLayer()})}}},{key:"handleProgress_",value:function(){this.storyProgressRemain_<=0&&!this.globalInstanceData.accessibility&&((0,d.createAndDispatchEvent)(this.storyDom_,"onNextStory",{gesture:l.GestureTypes.Progress}),clearInterval(this.progressInterval_))}},{key:"handleStoryActions_",value:function(){var e=this.groupWrapper_.querySelector(".storyly__story-actions"),t=e.querySelector('button[data-type="sound"]'),s=e.querySelector('button[data-type="share"]');this.playPauseAction_=e.querySelector('button[data-type="play-pause"]'),(0,d.removeAttribute)(this.playPauseAction_,"hidden"),this.playPauseAction_.classList.replace("play","pause"),this.playPauseAction_.addEventListener("click",this.playAndPauseStory),this.videoAsset_?((0,d.removeAttribute)(t,"hidden"),t.addEventListener("click",this.handleSoundStory_)):(0,d.setAttribute)(t,"hidden",!0),!this.globalInstanceData.videoMuted&&this.videoAsset_?(this.videoAsset_.muted=!1,this.soundOn_=!0,t.classList.replace("sound-off","sound-on")):this.videoAsset_&&(this.videoAsset_.muted=!0,this.soundOn_=!1,t.classList.replace("sound-on","sound-off")),this.story_.is_sharable&&((0,d.removeAttribute)(s,"hidden"),s.addEventListener("click",this.renderShareWidget))}},{key:"renderBottomSheet_",value:function(){var e=this;this.bottomSheet_=new u.default({parentDom:this.storyDom_,instanceId:this.instanceId_}),this.storyDom_.addEventListener("onBottomSheetOpen",function(t){var s=t.detail;return e.bottomSheet_.activate(s.body,s.footer,s.rerender)})}},{key:"handleCloseGroup_",value:function(){(0,d.createAndDispatchEvent)(this.storyDom_,"onCloseGroup")}},{key:"handleSoundStory_",value:function(e){var t=e.target,s="sound-on",i="sound-off";t.classList.contains("sound-off")?((0,_.readAccessibilityText)(this.storyDom_,"Story Unmuted"),t.setAttribute("aria-pressed","false"),this.soundOn_=!0,this.soundOn(),this.globalInstanceData.videoMuted=!1):((0,_.readAccessibilityText)(this.storyDom_,"Story Muted"),t.setAttribute("aria-pressed","true"),this.soundOn_=!1,this.soundOff(),s="sound-off",i="sound-on",this.globalInstanceData.videoMuted=!0),t.classList.replace(i,s)}},{key:"exposeAccessibilityElements_",value:function(){this.storyDom_.querySelectorAll(".cta-button").forEach(function(e){(0,d.setAttribute)(e,"tabindex","21"),(0,d.setAttribute)(e,"aria-hidden","false")}),this.storyDom_.querySelectorAll(".swipe-up-button").forEach(function(e){(0,d.setAttribute)(e,"tabindex","21"),(0,d.setAttribute)(e,"aria-hidden","false")}),this.storyDom_.querySelectorAll(".product-tag-tooltip").forEach(function(e){(0,d.setAttribute)(e,"tabindex","21"),(0,d.setAttribute)(e,"aria-hidden","false")}),this.storyDom_.querySelectorAll(".poll-component").forEach(function(e){e.querySelectorAll("button").forEach(function(e){return(0,d.setAttribute)(e,"tabindex","22")}),(0,d.setAttribute)(e,"tabindex","22"),(0,d.setAttribute)(e,"aria-hidden","false")})}},{key:"hideAccessibilityElements_",value:function(){this.storyDom_.querySelectorAll(".cta-button").forEach(function(e){(0,d.removeAttribute)(e,"tabindex"),(0,d.setAttribute)(e,"aria-hidden","true")}),this.storyDom_.querySelectorAll(".swipe-up-button").forEach(function(e){(0,d.removeAttribute)(e,"tabindex"),(0,d.setAttribute)(e,"aria-hidden","true")}),this.storyDom_.querySelectorAll(".product-tag-tooltip").forEach(function(e){(0,d.removeAttribute)(e,"tabindex"),(0,d.setAttribute)(e,"aria-hidden","true")}),this.storyDom_.querySelectorAll(".poll-component").forEach(function(e){e.querySelectorAll("button").forEach(function(e){return(0,d.removeAttribute)(e,"tabindex")}),(0,d.removeAttribute)(e,"tabindex"),(0,d.setAttribute)(e,"aria-hidden","true")})}},{key:"renderShareWidget",value:function(){var t=(0,e.default)(o.default.mark(function e(t){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.default)({dom:this.storyDom_,group:this.group_,story:this.story_,pause:this.pause.bind(this),play:this.play.bind(this),gesture:t});case 2:this.shareWidget_=e.sent;case 3:case"end":return e.stop()}},e,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"soundOn",value:function(){this.videoAsset_.muted=!1}},{key:"soundOff",value:function(){this.videoAsset_.muted=!0}},{key:"pause",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.shareWidget_&&this.shareWidget_.hide(),this.progressPaused_=!0,this.storyDom_.setAttribute("paused",""),this.videoAsset_&&(this.videoPlayedPromise_?this.videoPlayedPromise_.then(function(){e.videoPausedPromise_=e.videoAsset_.pause()}):this.videoPausedPromise_=this.videoAsset_.pause())}},{key:"play",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.playPauseAction_.classList.contains("play")&&this.playPauseAction_.classList.replace("play","pause"),this.progressPaused_=!1,this.storyDom_.removeAttribute("paused"),this.videoAsset_&&(this.videoPausedPromise_?this.videoPausedPromise_.then(function(){e.videoPlayedPromise_=e.videoAsset_.play()}):this.videoPlayedPromise_=this.videoAsset_.play())}},{key:"setVideoStoryAsset",value:function(){if(("video"===this.storyData_.type||this.story_.media.thumbnail_url)&&!(0,d.isLiveVideo)(this.storyData_.video_type)){var e="".concat(this.group_.media_host).concat(this.story_.media.thumbnail_url);(0,d.setAttribute)(this.storyDom_.querySelector("video"),"poster",e)}}},{key:"playAndPauseStory",value:function(e){if(!this.globalInstanceData.accessibility){var t,s="play",i="pause";e&&(e.gesture&&(t=e.gesture),e.target===this.playPauseAction_&&(t=l.GestureTypes.Icon)),this.playPauseAction_.classList.contains("pause")?(this.pause(),this.playPauseAction_.setAttribute("aria-pressed","true"),(0,d.createAndDispatchEvent)(this.storyDom_,"onPlayPauseEvent",{gesture:t,eventType:l.EventTypes.Paused})):(this.play(),this.playPauseAction_.setAttribute("aria-pressed","false"),(0,d.createAndDispatchEvent)(this.storyDom_,"onPlayPauseEvent",{gesture:t,eventType:l.EventTypes.Resumed}),s="pause",i="play"),this.playPauseAction_.classList.replace(i,s)}}},{key:"sendStoryViewedEvent_",value:function(){var e=B({},this.getStoryData());(0,d.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:l.CustomerEventTypes.onStoryViewed,params:e})}},{key:"handleStoryTitleOnChange_",value:function(){var e=this.story_.title;e&&(this.groupWrapper_.querySelector(".storyly__sg-info h4").textContent=e)}},{key:"show",value:function(){var e,t=this;this.storyDom_.setAttribute("show",""),(0,d.createAndDispatchEvent)(this.storyDom_,"onStoryChange",{asset:this.isBlankStory_?"":null!==(e=this.imageAsset_)&&void 0!==e?e:this.videoAsset_}),this.handleStoryActions_(),this.handleStoryTitleOnChange_(),this.progressPaused_=!1,this.storyProgressRemain_=this.storyProgressSecond_,this.progressTime_=0,(0,n.removeClass)(this.progressDoms_[this.key_],"seen"),this.videoAsset_?this.onVideoShown_():this.isBlankStory_||this.imageAssetLoaded_?this.handleProgressBar_():this.imageAsset_.style.paddingBottom="0.5px",this.globalInstanceData.accessibility&&(0,n.setStyle)(this.playPauseAction_,["display","none"]),this.exposeAccessibilityElements_(),(0,n.setClass)(this.progressDoms_[this.key_],"active"),(0,n.setClass)(this.storyDom_,"active"),setTimeout(function(){t.storyDom_.focus()},500),this.sendStoryViewedEvent_()}},{key:"hide",value:function(){var e,t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=s.isBack,r=void 0!==i&&i,o=s.holdActive,a=void 0!==o&&o;if(this.storyDom_.removeAttribute("show"),this.storyDom_.hasAttribute("paused")&&this.storyDom_.removeAttribute("paused"),this.hideAccessibilityElements_(),clearInterval(this.progressInterval_),clearInterval(this.startInterval_),this.bottomSheet_.deactivate(),this.progressInterval_=null,this.startInterval_=null,this.videoAsset_){if(this.videoAsset_.currentTime=0,this.videoPlayedPromise_?this.videoPlayedPromise_.then(function(){t.videoPausedPromise_=t.videoAsset_.pause()}):this.videoPausedPromise_=this.videoAsset_.pause(),this.hls_)return void this.hls_.stopLoad();this.videoAsset_.querySelector("source").src="",this.videoAsset_.load()}this.removeEvents_(),this.progressPaused_=!0,(0,n.removeClass)(this.progressDoms_[this.key_],"active"),a||(0,n.removeClass)(this.storyDom_,"active"),(0,n.resetStyle)(this.progressDoms_[this.key_].querySelector("span"),["width"]),r?(0,n.removeClass)(this.progressDoms_[this.key_],"seen"):(0,n.setClass)(this.progressDoms_[this.key_],"seen"),null===(e=this.shareWidget_)||void 0===e||e.hide(),this.timedLayers_.forEach(function(e){return e.instance.hideLayer()})}},{key:"getWatchLength",value:function(){var e=this.storyProgressRemain_<0?0:Math.floor(this.storyProgressRemain_);return 1e3*(this.storyProgressSecond_-e)}},{key:"getProgressPausedStatus",value:function(){return this.progressPaused_}},{key:"getStoryData",value:function(){var e="".concat(this.group_.media_host).concat(this.storyData_.image_path);return"video"===this.storyData_.type&&(e="".concat(this.group_.media_host).concat(this.storyData_.video_path)),{story_id:this.story_.story_id,media:e,group:this.group_,index:this.key_}}},{key:"sendStoryClickedEvent",value:function(e,t){var s=B(B({},this.getStoryData()),{},{gesture_type:(0,d.getGestureType)(e)});(0,d.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:"next"===t?l.CustomerEventTypes.onNextStory:l.CustomerEventTypes.onPreviousStory,params:s})}},{key:"setKey",value:function(e){this.key_=e}},{key:"setProgressTime",value:function(e){this.progressTime_=+e.toFixed(1)}}]),t}(),G=W;exports.default=G;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/toConsumableArray":"Fhqp","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/regenerator":"PMvg","../../../constants/layerTypes":"aJRz","../../../lib/style":"vgU2","../../../lib/util":"PesM","../templates/story":"fRik","../../../components/BottomSheet":"l2Mf","../../../constants/events":"d0lR","../../../constants/directions":"w67G","../../../service":"hs1C","../../../lib/proxy":"qmVm","../../../layers/BlankStory":"ODzA","../../../layers/ImageCTA":"J7D7","../../../layers/CTA":"lS5I","../../../layers/Poll":"fJSh","../../../layers/Rating":"raea","../../../layers/Emoji":"GGza","../../../layers/Quiz":"lrR5","../../../layers/Countdown":"YoYr","../../../layers/Question":"KeqT","../../../layers/Media":"VEUS","../../../layers/ProductCard":"ldNI","../../../layers/ProductCatalog":"rFjg","../../../layers/ProductTag":"cjPL","../../../layers/PromoCode":"N5Sp","../../../layers/ImageQuiz":"Mxyn","../../../layers/Text":"youg","../../../components/VideoSeekBar":"WHTK","../../../service/HlsPlayer":"LJ77","../../../components/ShareWidget":"YKVc"}],"EpxL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("@babel/runtime/helpers/classCallCheck")),e=r(require("@babel/runtime/helpers/createClass"));function r(t){return t&&t.__esModule?t:{default:t}}var n=function(){function r(e){var n=e.dom;(0,t.default)(this,r),this.countDom_=n.querySelector(".storyly__story-product-cart-count span"),this.currNum_=0}return(0,e.default)(r,[{key:"scrollNumber_",value:function(t){this.countDom_.querySelectorAll("span[data-value]").forEach(function(e,r){e.style.transform="translateY(-".concat(100*parseInt(t[r],10),"%)")})}},{key:"addDigit_",value:function(t){var e=Array(10).join(0).split(0).map(function(t,e){return"<span>".concat(e,"</span>")}).join("");this.countDom_.insertAdjacentHTML("beforeend",'<span style="transform: translateY(-100%)" data-value="'.concat(t,'">\n        ').concat(e,"\n      </span>")),this.countDom_.lastElementChild.className="visible"}},{key:"removeDigit_",value:function(){var t=this.countDom_.lastElementChild;t.classList.remove("visible"),t.remove()}},{key:"setup",value:function(t){var e=this,r=t.toString().split("");r.forEach(function(){return e.addDigit_("0",!0)}),this.scrollNumber_(r),this.currNum_=t}},{key:"update",value:function(t){for(var e=t.toString().split(""),r=this.currNum_.toString().split(""),n=r.length-e.length;n>0;n-=1)this.removeDigit_();for(var a=e.length-r.length;a>0;a-=1)this.addDigit_(e[a]);this.scrollNumber_(e),this.currNum_=t}}]),r}(),a=n;exports.default=a;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW"}],"vrqB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../lib/icons"),o=require("../../../../lib/util"),r=function(r){var n=r.instanceId,c=r.isModernLayout;return"\n\t<div class='storyly__story-product-cart-container ".concat(c?"modern-layout-product-cart":"",'\'>\n\t\t<div class="storyly__story-product-cart" nocount="true">\n\t\t\t<div class="storyly__story-product-cart-icon">').concat((0,t.shoppingBagIcon)("#212121"),'</div>\n\t\t\t<div class="storyly__story-product-cart-count" style="font-family: ').concat((0,o.getFontFamily)({instanceId:n}),'"><span class="count-number"></span></div>\n\t\t</div>\n\t</div>')};exports.default=r;
},{"../../../../lib/icons":"irwm","../../../../lib/util":"PesM"}],"PIHR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../lib/util"),e=function(e){var r=e.instanceId,o=e.isModernLayout;return'\n<div style="font-family: '.concat((0,t.getFontFamily)({instanceId:r}),";\" class='storyly__story-product-cart-items-container ").concat(o?"modern-layout-product-cart-container":"",'\'>\n    <ul class="storyly__story-product-cart-items">\n    </ul>\n</div>')};exports.default=e;
},{"../../../../lib/util":"PesM"}],"TTLt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../lib/icons"),r=require("../../../../lib/util"),c=function(t){return'<p class="storyly__story-product-cart-product-variants"> '.concat(t.map(function(t){var c=t.v;return(0,r.isHexColor)(c)?'<span style="background-color: '.concat(c,'" data-type="bg"></span>'):"<span>".concat(c,"</span>")}).join(", "),"\n  </p>")},n=function(t){return'\n  <div class="storyly__story-product-cart-product-price">\n     '.concat(!t.sales_price&&t.price?'<span class="storyly__story-product-cart-product-price-current">'.concat((0,r.currencyFormatter)(t.price,t.price_currency),"</span>"):"","\n    ").concat(t.sales_price&&t.price?'\n            <span class="storyly__story-product-cart-product-price-sales">'.concat((0,r.currencyFormatter)(t.price,t.price_currency),'</span>\n            <span class="storyly__story-product-cart-product-price-current">').concat((0,r.currencyFormatter)(t.sales_price,t.price_currency),"</span>\n          "):"","\n  </div>\n")},o=function(r){return'\n<li class="storyly__story-product-cart-item">\n  <div class="storyly__story-product-cart-product-container" data-product-id="'.concat(r.product_id,'">\n    <div class="storyly__story-product-cart-product-image">\n      <img src="').concat(r.image_urls[0],'" alt="').concat(r.title,'">\n    </div>\n    <div class="storyly__story-product-cart-product-info">\n      <div class="storyly__story-product-cart-product-variants-container">\n        <div class="storyly__story-product-cart-product-title"><h3>').concat(r.title,"</h3></div>\n        ").concat(c(r.variant),'\n      </div>\n      <div class="storyly__story-product-cart-product-counter">\n       ').concat(n(r),'\n       <div class="counter">\n        <button data-product-id="').concat(r.product_id,'" class="counter-button" data-type="minus">\n          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M3.3335 8H12.6668" stroke="#242450" stroke-width="1.48201" stroke-linecap="round" stroke-linejoin="round"/>\n          </svg>\n        </button>\n        <span class="counter-count">').concat(r.quantity,'</span>\n        <button data-product-id="').concat(r.product_id,'" class="counter-button" data-type="plus">\n          <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M8.74106 3.33329C8.74106 2.92405 8.4093 2.59229 8.00005 2.59229C7.5908 2.59229 7.25904 2.92405 7.25904 3.33329V7.25904H3.33366C2.92441 7.25904 2.59265 7.5908 2.59265 8.00005C2.59265 8.40929 2.92441 8.74105 3.33366 8.74105H7.25904V12.6666C7.25904 13.0759 7.5908 13.4076 8.00005 13.4076C8.4093 13.4076 8.74106 13.0759 8.74106 12.6666V8.74105H12.667C13.0762 8.74105 13.408 8.40929 13.408 8.00005C13.408 7.5908 13.0762 7.25904 12.667 7.25904H8.74106V3.33329Z" fill="#242450"/>\n          </svg>\n        </button>\n      </div>\n      </div>\n    </div>\n  </div>\n  <div class="storyly__story-product-cart-product-delete">\n    <div>\n      ').concat((0,t.trashIcon)(),"\n    </div>\n  </div>\n</li>")};exports.default=o;
},{"../../../../lib/icons":"irwm","../../../../lib/util":"PesM"}],"laCG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../lib/icons"),r=require("../../../../lib/util"),c=function(c){var o=c.instanceId,n=c.price,a=c.sales_price,e=c.price_currency,s=c.isModernLayout;return"\n<div class='storyly__story-product-cart-items-footer ".concat(s?"modern-layout-product-cart":"","' style=\"font-family: ").concat((0,r.getFontFamily)({instanceId:o}),'">\n    <div class="storyly__story-product-cart-items-footer-price">\n        <p>Total</p>\n          <div class="total-price-container">\n     ').concat(!a&&n?'<span class="total_price">'.concat((0,r.currencyFormatter)(n,e),"</span>"):"","\n    ").concat(a&&n?'\n            <span class="total_price">'.concat((0,r.currencyFormatter)(a,e),'</span>\n            <span class="total_sales_price">').concat((0,r.currencyFormatter)(n,e),"</span>\n          "):"",'\n  </div>\n\n    </div>\n    <button class="storyly__story-product-cart-items-footer-button"><span>Go to checkout</span> ').concat((0,t.arrowRight)("#FFFFFF"),"</button>\n</div>")};exports.default=c;
},{"../../../../lib/icons":"irwm","../../../../lib/util":"PesM"}],"yyQY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../lib/icons"),o=require("../../../../lib/util"),r=function(r){return'\n<div class="storyly__story-product-cart-modal" style="font-family: '.concat((0,o.getFontFamily)({instanceId:r}),'">\n  <div class="storyly__story-product-cart-modal-overlay"></div>\n  <div class="storyly__story-product-cart-modal-content">\n    <div class="storyly__story-product-cart-modal-message">\n      <div class="storyly__story-product-cart-modal-delete-icon">').concat((0,t.trashIcon)("#212121"),'</div>\n      <div>Are you sure you want to remove this item?</div>\n      </div>\n    <div class="storyly__story-product-cart-modal-actions">\n      <button class="storyly__story-product-cart-modal-cancel">Cancel</button>\n      <button class="storyly__story-product-cart-modal-remove">Remove</button>\n    </div>\n  </div>\n</div>\n')};exports.default=r;
},{"../../../../lib/icons":"irwm","../../../../lib/util":"PesM"}],"WMYh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"CartButton",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Container",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Content",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Footer",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Modal",{enumerable:!0,get:function(){return u.default}});var e=o(require("./CartButton")),t=o(require("./Container")),r=o(require("./Content")),n=o(require("./Footer")),u=o(require("./Modal"));function o(e){return e&&e.__esModule?e:{default:e}}
},{"./CartButton":"vrqB","./Container":"PIHR","./Content":"TTLt","./Footer":"laCG","./Modal":"yyQY"}],"HCYR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../lib/icons"),o=require("../../../../lib/util"),s=function(s){var e=s.instanceId,n=s.isModernLayout;return'\n  <div \n    style="font-family: '.concat((0,o.getFontFamily)({instanceId:e}),"\"\n    class='storyly__story-product-cart-empty-state ").concat(n?"modern-layout-empty-state":"",'\'\n    >\n    <div class="storyly__story-product-cart-empty-state-body">\n      <div class="storyly__story-product-cart-empty-state-body-icon">\n        ').concat((0,t.shoppingBagIcon)("#212121"),'\n      </div>\n      <div class="storyly__story-product-cart-empty-state-body-text">\n        <p>Your cart is empty</p>\n      </div>\n    </div>\n    <div class="storyly__story-product-cart-empty-state-button">\n      <button>Continue with stories</button>\n    </div>\n  </div>')};exports.default=s;
},{"../../../../lib/icons":"irwm","../../../../lib/util":"PesM"}],"TJeL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=f(require("@babel/runtime/helpers/defineProperty")),e=f(require("@babel/runtime/helpers/slicedToArray")),r=f(require("@babel/runtime/helpers/classCallCheck")),n=f(require("@babel/runtime/helpers/createClass")),i=f(require("@babel/runtime/helpers/inherits")),o=f(require("@babel/runtime/helpers/possibleConstructorReturn")),s=f(require("@babel/runtime/helpers/getPrototypeOf")),a=require("../../constants/events"),c=f(require("../../constants/layouts")),u=f(require("../../layers/base")),l=require("../../lib/util"),d=f(require("../Alert")),h=f(require("../LoadingSpinner")),_=f(require("./countUpdater")),p=require("./template"),y=f(require("./template/EmptyState"));function f(t){return t&&t.__esModule?t:{default:t}}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach(function(r){(0,t.default)(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(t){var e=b();return function(){var r,n=(0,s.default)(t);if(e){var i=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return(0,o.default)(this,r)}}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var C=function(t){(0,i.default)(s,t);var o=g(s);function s(t){var e,n=t.parentDom,i=t.instanceId;return(0,r.default)(this,s),(e=o.call(this,{storyDom:n,instanceId:i})).isDragging_=!1,e.initialX_=null,e.selectedProducts_=[],e.loading_=!1,e.clickedButton_=null,e.deletedProduct_=null,e.isCartActive_=e.instanceClass.isStorylyCartActive,e.attachCallbacksToElement_(),e.isCartActive_&&e.generateComponentAndAppendToPage((0,p.CartButton)({instanceId:e.instanceId,isModernLayout:e.globalInstanceData.layout===c.default.MODERN})).then(function(t){e.dom_=t,e.init_()}),e}return(0,n.default)(s,[{key:"init_",value:function(){this.eventListeners_(),this.countUpdater=new _.default({dom:this.dom_}),this.countUpdater.setup(this.selectedProducts_.length),this.refresh()}},{key:"attachCallbacksToElement_",value:function(){this.onCartOpen_=this.onCartOpen_.bind(this),this.onProductCountChange_=this.onProductCountChange_.bind(this),this.updateCart=this.updateCart.bind(this),this.onError_=this.onError_.bind(this),this.onSuccess_=this.onSuccess_.bind(this),this.handleEvent_=this.handleEvent_.bind(this)}},{key:"eventListeners_",value:function(){(0,l.setClickEventListener)(this.dom_.parentElement,this.onCartOpen_),(0,l.stopEventBubbling)(this.dom_.parentElement,"touchstart"),(0,l.stopEventBubbling)(this.dom_.parentElement,"touchend"),(0,l.stopEventBubbling)(this.dom_.parentElement,"touchmove")}},{key:"onCartOpen_",value:function(){var t=this;if(this.selectedProducts_.length){this.container_=this.generateHtmlFromTemplate((0,p.Container)({instanceId:this.instanceId,isModernLayout:this.globalInstanceData.layout===c.default.MODERN})),this.footer_=this.generateHtmlFromTemplate((0,p.Footer)({instanceId:this.instanceId,price:this.price_,sales_price:this.sales_price,price_currency:this.price_currency,isModernLayout:this.globalInstanceData.layout===c.default.MODERN})),this.selectedProducts_.forEach(function(r){var n=t.generateHtmlFromTemplate((0,p.Content)(r)),i=n.querySelector(".storyly__story-product-cart-product-container"),o=n.querySelector(".storyly__story-product-cart-product-delete"),s=n.querySelectorAll(".counter-button"),a=(0,e.default)(s,2),c=a[0],u=a[1];(0,l.setClickEventListener)(c,function(e){return t.onProductCountChange_(e,r)}),(0,l.setClickEventListener)(u,function(e){return t.onProductCountChange_(e,r)}),t.onSwipeLeft_(i,o),t.container_.firstElementChild.appendChild(n)});var r=this.footer_.querySelector("button");(0,l.setClickEventListener)(r,function(){t.onCheckoutToCart_()});var n=this.container_.querySelector(".storyly__story-product-cart-items");this.alert_=this.generateHtmlFromTemplate((0,d.default)({text:"We're sorry to inform you that the item you're interested in purchasing is currently out of stock."}));var i=this.alert_.querySelector(".storyly__alert-box-close");(0,l.setClickEventListener)(i,function(){return t.alert_.classList.remove("active")}),n.prepend(this.alert_),(0,l.createAndDispatchEvent)(this.dom_,(0,l.openProductDetail)(this.instanceId),{body:this.container_,footer:this.footer_})}else this.renderEmptyState_()}},{key:"onSwipeLeft_",value:function(t){var e=this;t.addEventListener("touchstart",function(t){e.isDragging_=!0,e.initialX_=t.touches[0].clientX}),t.addEventListener("touchend",function(r){e.isDragging_&&(r.changedTouches[0].clientX-e.initialX_<-72?e.onDeleteModalOpen_(t):(e.setStyle(t,"transition","transform 0.3s cubic-bezier(0.65, 0.05, 0.36, 1) 0s"),e.setStyle(t,"transform","translateX(0)")));e.isDragging_=!1,e.initialX_=null}),t.addEventListener("touchmove",function(r){if(e.isDragging_){var n=r.touches[0].clientX-e.initialX_;if(n<0&&n>-72){var i=Math.max(n,-t.offsetWidth);e.setStyle(t,"transition","unset"),e.setStyle(t,"transform","translateX(".concat(i,"px)"))}}})}},{key:"onDeleteModalOpen_",value:function(t){var e=this,r=this.storyDom_.getRootNode().querySelector(".storyly__group-container"),n=this.generateHtmlFromTemplate((0,p.Modal)(this.instanceId)),i=n.querySelector(".storyly__story-product-cart-modal-cancel"),o=n.querySelector(".storyly__story-product-cart-modal-remove");(0,l.stopEventBubbling)(n,"touchstart"),(0,l.stopEventBubbling)(n,"touchend"),(0,l.stopEventBubbling)(n,"touchmove"),r.appendChild(n),(0,l.setClickEventListener)(i,function(){return e.onDeleteModalCancel_(r,n,t)}),(0,l.setClickEventListener)(o,function(){return e.onDeleteModalConfirm_(r,n,t)})}},{key:"onDeleteModalCancel_",value:function(t,e,r){this.onFadeOut_(t,e),this.setStyle(r,"transition","transform 0.3s cubic-bezier(0.65, 0.05, 0.36, 1) 0s"),this.setStyle(r,"transform","translateX(0)")}},{key:"onDeleteModalConfirm_",value:function(t,e,r){var n=this;this.onFadeOut_(t,e);var i=this.selectedProducts_.find(function(t){return String(t.product_id)===r.dataset.productId}),o=this.instanceClass.getActiveStory_(),s={group:this.instanceClass.getActiveGroupWithoutInstance(),story_id:o.story_id,alt_text:o.alt_text,is_sharable:o.is_sharable,product:m(m({},i),{},{quantity:0}),product_type:a.LayerEventTypes.ProductRemoved,onError:function(t){return n.onError_(t,!0)},onSuccess:function(t){return n.onSuccess_(t,!0)}};this.deletedProduct_=r.parentElement,(0,l.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:a.CustomerEventTypes.onStoryCartUpdate,params:s})}},{key:"onError_",value:function(t){var e=this,r=t.message;setTimeout(function(){return clearTimeout(e.timeout_)},0),this.container_.querySelector(".storyly__story-product-cart-items").scrollTo(0,0),this.alert_.querySelector("p").innerHTML=r,this.alert_.classList.add("active"),this.onLoadingFalse_(),this.handleEvent_(a.LayerEventTypes.ProductCartAddFailed)}},{key:"onSuccess_",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];setTimeout(function(){return clearTimeout(e.timeout_)},0),this.instanceClass.setProductCartItems(t),!r&&this.latestModifiedProduct_&&this.handleEvent_(a.LayerEventTypes.ProductCartAdded,m(m({},this.latestModifiedProduct_),{},{quantity:1}))}},{key:"onFadeOut_",value:function(t,e){e.animate([{opacity:1},{opacity:0}],{duration:300,iterations:1,fill:"forwards"}),setTimeout(function(){return t.removeChild(e)},300)}},{key:"onProductCountChange_",value:function(t,e){var r=this;if(!this.loading_){t.stopPropagation(),t.stopImmediatePropagation();var n=t.target,i="minus"===n.dataset.type,o=n.parentElement.querySelector(".counter-count"),s=Number(o.innerHTML);if(this.latestModifiedProduct_=e,i&&(this.latestModifiedProduct_=null),1===s&&i){var c=n.closest(".storyly__story-product-cart-product-container");this.onDeleteModalOpen_(c)}else{i?s-=1:s+=1,this.loading_=!0;var u=this.generateHtmlFromTemplate((0,h.default)(24));this.clickedButton_=n,n.replaceWith(u);var d=this.instanceClass.getActiveStory_(),_={group:this.instanceClass.getActiveGroupWithoutInstance(),story_id:d.story_id,alt_text:d.alt_text,is_sharable:d.is_sharable,product:m(m({},e),{},{quantity:s}),product_type:a.LayerEventTypes.ProductUpdated,onError:this.onError_,onSuccess:this.onSuccess_};(0,l.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:a.CustomerEventTypes.onStoryCartUpdate,params:_}),this.timeout_=setTimeout(function(){r.onError_({message:"Something went wrong!"})},5e3)}}}},{key:"renderEmptyState_",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.generateHtmlFromTemplate((0,y.default)({instanceId:this.instanceId,isModernLayout:this.globalInstanceData.layout===c.default.MODERN})),n=this.generateHtmlFromTemplate('<div style="display: none;"></div>');if(this.globalInstanceData.layout===c.default.MODERN){var i=this.generateHtmlFromTemplate('<div class="storyly__story-product-cart-empty-state-button modern-layout-footer-button">\n                                              <button>Continue with stories</button>\n                                            </div>'),o=r.querySelector(".storyly__story-product-cart-empty-state-button");r.removeChild(o),(0,l.createAndDispatchEvent)(this.dom_,(0,l.openProductDetail)(this.instanceId),{body:r,footer:i,rerender:e}),(0,l.setClickEventListener)(i,function(){(0,l.createAndDispatchEvent)(t.storyDom_,(0,l.openProductDetail)(t.instanceId))})}else{(0,l.createAndDispatchEvent)(this.dom_,(0,l.openProductDetail)(this.instanceId),{body:r,footer:n,rerender:e});var s=r.querySelector(".storyly__story-product-cart-empty-state-button button");(0,l.setClickEventListener)(s,function(){(0,l.createAndDispatchEvent)(t.storyDom_,(0,l.openProductDetail)(t.instanceId))})}}},{key:"onLoadingFalse_",value:function(){var t=this;if(this.clickedButton_){var e=this.container_.querySelector(".storyly-spinner-container"),r=e.nextElementSibling,n=e.previousElementSibling,i=r||n,o=this.selectedProducts_.find(function(e){return String(e.product_id)===t.clickedButton_.dataset.productId});i.innerHTML=o.quantity,e.replaceWith(this.clickedButton_),this.loading_=!1,this.clickedButton_=null}}},{key:"onUpdatePrice_",value:function(){if(this.footer_){var t=this.footer_.querySelector(".total_price"),e=this.footer_.querySelector(".total_sales_price");this.sales_price&&e&&t?(t.innerHTML=(0,l.currencyFormatter)(this.sales_price,this.price_currency),e.innerHTML=(0,l.currencyFormatter)(this.price_,this.price_currency)):t&&(t.innerHTML=(0,l.currencyFormatter)(this.price_,this.price_currency))}}},{key:"updateCart",value:function(t){var e=this;if(this.isCartActive_){var r,n=t.products,i=t.price,o=t.sales_price,s=t.price_currency;if(this.selectedProducts_=n,this.price_=i,this.sales_price=o,this.price_currency=s,this.onUpdatePrice_(),this.countUpdater.update(n.length),!n.length&&this.deletedProduct_)return this.renderEmptyState_(!0),void this.dom_.setAttribute("nocount","true");if(n.length)this.dom_.removeAttribute("nocount"),null===(r=this.alert_)||void 0===r||r.classList.remove("active");if(this.onLoadingFalse_(),this.deletedProduct_){var a=this.deletedProduct_.offsetHeight,c=[{opacity:1,height:"".concat(a,"px")},{opacity:0,height:0}];this.deletedProduct_.animate(c,{duration:300,iterations:1,fill:"forwards"}),setTimeout(function(){e.container_.firstElementChild.removeChild(e.deletedProduct_),e.deletedProduct_=null},300)}}}},{key:"refresh",value:function(){if(this.isCartActive_){var t=this.instanceClass.storylyCheckoutProducts,e=t.products,r=t.price,n=t.sales_price,i=t.price_currency;this.selectedProducts_=e,this.price_=r,this.sales_price=n,this.price_currency=i,this.onUpdatePrice_(),this.selectedProducts_.length&&(this.dom_.removeAttribute("nocount"),this.countUpdater.update(this.selectedProducts_.length))}}},{key:"onCheckoutToCart_",value:function(){var t={products:this.instanceClass.storylyCheckoutProducts.products};(0,l.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:a.CustomerEventTypes.onStoryCartClicked,params:t})}},{key:"handleEvent_",value:function(t,e){var r,n=this.instanceClass.getActiveStory_();r=e?(0,l.productEventPayloadHandler)(e):this.selectedProducts_.map(function(t){return(0,l.productEventPayloadHandler)(t)});var i={event_type:t,story_group_id:+this.instanceClass.getActiveGroupWithoutInstance().group_id,story_id:+n.story_id,story_group_index:null,story_index:null,story_group_type:"default",story_interactive_x:null,story_interactive_y:null,duration:null,watch_length:null,event_time:Date.now(),products:r};this.api.sendEvent(i)}}]),s}(u.default),E=C;exports.default=E;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/slicedToArray":"HETk","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","../../constants/events":"d0lR","../../constants/layouts":"kUgL","../../layers/base":"skR7","../../lib/util":"PesM","../Alert":"tk2H","../LoadingSpinner":"hb2d","./countUpdater":"EpxL","./template":"WMYh","./template/EmptyState":"HCYR"}],"LuBi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../lib/util"),n=new URLSearchParams(window.location.search),a=function(a,e,o){var i=a.title,s=a.icon_image_url,r=a.ad;return'\n  <div class="storyly__story-header">\n    <div class="storyly__story-info">\n      <div\n        style="\n          font-family: '.concat((0,t.getFontFamily)({font:"Storyly-Inter",instanceId:e}),";\n          ").concat(n.get("storylyMail")||o.inboxStory?"visibility: hidden":"",'\n        "\n        class="storyly__sg-info"\n        title="').concat(i.length>25?i:"",'">\n        ').concat(r?'<div class="ad-group-icon"></div>':'<img aria-hidden="true" src='.concat(s,' alt="Story Group Icon" />'),'\n        <h4 tabindex="').concat(r?"-1":"15",'">').concat(i,'</h4>\n      </div>\n      <div class="storyly__story-actions">\n        <button type="button" aria-label="Share" data-type="share" tabindex="25" class="action icon share" hidden></button>\n        <button type="button" aria-label="Sound off" aria-pressed="false" data-type="sound" tabindex="30" class="action icon sound-off" hidden></button>\n        <button type="button" aria-label="Pause" aria-pressed="false"  data-type="play-pause" tabindex="35" class="action icon pause" hidden></button>\n      </div>\n    </div>\n  </div>\n')};exports.default=a;
},{"../../../lib/util":"PesM"}],"vAQQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){return'\n  <div class="progress">\n    <span></span>\n  </div>\n'};exports.default=e;
},{}],"wvHA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=g(require("@babel/runtime/helpers/defineProperty")),t=g(require("@babel/runtime/helpers/asyncToGenerator")),r=g(require("@babel/runtime/helpers/classCallCheck")),s=g(require("@babel/runtime/helpers/createClass")),o=g(require("@babel/runtime/regenerator")),i=g(require("../../../constants/playmode")),n=require("../../../lib/style"),a=require("../../../lib/util"),u=g(require("../../../lib/storage")),d=g(require("../Story")),c=g(require("../../../components/StoryCart")),y=g(require("../templates/storyHeader")),l=g(require("../templates/storyProgress")),h=require("../../../constants/events"),_=g(require("../../../constants/directions")),p=g(require("../../../lib/proxy")),v=require("../../../service");function g(e){return e&&e.__esModule?e:{default:e}}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function S(t){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?f(Object(s),!0).forEach(function(r){(0,e.default)(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var I=function(){function e(t,s,o){(0,r.default)(this,e),this.group_=t,this.key_=s,this.storyInstances_=[],this.progressDoms_=[],this.activeStoryIndex_=0,this.lastSeenStoryIndex_=0,this.loadded_=!1,this.stories_=this.group_.stories,this.instanceId_=o,this.attachCallbacksToElement_(),this.setEventListeners_(),u.default.setInstanceId(this.instanceId_),this.handleConditionalStories()}return(0,s.default)(e,[{key:"attachCallbacksToElement_",value:function(){this.nextStory=this.nextStory.bind(this),this.prevStory=this.prevStory.bind(this),this.hide=this.hide.bind(this),this.storiesObserverCallback_=this.storiesObserverCallback_.bind(this)}},{key:"setEventListeners_",value:function(){var e=this;window.addEventListener("resize",(0,a.debounce)(function(){var t=e.storiesContainer_.childNodes[e.activeStoryIndex_];if(t){var r=t.offsetWidth,s=window.innerWidth/2-r/2;e.activeStoryCenteredPosition_=s,e.renderStories_()}}))}},{key:"render",value:function(){this.groupWrapper_=document.createElement("div"),(0,n.setClass)(this.groupWrapper_,["storyly__story-group","swiper-slide"]),this.groupWrapper_.ariaHidden="true",(0,a.setAttribute)(this.groupWrapper_,"role","presentation"),this.groupWrapper_.dataset.id=this.group_.group_id,this.storiesContainer_=document.createElement("div"),(0,n.setClass)(this.storiesContainer_,["storyly__stories-container"]),this.groupWrapper_.appendChild(this.storiesContainer_);var e=p.default.getNodeByInstanceId(this.instanceId_).getDataFromGlobal().globalInstanceData;return this.globalInstanceData=e,this.storyObserver_=(0,v.intersectionObserverImpl)(this.storiesContainer_,this.storiesObserverCallback_),Promise.resolve(this.groupWrapper_)}},{key:"storiesObserverCallback_",value:function(e){var t=this;e.forEach(function(e){if(e.isIntersecting){var r=e.target;t.storyInstances_.find(function(e){return e.storyDom_===r}).setVideoStoryAsset()}})}},{key:"setStoryInstancesAndListeners_",value:function(){var e=this;this.group_.stories.forEach(function(t,r){var s=new d.default({story:t,key:r,group:e.group_,storiesContainer:e.storiesContainer_,groupWrapper:e.groupWrapper_,progressDoms:e.progressDoms_,instanceId:e.instanceId_});e.storyInstances_[r]=s,e.storyObserver_.observe(s.storyDom_)}),this.setStoriesClickEvents_()}},{key:"setStoriesClickEvents_",value:function(){var e=this,t=function(t,r){var s=t.classList;s.contains("storyly__story-passive")&&(s.contains("storyly__story-next-story")&&(e.nextStory(r,"".concat(h.GestureTypes.StoryClick,"_").concat(r-e.activeStoryIndex_)),e.handleProgressBarByParameters_(r)),s.contains("storyly__story-prev-story")&&(e.prevStory(r,"".concat(h.GestureTypes.StoryClick,"_").concat(e.activeStoryIndex_-r)),e.handleProgressBarByParameters_(r)))};this.storiesContainer_.childNodes.forEach(function(e,r){e.removeEventListener("click",function(){return t(e,r)}),e.addEventListener("click",function(){return t(e,r)})})}},{key:"renderStoryGroupHeader_",value:function(){var e,t=(0,a.generateHtmlFromTemplate)((0,y.default)(this.group_,this.instanceId_,this.globalInstanceData));null===(e=this.groupWrapper_.querySelector(".storyly__story-header"))||void 0===e||e.remove(),this.groupWrapper_.prepend(t),(0,a.stopEventBubbling)(t),this.renderProgressLines_()}},{key:"renderProgressLines_",value:function(){var e=document.createElement("div");(0,n.setClass)(e,"storyly__story-group-progress-bar");var t=document.createElement("div");(0,n.setClass)(t,"progress-wrapper"),e.appendChild(t);for(var r=this.group_.stories.length,s=0;s<r;s+=1){var o=(0,a.generateHtmlFromTemplate)((0,l.default)());s<this.activeStoryIndex_&&(0,n.setClass)(o,"seen"),t.appendChild(o),this.progressDoms_.push(o)}this.groupWrapper_.prepend(e)}},{key:"renderProductCart_",value:function(){var e=(0,t.default)(o.default.mark(function e(){var t,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,a.getProductLayers)(this.group_),r=this.groupWrapper_.querySelector(".storyly__story-actions"),t.length&&(this.storyCart=new c.default({instanceId:this.instanceId_,parentDom:r}));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderStoryNavigations_",value:function(){var e=this,t=(0,a.generateHtmlFromTemplate)('<button class="prev-story-button" aria-label="Previous story in a current group" tabindex="10"></button>'),r=(0,a.generateHtmlFromTemplate)('<button class="next-story-button" aria-label="Next story in a current group" tabindex="40"></button>'),s=this.globalInstanceData.direction;t.addEventListener("click",function(t){t.preventDefault(),(0,a.createAndDispatchEvent)(e.groupWrapper_,s===_.default.RTL?"onNextStory":"onPrevStory",{gesture:h.GestureTypes.Arrow})}),r.addEventListener("click",function(t){t.preventDefault(),(0,a.createAndDispatchEvent)(e.groupWrapper_,s===_.default.RTL?"onPrevStory":"onNextStory",{gesture:h.GestureTypes.Arrow})}),this.groupWrapper_.appendChild(t),this.groupWrapper_.appendChild(r)}},{key:"prevStory",value:function(e,t){var r=this;if(this.globalInstanceData.shareParams.playMode!==i.default.STORY||this.globalInstanceData.shareParams.group.group_id!==this.group_.group_id){var s=this.storyInstances_[this.activeStoryIndex_];if(0===this.activeStoryIndex_)return(0,a.createAndDispatchEvent)(this.groupWrapper_,"onPrevGroup",{gesture:t}),void(0!==this.key_&&s.hide({holdActive:!0,isBack:!0}));s.hide({isBack:!0}),this.storyState_().remove(),this.activeStoryIndex_=null!=e?e:this.activeStoryIndex_-1,this.lastSeenStoryIndex_=this.activeStoryIndex_,this.renderStories_().then(function(){r.storyInstances_[r.activeStoryIndex_].show(),(0,a.createAndDispatchEvent)(r.groupWrapper_,"onStoryImpression")})}else(0,a.createAndDispatchEvent)(this.groupWrapper_,"onCloseGroup",{gesture:t})}},{key:"nextStory",value:function(e,t){var r=this;if(this.globalInstanceData.shareParams.playMode!==i.default.STORY||this.globalInstanceData.shareParams.group.group_id!==this.group_.group_id){var s=this.storyInstances_[this.activeStoryIndex_];if(this.group_.stories.length-1===this.activeStoryIndex_)return this.storyState_().add(),(0,a.createAndDispatchEvent)(this.groupWrapper_,"onNextGroup",{gesture:t}),void s.hide({isBack:!0});s.hide(),this.activeStoryIndex_=null!=e?e:this.activeStoryIndex_+1,this.lastSeenStoryIndex_=this.activeStoryIndex_,this.storyState_().add(),this.renderStories_().then(function(){r.storyInstances_[r.activeStoryIndex_].show(),(0,a.createAndDispatchEvent)(r.groupWrapper_,"onStoryImpression"),(0,a.createAndDispatchEvent)(r.groupWrapper_,"onStoryComplete")})}else(0,a.createAndDispatchEvent)(this.groupWrapper_,"onCloseGroup",{gesture:t})}},{key:"renderStories_",value:function(){var e=this,t=this.globalInstanceData.direction===_.default.RTL?"right":"left";return this.storiesContainer_.childNodes.forEach(function(r,s){if(s<e.activeStoryIndex_){(0,n.removeClass)(r,"storyly__story-next-story"),(0,n.setClass)(r,["storyly__story-passive","storyly__story-prev-story"]),(0,a.setAttribute)(r,"tabindex","-1"),(0,a.setAttribute)(r,"aria-hidden","true");var o=r.offsetWidth;e.activeStoryIndex_-s==1?(0,n.setStyle)(r,[t,"".concat(e.activeStoryCenteredPosition_-o-54,"px")]):(0,n.setStyle)(r,[t,"".concat(e.activeStoryCenteredPosition_-o-54-(.6*o+20)*(e.activeStoryIndex_-s-1),"px")])}if(s>e.activeStoryIndex_)if((0,n.removeClass)(r,"storyly__story-prev-story"),(0,n.setClass)(r,["storyly__story-passive","storyly__story-next-story"]),(0,a.setAttribute)(r,"tabindex","-1"),(0,a.setAttribute)(r,"aria-hidden","true"),s-e.activeStoryIndex_==1)(0,n.setStyle)(r,[t,"".concat(e.activeStoryCenteredPosition_+e.activeStoryOffsetWidth_+54,"px")]);else{var i=r.offsetWidth;(0,n.setStyle)(r,[t,"".concat(e.activeStoryCenteredPosition_+e.activeStoryOffsetWidth_+54+(s-e.activeStoryIndex_-1)*(.6*i+20),"px")])}s===e.activeStoryIndex_&&((0,n.removeClass)(r,"storyly__story-passive"),(0,n.removeClass)(r,"storyly__story-next-story"),(0,n.removeClass)(r,"storyly__story-prev-story"),(0,a.setAttribute)(r,"aria-hidden","false"),(0,a.setAttribute)(r,"tabindex","20"),(0,n.setStyle)(r,[t,"".concat(e.activeStoryCenteredPosition_,"px")]))}),Promise.resolve()}},{key:"loadState_",value:function(){var e=this.storyState_().get();this.activeStoryIndex_=e}},{key:"storyState_",value:function(){var e=this,t=this.group_.group_id;return{add:function(){var r,s=u.default.getItemFromInstance("Storyly_story-state"),o=e.group_.stories[e.activeStoryIndex_];(null===(r=s[t])||void 0===r?void 0:r.some(function(e){return e.storyId===o.story_id}))||(s[t]?s[t].push({storyIndex:e.activeStoryIndex_,storyId:o.story_id,time:Date.now()}):s[t]=[{storyIndex:e.activeStoryIndex_,storyId:o.story_id,time:Date.now()}],u.default.setItemToInstance("Storyly_story-state",s))},remove:function(r){var s,o=u.default.getItemFromInstance("Storyly_story-state"),i=e.group_.stories[e.activeStoryIndex_].story_id;r&&(i=r);var n=null===(s=o[t])||void 0===s?void 0:s.filter(function(e){return e.storyId!==i});o[t]=null!=n?n:{},u.default.setItemToInstance("Storyly_story-state",o)},get:function(){var r=S({},u.default.getItemFromInstance("Storyly_story-state")||{}),s=0;if(r[t]){var o,i=!0,n=r[t].map(function(e){return e.storyId});return e.group_.stories.forEach(function(e,t){"number"!=typeof o?n.includes(e.story_id)||(o=t,i=!1):i=!1}),i?0:(s=o)>=0?s:(n.forEach(function(t){var r=e.group_.stories.findIndex(function(e){return e.story_id===t});r>=0?s=r:e.storyState_().remove(t)}),s)}return s}}}},{key:"handleProgressBarByParameters_",value:function(e){for(var t=this.progressDoms_.length,r=0;r<t;r+=1)r<e?(0,n.setClass)(this.progressDoms_[r],"seen"):(0,n.removeClass)(this.progressDoms_[r],"seen")}},{key:"sendGroupViewedEvent_",value:function(){var e=S({},this.group_);(0,a.createAndDispatchEvent)(this.groupWrapper_,"onCustomerEvent",{eventName:h.CustomerEventTypes.onStoryGroupViewed,params:e})}},{key:"createStoryAndProgress_",value:function(e,t){var r=new d.default({story:e,key:t,group:this.group_,storiesContainer:this.storiesContainer_,groupWrapper:this.groupWrapper_,progressDoms:this.progressDoms_,instanceId:this.instanceId_,condition:!0});this.storyObserver_.observe(r.storyDom_),this.storyInstances_.splice(t,0,r),this.storyInstances_.forEach(function(e,t){return e.setKey(t)});var s=(0,a.generateHtmlFromTemplate)((0,l.default)()),o=this.groupWrapper_.querySelector(".progress-wrapper");this.activeStoryIndex_>=t&&(this.activeStoryIndex_+=1,(0,n.setClass)(s,"seen")),o.querySelectorAll(".progress")[t]?o.querySelectorAll(".progress")[t].before(s):o.appendChild(s),this.progressDoms_.splice(t,0,s),this.renderStoryNavigations_();var i=window.innerHeight/100*85*9/16,u=window.innerWidth/2-i/2;this.activeStoryCenteredPosition_=u,this.activeStoryOffsetWidth_=i,this.renderStories_(),this.setStoriesClickEvents_()}},{key:"handleConditionalStories",value:function(e){var t=this,r=u.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_componentsData"),s=[];return this.stories_.forEach(function(e){e.conditions?e.conditions.every(function(e){return e.some(function(e){var t=r[e.i];return void 0!==t&&t===+e.r.p})})&&s.push(e):s.push(e)}),e&&s.forEach(function(e,r){-1===t.group_.stories.findIndex(function(t){return t.story_id===e.story_id})&&t.createStoryAndProgress_(e,r)}),this.group_.stories=s,Promise.resolve(s)}},{key:"show",value:function(){this.storyCart?this.storyCart.refresh():this.renderProductCart_(),this.sendGroupViewedEvent_(),this.storyInstances_[this.activeStoryIndex_].show(),this.storyState_().add()}},{key:"load",value:function(){if(!this.loadded_){this.loadState_(),this.storyInstances_=[],this.progressDoms_=[],this.renderStoryGroupHeader_(),this.renderStoryNavigations_(),this.setStoryInstancesAndListeners_();var e=window.innerHeight/100*85*9/16,t=window.innerWidth/2-e/2;this.activeStoryCenteredPosition_=t,this.activeStoryOffsetWidth_=e,this.renderStories_(),this.loadded_=!0}}},{key:"loadByParameters",value:function(e){this.storyInstances_.length||this.load(),(0,n.removeClass)(this.storyInstances_[this.activeStoryIndex_].storyDom_,"active"),this.activeStoryIndex_=e,this.loadedByParameters_=!0,this.handleProgressBarByParameters_(e),this.renderStories_()}},{key:"unLoad",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).holdActive,t=void 0!==e&&e,r=this.group_.stories.length-1===this.activeStoryIndex_;this.storyInstances_[this.activeStoryIndex_].hide({holdActive:!r&&!this.loadedByParameters_&&t}),this.loadedByParameters_&&(this.loadState_(),this.loadedByParameters_=!1,this.handleProgressBarByParameters_(this.activeStoryIndex_),this.renderStories_()),r&&(this.activeStoryIndex_=0,this.progressDoms_.forEach(function(e){(0,n.removeClass)(e,"seen")}),this.renderStories_())}},{key:"hide",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).holdActive,t=void 0!==e&&e;this.unLoad({holdActive:t}),this.globalInstanceData.shareParams={}}},{key:"getActiveStory",value:function(){var e,t=this.storyInstances_[this.activeStoryIndex_];return S(S({},null!==(e=this.group_.stories[this.activeStoryIndex_])&&void 0!==e?e:{}),{},{storyIndex:this.activeStoryIndex_,instance:t})}},{key:"getPrevStory",value:function(){var e,t=this.storyInstances_[this.activeStoryIndex_-1];return S(S({},null!==(e=this.group_.stories[this.activeStoryIndex_-1])&&void 0!==e?e:{}),{},{instance:t})}},{key:"setKey",value:function(e){this.key_=e}},{key:"isAllStoriesSeen",value:function(){return this.group_.stories.length-1===this.lastSeenStoryIndex_}},{key:"sendGroupClickedEvent",value:function(e,t){var r=S(S({},this.group_),{},{gesture_type:(0,a.getGestureType)(e)});(0,a.createAndDispatchEvent)(this.groupWrapper_,"onCustomerEvent",{eventName:"next"===t?h.CustomerEventTypes.onNextStoryGroup:h.CustomerEventTypes.onPreviousStoryGroup,params:r})}}]),e}(),m=I;exports.default=m;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/regenerator":"PMvg","../../../constants/playmode":"Ooqf","../../../lib/style":"vgU2","../../../lib/util":"PesM","../../../lib/storage":"NA5d","../Story":"UKq4","../../../components/StoryCart":"TJeL","../templates/storyHeader":"LuBi","../templates/storyProgress":"vAQQ","../../../constants/events":"d0lR","../../../constants/directions":"w67G","../../../lib/proxy":"qmVm","../../../service":"hs1C"}],"u7Oq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prev";return'\n    <div class="story-group-navigation-button '.concat(n,'-story-group">\n      <h6 ').concat("prev"===n?'data-i18n-key="previous_stories"':'data-i18n-key="next_stories"',' aria-hidden="true">').concat("prev"===n?"PREVIOUS STORIES":"NEXT STORIES",'</h6>\n      <button\n        class="story-group-navigation-button-container"\n        tabindex="').concat("prev"===n?"5":"45",'"\n        aria-label="').concat("prev"===n?"Previous group of story":"Next group of story",'"\n        >\n        <div class="story-group-navigation-button-container-icon">\n          <span class="next-story-group-icon"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M2.66663 8H13.3333" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n            <path d="M9.33337 4L13.3334 8L9.33337 12" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg></span>\n          <span class="prev-story-group-icon"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M13.3333 8H2.66659" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n            <path d="M6.66675 4L2.66675 8L6.66675 12" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n          </span>\n        </div>\n        <div class="story-group-navigation-button-container-inner">\n          <div class="story-group-cover-image">\n            <img src="" alt="story group cover image" aria-hidden="true" />\n          </div>\n          <div class="story-group-title">\n            <span></span>\n          </div>\n        </div>\n      </button>\n    </div>\n  ')};exports.default=n;
},{}],"KwS7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){return'\n    <div class="storyly__keyboard-shortcuts" tabindex="-1" aria-hidden="true">\n      <h6 data-i18n-key="keyboard_shortcuts">KEYBOARD SHORTCUTS</h6>\n      <ul id="storyly__keyboard-shortcuts-menu" class="storyly__keyboard-shortcuts-menu">\n        <li class="storyly__keyboard-shortcuts-menu-item" role="menuitem" tabindex="51" aria-label="Right Arrow for Next Story">\n          <span class="storyly__keyboard-shortcuts-menu-item-icon">\n            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M2.66663 8H13.3333" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M9.33337 4L13.3334 8L9.33337 12" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n          </span>\n          <span data-i18n-key="shortcut_next_story">Next story</span>\n        </li>\n        <li class="storyly__keyboard-shortcuts-menu-item" role="menuitem" tabindex="51" aria-label="Left Arrow for Previous Story">\n          <span class="storyly__keyboard-shortcuts-menu-item-icon">\n            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M13.3333 8H2.66659" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n              <path d="M6.66675 4L2.66675 8L6.66675 12" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>\n          </span>\n          <span data-i18n-key="shortcut_preview_story">Previous story</span>\n        </li>\n        <li class="storyly__keyboard-shortcuts-menu-item" role="menuitem" tabindex="-1" aria-hidden="true">\n          <span class="storyly__keyboard-shortcuts-menu-item-icon">\n            <svg width="23" height="6" viewBox="0 0 23 6" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M1.95703 4.39844C2.67969 4.39844 3.21094 4.22656 3.47656 3.96094C3.73828 3.69531 3.83984 3.41016 3.83984 3.08203C3.83984 2.75781 3.74609 2.49609 3.55469 2.30078C3.36328 2.10547 3.13281 1.97266 2.86328 1.90625C2.58984 1.83984 2.32031 1.78906 2.05078 1.75391C1.78125 1.71875 1.55469 1.66797 1.36328 1.59375C1.17188 1.52344 1.07812 1.41797 1.07812 1.27344C1.07812 1.01172 1.33203 0.878906 1.83984 0.878906C2.33594 0.878906 2.62891 1.03906 2.71875 1.35938H3.71875C3.69922 0.957031 3.52344 0.628906 3.19531 0.375C2.86719 0.125 2.42969 0 1.87891 0C1.30469 0 0.859375 0.117188 0.546875 0.351562C0.234375 0.589844 0.078125 0.886719 0.078125 1.24219C0.078125 1.52344 0.148438 1.75781 0.285156 1.94531C0.421875 2.13672 0.589844 2.26953 0.796875 2.34766C1 2.42578 1.22266 2.49219 1.46094 2.54688C1.69922 2.60547 1.91797 2.64453 2.125 2.66797C2.53125 2.71484 2.83984 2.84766 2.83984 3.08203C2.83984 3.375 2.55859 3.51953 2 3.51953C1.43359 3.52344 1.10156 3.32422 1 2.92188H0C0.0195312 3.32422 0.203125 3.67188 0.550781 3.96094C0.898438 4.25391 1.36719 4.39844 1.95703 4.39844Z" fill="white"/>\n              <path d="M5.90903 5.92188V3.92188H5.94809C6.2645 4.23828 6.62388 4.39844 7.02622 4.39844C7.54575 4.39844 7.95981 4.21094 8.27622 3.83594C8.59262 3.46094 8.74887 2.91406 8.74887 2.19922C8.74887 1.48438 8.59262 0.941406 8.27622 0.5625C7.95981 0.1875 7.54575 0 7.02622 0C6.7645 0 6.53013 0.0625 6.32309 0.1875C6.11216 0.3125 5.97544 0.421875 5.90903 0.519531H5.86606L5.78794 0.0820312H4.94809V5.92188H5.90903ZM6.827 3.51953C6.24888 3.51953 5.86606 3.05469 5.86606 2.19922C5.86606 1.34375 6.24888 0.878906 6.827 0.878906C7.10434 0.878906 7.33481 0.992188 7.51841 1.22266C7.69809 1.45312 7.78794 1.77734 7.78794 2.19922C7.78794 2.62109 7.69809 2.94531 7.5145 3.17578C7.33091 3.40625 7.10434 3.51953 6.827 3.51953Z" fill="white"/>\n              <path d="M11.2165 3.51953C10.736 3.51953 10.4978 3.35938 10.4978 3.03906C10.4978 2.71875 10.736 2.55859 11.2165 2.55859H12.2556V2.67969C12.2556 2.91016 12.1618 3.10547 11.9704 3.26953C11.779 3.4375 11.5251 3.51953 11.2165 3.51953ZM11.0563 4.39844C11.5915 4.39844 11.9899 4.19922 12.2556 3.80078H12.2946L12.4157 4.32031H13.2165V1.60156C13.2165 1.11328 13.0603 0.726562 12.7517 0.433594C12.4431 0.144531 12.0095 0 11.4548 0C10.9118 0 10.4938 0.125 10.2009 0.378906C9.90791 0.632812 9.73994 0.949219 9.69697 1.32031H10.6579C10.6774 1.20703 10.7595 1.10547 10.8962 1.01562C11.0329 0.925781 11.2087 0.878906 11.4157 0.878906C11.6657 0.878906 11.8688 0.945312 12.0251 1.07812C12.1774 1.21094 12.2556 1.37109 12.2556 1.55859V1.76172H11.2165C10.0876 1.76172 9.53681 2.25 9.53681 3.08203C9.53681 3.89844 10.0759 4.39844 11.0563 4.39844Z" fill="white"/>\n              <path d="M16.2466 4.39844C17.2349 4.39844 17.9185 3.83594 18.1646 2.87891H17.2037C17.0474 3.28516 16.6958 3.51953 16.2466 3.51953C15.5865 3.51953 15.1646 3.05469 15.1646 2.19922C15.1646 1.34375 15.5865 0.878906 16.2466 0.878906C16.6958 0.878906 17.0435 1.11328 17.2037 1.51953H18.1646C17.9185 0.5625 17.2349 0 16.2466 0C15.6372 0 15.1451 0.199219 14.7701 0.59375C14.3912 0.992188 14.2037 1.52734 14.2037 2.19922C14.2037 2.87109 14.3912 3.40625 14.7701 3.80078C15.149 4.19922 15.6412 4.39844 16.2466 4.39844Z" fill="white"/>\n              <path d="M20.9955 4.39844C21.5385 4.39844 21.9564 4.26172 22.2494 3.99219C22.5385 3.72266 22.7299 3.40625 22.8275 3.03906H21.8666C21.7064 3.35938 21.4018 3.51953 20.9525 3.51953C20.6439 3.51953 20.3978 3.42578 20.2143 3.23828C20.0307 3.05469 19.9174 2.8125 19.8744 2.51953H22.9525L22.9955 2.08203C22.9955 1.44531 22.8119 0.941406 22.4486 0.5625C22.0814 0.1875 21.5971 0 20.9955 0C20.351 0 19.8432 0.191406 19.4721 0.578125C19.101 0.964844 18.9135 1.50781 18.9135 2.19922C18.9135 2.89453 19.101 3.43359 19.4721 3.82031C19.8432 4.20703 20.351 4.39844 20.9955 4.39844ZM19.8744 1.83984C19.9682 1.25 20.3393 0.878906 20.9564 0.878906C21.5736 0.878906 21.9603 1.26172 22.0346 1.83984H19.8744Z" fill="white"/>\n            </svg>\n          </span>\n          <span data-i18n-key="shortcut_space">Play/Pause</span>\n        </li>\n        <li class="storyly__keyboard-shortcuts-menu-item" role="menuitem" tabindex="51" aria-label="Escape key for close story">\n          <span class="storyly__keyboard-shortcuts-menu-item-icon">\n            <svg width="14" height="5" viewBox="0 0 14 5" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M2.03125 4.39844C2.52734 4.39844 2.93359 4.27734 3.25 4.03125C3.56641 3.78906 3.78906 3.47266 3.91797 3.08203H2.91797C2.6875 3.39844 2.39453 3.55859 2.03906 3.55859C1.72266 3.55859 1.47266 3.46094 1.28125 3.26172C1.08984 3.06641 0.980469 2.80469 0.960938 2.48047H3.96094L4 2.08203C4 1.49219 3.82031 1 3.46484 0.597656C3.10938 0.199219 2.62109 0 2 0C1.39062 0 0.90625 0.195312 0.542969 0.582031C0.179688 0.972656 0 1.51172 0 2.19922C0 2.89453 0.183594 3.43359 0.546875 3.82031C0.910156 4.20703 1.40625 4.39844 2.03125 4.39844ZM0.960938 1.76172C1.08984 1.18359 1.45703 0.839844 2 0.839844C2.28906 0.839844 2.52344 0.925781 2.70703 1.09766C2.88672 1.26953 2.99609 1.49219 3.03906 1.76172H0.960938Z" fill="white"/>\n              <path d="M6.64031 4.39844C7.21453 4.39844 7.65203 4.28125 7.95281 4.04297C8.25359 3.80469 8.40203 3.5 8.40203 3.12109C8.40203 2.85156 8.34344 2.625 8.22234 2.44141C8.10125 2.25781 7.94891 2.12891 7.76922 2.04688C7.58562 1.96875 7.39031 1.89844 7.17938 1.83594C6.96844 1.77734 6.77313 1.73047 6.59344 1.69922C6.23016 1.64062 5.96063 1.48828 5.96063 1.24219C5.96063 0.972656 6.17547 0.839844 6.60125 0.839844C6.99969 0.84375 7.25359 0.976562 7.35906 1.24219H8.35906C8.19109 0.480469 7.60125 0 6.60125 0C6.09734 0 5.70672 0.117188 5.42547 0.351562C5.14031 0.589844 4.99969 0.886719 4.99969 1.24219C4.99969 1.56641 5.08563 1.82812 5.25359 2.02734C5.42156 2.22656 5.62469 2.36328 5.86688 2.43359C6.10516 2.50781 6.34344 2.56641 6.58172 2.60938C6.82 2.65625 7.02313 2.71875 7.19109 2.79297C7.35906 2.86719 7.44109 2.97656 7.44109 3.12109C7.44109 3.41406 7.17547 3.55859 6.64031 3.55859C6.21453 3.55859 5.92156 3.36719 5.83953 3.08203H4.83953C4.92547 3.48047 5.12078 3.80078 5.42938 4.03906C5.73406 4.27734 6.13641 4.39844 6.64031 4.39844Z" fill="white"/>\n              <path d="M11.2806 4.39844C11.7767 4.39844 12.1869 4.26562 12.5111 4.00391C12.8353 3.74219 13.0541 3.40625 13.1595 3H12.2416C12.0345 3.37109 11.7142 3.55859 11.2806 3.55859C10.9564 3.55859 10.6947 3.44141 10.4955 3.20312C10.2963 2.96484 10.1986 2.63281 10.1986 2.19922C10.1986 1.76562 10.2963 1.43359 10.4955 1.19531C10.6947 0.957031 10.9564 0.839844 11.2806 0.839844C11.7142 0.839844 12.0345 1.02734 12.2416 1.39844H13.1595C13.0541 0.996094 12.8353 0.660156 12.5111 0.394531C12.1869 0.132812 11.7767 0 11.2806 0C10.6713 0 10.1869 0.195312 9.82359 0.582031C9.46031 0.972656 9.28063 1.51172 9.28063 2.19922C9.28063 2.88672 9.46422 3.42578 9.8275 3.8125C10.1908 4.20312 10.6752 4.39844 11.2806 4.39844Z" fill="white"/>\n            </svg>\n          </span>\n          <span data-i18n-key="shortcut_esc">Close story</span>\n        </li>\n        <li class="storyly__keyboard-shortcuts-menu-item" role="menuitem" tabindex="51" aria-label="S Key for Share Story">\n          <span class="storyly__keyboard-shortcuts-menu-item-icon">\n            <svg width="7" height="9" viewBox="0 0 7 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path d="M3.24414 8.10742C4.18945 8.10742 4.91992 7.89258 5.44092 7.46826C5.95654 7.04395 6.21436 6.46924 6.21436 5.74414C6.21436 5.35742 6.13916 5.02441 5.9834 4.74512C5.67725 4.18652 5.16699 3.93408 4.5708 3.73535C3.97461 3.54199 3.35693 3.4292 2.86816 3.27344C2.37402 3.12305 2.03564 2.85449 2.03564 2.44629C2.03564 2.18848 2.1377 1.96826 2.3418 1.78564C2.5459 1.60303 2.86279 1.51172 3.29785 1.51172C4.00146 1.51172 4.42578 1.82324 4.56543 2.44629H6.04785C5.98877 1.7749 5.72021 1.23242 5.24219 0.813477C4.76416 0.399902 4.09814 0.19043 3.24414 0.19043C2.46533 0.19043 1.82617 0.38916 1.31592 0.78125C0.805664 1.17871 0.547852 1.73193 0.547852 2.44629C0.547852 2.85449 0.623047 3.20361 0.778809 3.49902C0.93457 3.79443 1.1333 4.01465 1.38037 4.16504C1.62744 4.31543 1.90137 4.43896 2.19678 4.54102C2.79297 4.73975 3.40527 4.83105 3.89941 4.95996C4.39355 5.09424 4.73193 5.35205 4.73193 5.74414C4.73193 6.3457 4.22705 6.7915 3.24414 6.7915C2.85205 6.7915 2.51904 6.68408 2.25049 6.47461C1.98193 6.26514 1.8208 6.00732 1.76172 5.69043H0.273926C0.327637 6.4585 0.628418 7.05469 1.18164 7.47363C1.72949 7.89795 2.41699 8.10742 3.24414 8.10742Z" fill="white"/>\n            </svg>\n          </span>\n          <span data-i18n-key="shortcut_share">Share story link</span>\n        </li>\n      </ul>\n    </div>\n  '};exports.default=t;
},{}],"ttcm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){return'\n\t<div class="storyly__story-modal">\n\t\t<div class="storyly__story-modal-header">\n\t\t\t<div class="storyly__story-modal-header-close-icon">\n\t\t\t\t<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M12.5899 3.41108C12.9153 3.73652 12.9153 4.26418 12.5899 4.58962L4.58962 12.5899C4.26418 12.9153 3.73652 12.9153 3.41108 12.5899C3.08563 12.2644 3.08563 11.7368 3.41108 11.4113L11.4113 3.41108C11.7368 3.08563 12.2644 3.08563 12.5899 3.41108Z" fill="#616161"/>\n\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M3.41108 3.41108C3.73652 3.08563 4.26418 3.08563 4.58962 3.41108L12.5899 11.4113C12.9153 11.7368 12.9153 12.2644 12.5899 12.5899C12.2644 12.9153 11.7368 12.9153 11.4113 12.5899L3.41108 4.58962C3.08563 4.26418 3.08563 3.73652 3.41108 3.41108Z" fill="#616161"/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="storyly__story-modal-body"></div>\n\t\t<div class="storyly__story-modal-footer"></div>\n\t</div>'};exports.default=t;
},{}],"b3z1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("@babel/runtime/helpers/asyncToGenerator")),t=l(require("@babel/runtime/helpers/classCallCheck")),s=l(require("@babel/runtime/helpers/createClass")),a=l(require("@babel/runtime/regenerator")),i=require("../../lib/util"),r=l(require("./template"));function l(e){return e&&e.__esModule?e:{default:e}}require("./style.scss");var n=function(){function l(e){var s=e.groupsOverlay,a=e.getActiveGroup;(0,t.default)(this,l),this.groupsOverlay_=s,this.active_=!1,this.getActiveGroup_=a,this.overlay_=this.groupsOverlay_.querySelector(".storyly__story-group-overlay"),this.attachCallbacksToElement_(),this.storyObserver_(this.storyObserverCallback_)}return(0,s.default)(l,[{key:"attachCallbacksToElement_",value:function(){this.handlePlayStatus_=this.handlePlayStatus_.bind(this),this.toggle=this.toggle.bind(this),this.activate_=this.activate_.bind(this),this.deactivate_=this.deactivate_.bind(this),this.storyObserverCallback_=this.storyObserverCallback_.bind(this),this.storyObserver_=this.storyObserver_.bind(this)}},{key:"init_",value:function(){this.active_||(this.modal_=(0,i.generateHtmlFromTemplate)((0,r.default)()),this.closeIcon_=this.modal_.querySelector(".storyly__story-modal-header-close-icon"),this.closeIcon_.addEventListener("click",this.toggle))}},{key:"activate_",value:function(e,t){var s=this;if(e&&t){this.init_(),this.modal_.children[1].appendChild(e),this.modal_.lastElementChild.appendChild(t),setTimeout(function(){return s.modal_.classList.add("active")},0),this.overlay_.classList.add("active");var a=this.groupsOverlay_.querySelector(".swiper");a.insertBefore(this.modal_,a.firstChild),this.active_=!0}}},{key:"deactivate_",value:function(){this.modal_.classList.remove("active"),this.overlay_.classList.remove("active"),this.groupsOverlay_.querySelector(".swiper").removeChild(this.modal_),this.active_=!1}},{key:"toggle",value:function(e,t,s){var a;s?this.rerender_(e,t):null!==(a=this.modal_)&&void 0!==a&&a.classList.contains("active")?this.deactivate_():this.activate_(e,t),this.handlePlayStatus_()}},{key:"rerender_",value:function(){var t=(0,e.default)(a.default.mark(function e(t,s){var i,r;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=this.modal_.children[1].firstElementChild,r=this.modal_.lastElementChild.firstElementChild,i.replaceWith(t),r.replaceWith(s);case 4:case"end":return e.stop()}},e,this)}));return function(e,s){return t.apply(this,arguments)}}()},{key:"handlePlayStatus_",value:function(){var e=this.getActiveGroup_().instance.getActiveStory(),t=this.overlay_.classList.contains("active");t&&!e.instance.getProgressPausedStatus()?e.instance.playAndPauseStory():!t&&e.instance.getProgressPausedStatus()&&e.instance.playAndPauseStory()}},{key:"storyObserver_",value:function(e){new MutationObserver(e).observe(this.groupsOverlay_,{attributes:!0})}},{key:"storyObserverCallback_",value:function(e){var t=this;e.forEach(function(e){var s=e.type,a=e.attributeName,i=e.target;"attributes"===s&&"class"===a&&!i.classList.contains("active")&&t.active_&&t.deactivate_()})}}]),l}(),o=n;exports.default=o;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/regenerator":"PMvg","../../lib/util":"PesM","./template":"ttcm","./style.scss":"WCGv"}],"ajqo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=p(require("@babel/runtime/helpers/slicedToArray")),t=p(require("@babel/runtime/helpers/classCallCheck")),r=p(require("@babel/runtime/helpers/createClass")),n=p(require("./Group")),o=require("../../lib/style"),a=require("../../lib/util"),i=p(require("./templates/navigationButtons")),s=p(require("./templates/keyboardShortcuts")),u=require("../../constants/events"),l=require("../../lib/icons"),c=p(require("../../components/Modal")),d=p(require("../../lib/proxy"));function p(e){return e&&e.__esModule?e:{default:e}}var y=function(){function p(e,r,n){(0,t.default)(this,p),this.groupsOverlay_=e,this.instanceId_=n;var o=d.default.getNodeByInstanceId(this.instanceId_).getDataFromGlobal().globalInstanceData;this.globalInstanceData=o,this.getActiveGroup_=r,this.storyGroupActionListeners_()}return(0,r.default)(p,[{key:"setGroupInstance",value:function(e,t){return new n.default(e,t,this.instanceId_)}},{key:"storyGroupActionListeners_",value:function(){var t=this,r=this.renderActionsContainer_(),n=this.renderCloseButton_(),o=this.renderKeyboardShortcuts_(),i=(0,e.default)(o,3),s=i[0],l=i[1],c=i[2],d=this.renderStoryGroupButtonNavigation_(),p=(0,e.default)(d,2),y=p[0],v=p[1];r.append(s,n,l);var h=function(){var e=t.getActiveGroup_().instance.getActiveStory(),n=r.classList.contains("active");n&&!e.instance.getProgressPausedStatus()?e.instance.playAndPauseStory():!n&&e.instance.getProgressPausedStatus()&&e.instance.playAndPauseStory()},_=function(){r.classList.remove("active"),c.classList.remove("active"),h()};n.addEventListener("click",function(e){e.preventDefault(),_(),(0,a.createAndDispatchEvent)(t.groupsOverlay_,"onCloseGroup",{gesture:u.GestureTypes.Icon})}),y.addEventListener("click",function(){(0,a.createAndDispatchEvent)(t.groupsOverlay_,"onPrevGroup",{gesture:u.GestureTypes.Button})}),v.addEventListener("click",function(){(0,a.createAndDispatchEvent)(t.groupsOverlay_,"onNextGroup",{gesture:u.GestureTypes.Button})}),s.addEventListener("click",function(e){e.preventDefault(),r.classList.toggle("active"),h(),c.classList.toggle("active"),c.classList.contains("active")?(l.setAttribute("aria-hidden","false"),l.removeAttribute("tabindex")):(l.setAttribute("aria-hidden","true"),l.setAttribute("tabindex","-1"))}),c.addEventListener("click",function(e){e.preventDefault(),_(),t.modal_&&t.modal_.toggle()}),this.groupsOverlay_.addEventListener("onModalOpen",function(e){var r=e.detail;return t.handleModal_(r.body,r.footer,r.rerender)})}},{key:"renderActionsContainer_",value:function(){var e=document.createElement("div");return e.classList.add("storyly__action-container"),this.groupsOverlay_.querySelector(".swiper").appendChild(e),e}},{key:"renderKeyboardShortcuts_",value:function(){var e=document.createElement("button");(0,a.setAttribute)(e,"tabindex","50"),(0,a.setAttribute)(e,"aria-label","Keyboard Shortcuts"),(0,a.setAttribute)(e,"aria-haspopup","menu"),(0,a.setAttribute)(e,"aria-controls","storyly__keyboard-shortcuts-menu"),e.classList.add("icon","keyboard-shortcut");var t=(0,a.generateHtmlFromTemplate)((0,s.default)());return this.overlay_=document.createElement("div"),(0,o.setClass)(this.overlay_,"storyly__story-group-overlay"),this.groupsOverlay_.querySelector(".swiper").appendChild(this.overlay_),[e,t,this.overlay_]}},{key:"renderCloseButton_",value:function(){var e=document.createElement("button");return(0,a.setAttribute)(e,"tabindex","55"),(0,a.setAttribute)(e,"aria-label","Close Story"),(0,a.setAttribute)(e,"id","storyly__close-story-button"),e.classList.add("icon","close","close-story"),e}},{key:"renderStoryGroupButtonNavigation_",value:function(){this.prevStoryGroupButtonContainer_=(0,a.generateHtmlFromTemplate)((0,i.default)("prev")),this.nextStoryGroupButtonContainer_=(0,a.generateHtmlFromTemplate)((0,i.default)("next"));var e=this.prevStoryGroupButtonContainer_.querySelector(".story-group-navigation-button-container"),t=this.nextStoryGroupButtonContainer_.querySelector(".story-group-navigation-button-container"),r=this.groupsOverlay_.querySelector(".swiper");return r.appendChild(this.prevStoryGroupButtonContainer_),r.appendChild(this.nextStoryGroupButtonContainer_),[e,t]}},{key:"handleModal_",value:function(e,t,r){this.modal_||(this.modal_=new c.default({groupsOverlay:this.groupsOverlay_,getActiveGroup:this.getActiveGroup_})),this.modal_.toggle(e,t,r)}},{key:"handleStoryGroupButton_",value:function(e,t){var r=this.globalInstanceData.shareParams.playMode;if(t&&!r){e.querySelector(".story-group-title").firstElementChild.innerHTML=t.title;var n=e.querySelector(".story-group-cover-image").firstElementChild;n.src=t.icon_image_url,n.onerror=function(){n.src=l.userPropImage},(0,o.setStyle)(e,["display","flex"])}else(0,o.setStyle)(e,["display","none"])}},{key:"handleStoryGroupNavigationButtons",value:function(e,t){var r,n,o=null!==(r=e[t+1])&&void 0!==r&&r.ad?e[t+2]:e[t+1],a=null!==(n=e[t-1])&&void 0!==n&&n.ad?e[t-2]:e[t-1];this.handleStoryGroupButton_(this.prevStoryGroupButtonContainer_,a),this.handleStoryGroupButton_(this.nextStoryGroupButtonContainer_,o)}}]),p}(),v=y;exports.default=v;
},{"@babel/runtime/helpers/slicedToArray":"HETk","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","./Group":"wvHA","../../lib/style":"vgU2","../../lib/util":"PesM","./templates/navigationButtons":"u7Oq","./templates/keyboardShortcuts":"KwS7","../../constants/events":"d0lR","../../lib/icons":"irwm","../../components/Modal":"b3z1","../../lib/proxy":"qmVm"}],"k65U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=require("../../../lib/icons"),a=function(){var a,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{story:{}},i=e.story,t=e.type,o=e.mediaHost,d=e.thumbnail,c=e.altText,r=e.storyBg,s="".concat(o).concat(i.image_path);return"image_url"in i&&(s=i.image_url),"video"===t&&(s="".concat(o).concat(i.video_path),"video_url"in i&&(s=i.video_url),d&&(a="".concat(o).concat(d))),'\n     <div class="storyly__story" aria-hidden="true" aria-label="'.concat(c?"".concat(c.replace(/['"]+/g,"")):"there is no story alt text",'" style="background: ').concat(r.bg_color,'">\n      ').concat(t?'\n        <div class="story-bg" tabindex="-1" aria-hidden="true">\n          '.concat("video"===t?'\n            <video\n              muted\n              onloadedmetadata="this.muted = true"\n              disablePictureInPicture\n              controlsList="nodownload"\n              playsinline\n              webkit-playsinline\n              class="story-video"\n              '.concat(a?'poster="'.concat(a,'"'):"",'\n              preload="none"\n            >\n              <source data-src="').concat(s,'" src="').concat(s,'" type="video/mp4">\n            </video>\n          '):'\n            <img src="'.concat(s,'" loading="lazy" class="story-image" alt="Storyly Story Image" />\n          '),'\n        </div>\n        <div class="share-container">\n          <div class="share-wrapper">\n            <div class="share-header">\n              <h6 data-i18n-key="share_via"></h6>\n              <button aria-hidden="true" aria-label="Close" class="icon close-share">\n                ').concat((0,n.xIcon)("#fff"),'\n              </button>\n            </div>\n            <div class="get-link">\n              <div class="share-icon">\n                <button aria-label="Share" tabindex="-1" aria-hidden="true" class="icon">\n                  ').concat((0,n.copyLinkIcon)(),'\n                </button>\n              </div>\n              <p tabindex="-1" data-i18n-key="share_get_link" aria-hidden="true">Get Link</p>\n              </div>\n            <div class="download-media">\n              <div class="download-icon">\n                <button aria-label="Download" id="download_media" tabindex="-1" aria-hidden="true" class="icon download"></button>\n              </div>\n              <p tabindex="-1" data-i18n-key="download_media" aria-hidden="true">Download Media</p>\n            </div>\n          </div>\n        </div>\n        <p class="copied" aria-hidden="true">\n          <button tabindex="-1" aria-hidden="true" class="icon check"></button>\n          <span data-i18n-key="share_link_copied">Link Copied</span>\n        </p>\n      '):"","\n    </div>\n  ")};exports.default=a;
},{"../../../lib/icons":"irwm"}],"eUG5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=B(require("@babel/runtime/helpers/defineProperty")),t=B(require("@babel/runtime/helpers/asyncToGenerator")),s=B(require("@babel/runtime/helpers/classCallCheck")),i=B(require("@babel/runtime/helpers/createClass")),a=B(require("@babel/runtime/regenerator")),r=B(require("platform")),o=B(require("../../../constants/os")),n=B(require("../../../constants/browsers")),l=require("../../../constants/layerTypes"),d=require("../../../lib/style"),h=require("../../../lib/util"),y=B(require("../templates/story")),u=require("../../../constants/events"),c=B(require("../../../constants/directions")),_=B(require("../../../lib/storage")),p=require("../../../service"),v=B(require("../../../lib/proxy")),m=B(require("../../../layers/BlankStory")),b=B(require("../../../layers/ImageCTA")),A=B(require("../../../layers/CTA")),f=B(require("../../../layers/Poll")),g=B(require("../../../layers/Rating")),P=B(require("../../../layers/Emoji")),D=B(require("../../../layers/Quiz")),S=B(require("../../../layers/Countdown")),T=B(require("../../../layers/Question")),E=B(require("../../../layers/Media")),L=B(require("../../../layers/ProductCard")),k=B(require("../../../layers/ProductCatalog")),C=B(require("../../../layers/ProductTag")),I=B(require("../../../layers/PromoCode")),q=B(require("../../../layers/ImageQuiz")),w=B(require("../../../layers/Text")),O=B(require("../../../components/VideoSeekBar")),x=B(require("../../../service/HlsPlayer")),V=B(require("../../../components/ShareWidget"));function B(e){return e&&e.__esModule?e:{default:e}}function G(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,i)}return s}function W(t){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{};s%2?G(Object(i),!0).forEach(function(s){(0,e.default)(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}var M=function(){function e(t){var i,a=t.story,o=t.key,n=t.group,l=t.storiesContainer,y=t.progressDoms,u=t.instanceId;(0,s.default)(this,e),this.storyDom_=null,this.layersContainer_=document.createElement("div"),this.story_=a,this.storyData_={},this.layers_=[],this.group_=n,this.key_=o,this.storiesContainer_=l,this.progressDoms_=new Proxy(y,[]),this.storyProgressSecond_=7,this.progressPaused_=!0,this.imageAsset_=null,this.videoAsset_=null,this.videoAssetLoadingStarted_=!1,this.storyProgressRemain_=this.storyProgressSecond_,this.progressTime_=0,this.osFamily_=null===(i=r.default.os)||void 0===i||null===(i=i.family)||void 0===i?void 0:i.toLocaleLowerCase(),this.isBlankStory_=!1,this.imageAssetLoaded_=!1,this.instanceId_=u,this.timedLayers_=[],(0,d.setClass)(this.layersContainer_,"layers-container"),(0,h.setAttribute)(this.layersContainer_,"dir",c.default.LTR),this.attachCallbacksToElement_(),this.render_()}return(0,i.default)(e,[{key:"paused",get:function(){return this.progressPaused_}},{key:"attachCallbacksToElement_",value:function(){this.onVideoLoadedData_=this.onVideoLoadedData_.bind(this),this.onVideoEnded_=this.onVideoEnded_.bind(this),this.onVideoWaiting_=this.onVideoWaiting_.bind(this),this.onVideoPlaying_=this.onVideoPlaying_.bind(this),this.handleSoundStory_=this.handleSoundStory_.bind(this),this.playAndPauseStory=this.playAndPauseStory.bind(this),this.handleCloseGroup_=this.handleCloseGroup_.bind(this),this.renderShareWidget=this.renderShareWidget.bind(this),this.onImageLoad_=this.onImageLoad_.bind(this),this.handleAccessibilityOnOff_=this.handleAccessibilityOnOff_.bind(this),this.handleLayersVisibility_=this.handleLayersVisibility_.bind(this)}},{key:"setCustomEvents_",value:function(){this.storyDom_.addEventListener("onPlayPause",this.playAndPauseStory)}},{key:"render_",value:function(){var e=(0,h.getStoryAssetFromLayers)(this.story_.media.layers),t=e.storyData,s=e.layers,i=e.storyBg;this.storyData_=t,this.layers_=s;var a=(0,y.default)({story:this.storyData_,type:this.storyData_.type,mediaHost:this.group_.media_host,thumbnail:this.story_.media.thumbnail_url,altText:this.story_.alt_text,storyBg:i});if(this.storyDom_=(0,h.generateHtmlFromTemplate)(a),this.storyDom_.appendChild(this.layersContainer_),this.storyDom_.setAttribute("data-story-id",this.story_.story_id),this.storiesContainer_.appendChild(this.storyDom_),this.loadLayers_(),"video"===this.storyData_.type)this.videoAsset_=this.storyDom_.querySelector("video"),this.handleVideoEvents_();else if(this.isBlankStory_){if(this.isBlankStory_){var r=this.storyDom_.querySelector(".story-image");(0,d.setStyle)(r,["opacity","0"])}}else this.imageAsset_=this.storyDom_.querySelector("img"),this.imageAsset_.addEventListener("load",this.onImageLoad_,{once:!0});var o=v.default.getNodeByInstanceId(this.instanceId_).getDataFromGlobal().globalInstanceData;this.globalInstanceData=o,this.setCustomEvents_(),(0,h.createAndDispatchEvent)(this.storyDom_,"onI18nEvent",{wrapperDom:this.storyDom_})}},{key:"onImageLoad_",value:function(){if(!this.imageAssetLoaded_){this.handleProgressBar_(),this.imageAssetLoaded_=!0;var e=this.imageAsset_,t=e.clientHeight,s=e.clientWidth;this.setStoryClassByAsset_({height:t,width:s})}}},{key:"setStoryClassByAsset_",value:function(e){var t=e.width;+(56.25*e.height/t).toFixed(2)<100&&(0,d.setClass)(this.storyDom_,"story-9_16")}},{key:"handleVideoEvents_",value:function(){this.videoAsset_.addEventListener("loadedmetadata",this.onVideoLoadedData_),this.videoAsset_.addEventListener("ended",this.onVideoEnded_),this.videoAsset_.addEventListener("waiting",this.onVideoWaiting_),this.videoAsset_.addEventListener("playing",this.onVideoPlaying_)}},{key:"onVideoLoadedData_",value:function(){this.videoAssetLoaded_=!0,this.setStoryClassByAsset_({height:this.videoAsset_.videoHeight,width:this.videoAsset_.videoWidth}),this.storyProgressRemain_=this.videoAsset_.duration,this.storyProgressSecond_=this.videoAsset_.duration,this.videoAsset_.duration>=120&&!(0,h.isLiveVideo)(this.storyData_.video_type)&&(this.videoSeekbar_=new O.default({storyDom:this.storyDom_,videoDom:this.videoAsset_,layers:this.timedLayers_,playPauseStory:this.playAndPauseStory.bind(this),setProgressTime:this.setProgressTime.bind(this),instanceId:this.instanceId_}),this.videoAsset_.addEventListener("seeking",this.handleLayersVisibility_)),this.videoAsset_.addEventListener("timeupdate",this.handleLayersVisibility_)}},{key:"onVideoEnded_",value:function(){this.globalInstanceData.accessibility||(0,h.createAndDispatchEvent)(this.storyDom_,"onNextStory",{gesture:u.GestureTypes.Progress})}},{key:"onVideoWaiting_",value:function(){this.progressPaused_=!0}},{key:"onVideoPlaying_",value:function(){this.videoAssetLoaded_&&(this.soundOn_?this.soundOn():this.soundOff(),this.progressPaused_=!1,this.handleProgressBar_())}},{key:"removeEvents_",value:function(){var e=this.storiesContainer_.querySelector(".storyly__story-actions"),t=e.querySelector('button[data-type="sound"]'),s=e.querySelector('button[data-type="share"]');this.playPauseAction_&&(0,h.removeClickEventListener)(this.playPauseAction_,this.playAndPauseStory),this.accessibilityAction_&&this.accessibilityAction_.removeEventListener("pointerdown",this.handleAccessibilityOnOff_),(0,h.removeClickEventListener)(t,this.handleSoundStory_),s.removeEventListener("pointerup",this.renderShareWidget)}},{key:"onVideoShown_",value:function(){var e=(0,t.default)(a.default.mark(function e(){var t,s,i=this;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.videoAsset_.querySelector("source"),s=this.videoAsset_.querySelector("source").dataset.src,!(0,h.isLiveVideo)(this.storyData_.video_type)){e.next=8;break}return e.next=5,(0,x.default)({source:s,tag:this.videoAsset_,thumbnail:this.storyData_.thumbnail_url});case 5:this.hls_=e.sent,e.next=10;break;case 8:t.src=s,this.videoAsset_.load();case 10:this.videoPausedPromise_?this.videoPausedPromise_.then(function(){i.videoPlayedPromise_=i.videoAsset_.play()}):this.videoPlayedPromise_=this.videoAsset_.play();case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"loadLayers_",value:function(){var e=this;this.layers_.forEach(function(){var s=(0,t.default)(a.default.mark(function t(s){var i,r;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=s,r={layer:s,group:e.group_,story:e.story_,storyDom:e.layersContainer_,instanceId:e.instanceId_},s.type===l.LayerTemplateTypes.IMAGE&&(s.bg_color||s.gradient_colors)&&(e.isBlankStory_=!0,i.instance=new m.default(W({},r))),s.type===l.LayerTemplateTypes.EMOJI&&(i.instance=new P.default(W({},r))),s.type===l.LayerTemplateTypes.POLL&&(i.instance=new f.default(W({},r))),s.type===l.LayerTemplateTypes.RATING&&(i.instance=new g.default(W({},r))),s.type===l.LayerTemplateTypes.QUIZ&&(i.instance=new D.default(W({},r))),s.type===l.LayerTemplateTypes.COUNTDOWN&&(i.instance=new S.default(W({},r))),s.type===l.LayerTemplateTypes.IMAGE_CTA&&(i.instance=new b.default(W(W({},r),{},{type:l.LayerTemplateTypes.IMAGE_CTA}))),s.type!==l.LayerTemplateTypes.BUTTON&&s.type!==l.LayerTemplateTypes.SWIPE||(i.instance=new A.default(W(W({},r),{},{type:s.type===l.LayerTemplateTypes.BUTTON?l.LayerTemplateTypes.BUTTON:l.LayerTemplateTypes.SWIPE}))),s.type===l.LayerTemplateTypes.IMAGE&&(s.image_path||s.video_path||s.image_url)&&(i.instance=new E.default(W(W({},r),{},{mediaHost:e.group_.media_host}))),s.type===l.LayerTemplateTypes.TEXT&&(i.instance=new w.default(W({},r))),s.type===l.LayerTemplateTypes.PRODUCT_TAG&&(i.instance=new C.default(W({},r))),s.type===l.LayerTemplateTypes.PROMO_CODE&&(i.instance=new I.default(W({},r))),s.type===l.LayerTemplateTypes.QUESTION&&(i.instance=new T.default(W(W({},r),{},{storiesContainer:e.storiesContainer_}))),s.type===l.LayerTemplateTypes.PRODUCT_CARD&&(i.instance=new L.default(W({},r))),s.type===l.LayerTemplateTypes.PRODUCT_CATALOG&&(i.instance=new k.default(W({},r))),s.type===l.LayerTemplateTypes.IMAGE_QUIZ&&(i.instance=new q.default(W({},r))),(i.start_time||i.end_time)&&(i.instance.hideLayer(),e.timedLayers_.push(i));case 19:case"end":return t.stop()}},t)}));return function(e){return s.apply(this,arguments)}}())}},{key:"handleProgressBar_",value:function(){var e=this;if((!this.globalInstanceData.storylyEmbed.init||this.globalInstanceData.storylyEmbed.autoPlay)&&!this.progressInterval_){this.progressCount_=0;var t=this.progressDoms_[this.key_].querySelector("span");if((0,h.isLiveVideo)(this.storyData_.video_type))return this.progressCount_=100,void(0,d.setStyle)(t,["width","".concat(this.progressCount_,"%")]);this.progressInterval_=setInterval(function(){e.progressPaused_||(e.progressTime_+=.1,e.storyProgressRemain_-=.1,e.videoAsset_?e.play():(e.handleLayersVisibility_(),e.handleProgress_()),e.progressCount_=100*e.progressTime_/e.storyProgressSecond_,e.progressCount_<=100&&(0,d.setStyle)(t,["width","".concat(e.progressCount_,"%")]))},100)}}},{key:"handleLayersVisibility_",value:function(){var e=this;if(!this.progressPaused_||this.videoAsset_){var t=1e3*(this.videoAsset_?this.videoAsset_.currentTime:this.progressTime_);this.timedLayers_.forEach(function(s){var i=s.start_time?1e3*s.start_time-300:0,a=s.end_time?1e3*s.end_time:e.videoAsset_?1e3*e.videoAsset_.duration:1e3*e.storyProgressSecond_;t>=i&&t<=a?s.instance.showLayer():s.instance.hideLayer()})}}},{key:"handleProgress_",value:function(){this.storyProgressRemain_<=0&&!this.globalInstanceData.accessibility&&((0,h.createAndDispatchEvent)(this.storyDom_,"onNextStory",{gesture:u.GestureTypes.Progress}),clearInterval(this.progressInterval_))}},{key:"handleStoryActions_",value:function(){var e=this.storiesContainer_.querySelector(".storyly__story-actions"),t=e.querySelector('button[data-type="sound"]'),s=e.querySelector('button[data-type="share"]');this.playPauseAction_=e.querySelector('button[data-type="play-pause"]'),(0,h.isMobileView)()?((0,h.setAttribute)(this.playPauseAction_,"hidden",!0),this.accessibilityAction_=this.storiesContainer_.querySelector(".accessibility-switch-button"),this.accessibilityAction_&&this.accessibilityAction_.addEventListener("pointerdown",this.handleAccessibilityOnOff_)):(0,h.removeAttribute)(this.playPauseAction_,"hidden");var i=e.querySelector('button[data-type="close"]');(this.globalInstanceData.storylyEmbed.init&&this.globalInstanceData.storylyEmbed.closeButton||(0,h.isMobileView)())&&((0,h.removeAttribute)(i,"hidden"),(0,h.setClickEventListener)(i,this.handleCloseGroup_)),this.playPauseAction_.classList.replace("play","pause"),(0,h.setClickEventListener)(this.playPauseAction_,this.playAndPauseStory),this.videoAsset_?((0,h.removeAttribute)(t,"hidden"),(0,h.setClickEventListener)(t,this.handleSoundStory_)):(0,h.setAttribute)(t,"hidden",!0),!this.globalInstanceData.videoMuted&&this.videoAsset_?(this.videoAsset_.muted=!1,this.soundOn_=!0,t.classList.replace("sound-off","sound-on")):this.videoAsset_&&(this.videoAsset_.muted=!0,this.soundOn_=!1,t.classList.replace("sound-on","sound-off"));var a=this.story_.is_sharable,r=this.globalInstanceData.storylyEmbed.init&&this.globalInstanceData.storylyEmbed.shareButton;a&&!r?this.handleShareButton_(s):a&&r&&this.handleShareButton_(s)}},{key:"handleShareButton_",value:function(e){var t,s=null===(t=r.default.name)||void 0===t?void 0:t.toLocaleLowerCase();this.osFamily_===o.default.IOS||s===n.default.SAFARI?e.classList.add("share-ios"):e.classList.add("share-android"),(0,h.removeAttribute)(e,"hidden"),e.addEventListener("pointerup",this.renderShareWidget)}},{key:"handleCloseGroup_",value:function(){(0,h.createAndDispatchEvent)(this.storyDom_,"onCloseGroup")}},{key:"handleSoundStory_",value:function(e){var t=e.target,s="sound-on",i="sound-off";t.classList.contains("sound-off")?((0,p.readAccessibilityText)(this.storyDom_,"Story Unmuted"),t.setAttribute("aria-label","mute story"),this.soundOn_=!0,this.soundOn(),this.globalInstanceData.videoMuted=!1):((0,p.readAccessibilityText)(this.storyDom_,"Story Muted"),t.setAttribute("aria-label","unmute story"),this.soundOn_=!1,this.soundOff(),s="sound-off",i="sound-on",this.globalInstanceData.videoMuted=!0),t.classList.replace(i,s)}},{key:"handleAccessibilityAltText_",value:function(){if((0,h.setAttribute)(this.storyDom_,"tabindex","20"),(0,h.setAttribute)(this.storyDom_,"aria-hidden","false"),this.osFamily_===o.default.IOS){var e=this.storiesContainer_.querySelector(".storyly__sg-info");(0,h.setAttribute)(e,"aria-hidden","false"),(0,h.setAttribute)(e,"aria-label",this.story_.alt_text||"there is no story alt text"),(0,h.removeAttribute)(this.storyDom_,"aria-label")}this.globalInstanceData.accessibility&&this.accessibilityAction_&&(0,h.setAttribute)(this.accessibilityAction_,"aria-label","Disable Accessibility")}},{key:"handleAccessibilityFocus_",value:function(){var e=this;!(0,h.isMobileView)()||!this.globalInstanceData.storiesHasAltText||this.osFamily_===o.default.IOS&&this.globalInstanceData.accessibility||(this.globalInstanceData.accessibility?setTimeout(function(){e.storyDom_.focus()},500):(this.accessibilityAction_.blur(),setTimeout(function(){e.accessibilityAction_.focus()},500)))}},{key:"exposeAccessibilityElements_",value:function(){this.storyDom_.querySelectorAll(".cta-button").forEach(function(e){(0,h.setAttribute)(e,"tabindex","21"),(0,h.setAttribute)(e,"aria-hidden","false")}),this.storyDom_.querySelectorAll(".swipe-up-button").forEach(function(e){(0,h.setAttribute)(e,"tabindex","21"),(0,h.setAttribute)(e,"aria-hidden","false")}),this.storyDom_.querySelectorAll(".product-tag-tooltip").forEach(function(e){(0,h.setAttribute)(e,"tabindex","21"),(0,h.setAttribute)(e,"aria-hidden","false")}),this.storyDom_.querySelectorAll(".poll-component").forEach(function(e){e.querySelectorAll("button").forEach(function(e){return(0,h.setAttribute)(e,"tabindex","22")}),(0,h.setAttribute)(e,"tabindex","22"),(0,h.setAttribute)(e,"aria-hidden","false")})}},{key:"hideAccessibilityElements_",value:function(){this.storyDom_.querySelectorAll(".cta-button").forEach(function(e){(0,h.removeAttribute)(e,"tabindex"),(0,h.setAttribute)(e,"aria-hidden","true")}),this.storyDom_.querySelectorAll(".swipe-up-button").forEach(function(e){(0,h.removeAttribute)(e,"tabindex"),(0,h.setAttribute)(e,"aria-hidden","true")}),this.storyDom_.querySelectorAll(".product-tag-tooltip").forEach(function(e){(0,h.removeAttribute)(e,"tabindex"),(0,h.setAttribute)(e,"aria-hidden","true")}),this.storyDom_.querySelectorAll(".poll-component").forEach(function(e){e.querySelectorAll("button").forEach(function(e){return(0,h.removeAttribute)(e,"tabindex")}),(0,h.removeAttribute)(e,"tabindex"),(0,h.setAttribute)(e,"aria-hidden","true")})}},{key:"handleAccessibilityOnOff_",value:function(e){var t=e.target,s="true"===t.getAttribute("data-pressed");e.target.setAttribute("data-pressed",String(!s)),this.globalInstanceData.accessibility?(this.storyDom_.hasAttribute("paused")?this.play():this.handleProgressBar_(),(0,p.readAccessibilityText)(this.storyDom_,"Accessibility is off"),t.setAttribute("aria-label","Double tap to enable accessibility"),_.default.setItemToGlobal("accessibilitiy",!1),this.globalInstanceData.accessibility=!1,(0,h.createAndDispatchEvent)(this.storyDom_,"onAccessibilityTriggered",{accessibilityEnabled:!1})):(this.globalInstanceData.accessibility=!0,(0,p.readAccessibilityText)(this.storyDom_,"Accessibility is on"),this.pause(),t.setAttribute("aria-label","Disable Accessibility"),_.default.setItemToGlobal("accessibilitiy",!0),(0,h.createAndDispatchEvent)(this.storyDom_,"onAccessibilityTriggered",{accessibilityEnabled:!0}))}},{key:"sendStoryViewedEvent_",value:function(){var e=W({},this.getStoryData());(0,h.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:u.CustomerEventTypes.onStoryViewed,params:e})}},{key:"renderShareWidget",value:function(){var e=(0,t.default)(a.default.mark(function e(){var t,s=arguments;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:u.GestureTypes.Icon,e.next=3,(0,V.default)({dom:this.storyDom_,group:this.group_,story:this.story_,pause:this.pause.bind(this),play:this.play.bind(this),gesture:t});case 3:this.shareWidget_=e.sent;case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"soundOn",value:function(){this.videoAsset_.muted=!1}},{key:"soundOff",value:function(){this.videoAsset_.muted=!0}},{key:"pause",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.shareWidget_&&this.shareWidget_.hide(),this.progressPaused_=!0,this.storyDom_.setAttribute("paused",""),this.videoAsset_&&(this.videoPlayedPromise_?this.videoPlayedPromise_.then(function(){e.videoPausedPromise_=e.videoAsset_.pause()}):this.videoPausedPromise_=this.videoAsset_.pause())}},{key:"play",value:function(){var e=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.playPauseAction_.classList.contains("play")&&this.playPauseAction_.classList.replace("play","pause"),this.progressPaused_=!1,this.storyDom_.removeAttribute("paused"),this.videoAsset_&&(this.videoPausedPromise_?this.videoPausedPromise_.then(function(){e.videoPlayedPromise_=e.videoAsset_.play()}):this.videoPlayedPromise_=this.videoAsset_.play())}},{key:"playAndPauseStory",value:function(){if(!this.globalInstanceData.accessibility){var e="play",t="pause";this.playPauseAction_.classList.contains("pause")?((0,p.readAccessibilityText)(this.storyDom_,"Story Paused"),this.pause(),(0,h.createAndDispatchEvent)(this.storyDom_,"onPlayPauseEvent",{eventType:u.EventTypes.Paused})):((0,p.readAccessibilityText)(this.storyDom_,"Story Resumed"),this.playPauseAction_.setAttribute("aria-label","Pause Story"),this.play(),(0,h.createAndDispatchEvent)(this.storyDom_,"onPlayPauseEvent",{eventType:u.EventTypes.Resumed}),e="pause",t="play"),this.playPauseAction_.classList.replace(t,e)}}},{key:"pauseByTouch",value:function(){this.pause(),(0,d.setStyle)(this.storiesContainer_.querySelector(".storyly__story-header"),["opacity",0])}},{key:"playAfterTouch",value:function(){(0,d.setStyle)(this.storiesContainer_.querySelector(".storyly__story-header"),["opacity",1]),this.play(),clearInterval(this.touchTimeout)}},{key:"playByEmbed",value:function(){var e=this;this.videoAsset_?this.videoPausedPromise_?this.videoPausedPromise_.then(function(){e.videoPlayedPromise_=e.videoAsset_.play()}):this.videoPlayedPromise_=this.videoAsset_.play():this.handleProgressBar_()}},{key:"handleStoryTitleOnChange_",value:function(){var e=this.story_.title;e&&(this.storiesContainer_.querySelector(".storyly__sg-info h4").textContent=e)}},{key:"show",value:function(){this.storyDom_.setAttribute("show",""),this.handleStoryActions_(),this.handleStoryTitleOnChange_(),this.exposeAccessibilityElements_(),this.handleAccessibilityAltText_(),this.progressPaused_=!1,this.storyProgressRemain_=this.storyProgressSecond_,this.progressTime_=0,(0,d.removeClass)(this.progressDoms_[this.key_],"seen"),this.videoAsset_?this.onVideoShown_():(this.isBlankStory_||this.imageAssetLoaded_)&&this.handleProgressBar_(),this.globalInstanceData.storylyEmbed.init&&!this.globalInstanceData.storylyEmbed.autoPlay&&(0,d.setStyle)(this.progressDoms_[this.key_].querySelector("span"),["width","100%"]),this.globalInstanceData.accessibility&&this.playPauseAction_&&(0,d.setStyle)(this.playPauseAction_,["display","none"]),(0,d.setClass)(this.progressDoms_[this.key_],"active"),(0,d.setClass)(this.storyDom_,"active"),this.sendStoryViewedEvent_(),this.handleAccessibilityFocus_()}},{key:"hide",value:function(){var e,t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=s.isBack,a=void 0!==i&&i,r=s.holdActive,o=void 0!==r&&r;this.storyDom_.removeAttribute("show"),this.storyDom_.hasAttribute("paused")&&this.storyDom_.removeAttribute("paused"),this.videoSeekbar_&&this.videoSeekbar_.hide(),(0,h.setAttribute)(this.storyDom_,"aria-hidden","true"),(0,h.setAttribute)(this.storyDom_,"tabindex","-1"),this.hideAccessibilityElements_(),clearInterval(this.progressInterval_),clearInterval(this.startInterval_),this.progressInterval_=null,this.startInterval_=null,this.progressStarted_=!1,this.videoAsset_&&(this.videoAsset_.currentTime=0,this.videoPlayedPromise_?this.videoPlayedPromise_.then(function(){t.videoPausedPromise_=t.videoAsset_.pause()}):this.videoPausedPromise_=this.videoAsset_.pause(),this.videoAsset_.querySelector("source").src="",this.videoAsset_.load()),this.removeEvents_(),this.progressPaused_=!0,(0,d.removeClass)(this.progressDoms_[this.key_],"active"),o||(0,d.removeClass)(this.storyDom_,"active"),(0,d.resetStyle)(this.progressDoms_[this.key_].querySelector("span"),["transition","width"]),a?(0,d.removeClass)(this.progressDoms_[this.key_],"seen"):(0,d.setClass)(this.progressDoms_[this.key_],"seen"),null===(e=this.shareWidget_)||void 0===e||e.hide(),this.timedLayers_.forEach(function(e){return e.instance.hideLayer()})}},{key:"getWatchLength",value:function(){var e=this.storyProgressRemain_<0?0:Math.floor(this.storyProgressRemain_);return 1e3*(this.storyProgressSecond_-e)}},{key:"getProgressPausedStatus",value:function(){return this.progressPaused_}},{key:"getStoryData",value:function(){var e="".concat(this.group_.media_host).concat(this.storyData_.image_path);return"video"===this.storyData_.type&&(e="".concat(this.group_.media_host).concat(this.storyData_.video_path)),{story_id:this.story_.story_id,media:e,group:this.group_,index:this.key_}}},{key:"sendStoryClickedEvent",value:function(e,t){var s=W(W({},this.getStoryData()),{},{gesture_type:(0,h.getGestureType)(e)});(0,h.createAndDispatchEvent)(this.storyDom_,"onCustomerEvent",{eventName:"next"===t?u.CustomerEventTypes.onNextStory:u.CustomerEventTypes.onPreviousStory,params:s})}},{key:"setKey",value:function(e){this.key_=e}},{key:"setProgressTime",value:function(e){this.progressTime_=+e.toFixed(1)}}]),e}(),R=M;exports.default=R;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/regenerator":"PMvg","platform":"kohK","../../../constants/os":"Ms5h","../../../constants/browsers":"ev02","../../../constants/layerTypes":"aJRz","../../../lib/style":"vgU2","../../../lib/util":"PesM","../templates/story":"k65U","../../../constants/events":"d0lR","../../../constants/directions":"w67G","../../../lib/storage":"NA5d","../../../service":"hs1C","../../../lib/proxy":"qmVm","../../../layers/BlankStory":"ODzA","../../../layers/ImageCTA":"J7D7","../../../layers/CTA":"lS5I","../../../layers/Poll":"fJSh","../../../layers/Rating":"raea","../../../layers/Emoji":"GGza","../../../layers/Quiz":"lrR5","../../../layers/Countdown":"YoYr","../../../layers/Question":"KeqT","../../../layers/Media":"VEUS","../../../layers/ProductCard":"ldNI","../../../layers/ProductCatalog":"rFjg","../../../layers/ProductTag":"cjPL","../../../layers/PromoCode":"N5Sp","../../../layers/ImageQuiz":"Mxyn","../../../layers/Text":"youg","../../../components/VideoSeekBar":"WHTK","../../../service/HlsPlayer":"LJ77","../../../components/ShareWidget":"YKVc"}],"R5lM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../lib/util"),n=new URLSearchParams(window.location.search),o=function(o,a,e){var i=o.title,s=o.icon_image_url,r=o.ad;return'\n  <div class="storyly__story-header">\n    <div class="storyly__story-info">\n      <div\n        role="text"\n        aria-hidden="true"\n        style="\n          font-family: '.concat((0,t.getFontFamily)({font:"Storyly-Inter",instanceId:a}),";\n          ").concat(n.get("storylyMail")||e.inboxStory?"visibility: hidden":"",'\n        "\n        class="storyly__sg-info"\n        title="').concat(i.length>25?i:"",'">\n        ').concat(r?'<div class="ad-group-icon"></div>':"<img src=".concat(s,' aria-hidden="true" alt="Story Group Icon" />'),"\n          <h4>").concat(i,'</h4>\n      </div>\n      <div class="storyly__story-actions">\n        <button type="button" aria-label="Share Story" tabindex="30" data-type="share" class="action icon" hidden></button>\n        <button type="button" aria-label="Mute Story" tabindex="35" data-type="sound" class="action icon sound-off" hidden></button>\n        <button type="button" aria-label="Pause Story" tabindex="40" data-type="play-pause" class="action icon pause" hidden></button>\n        <button type="button" id="storyly__close-story-button" aria-label="Close Story" tabindex="45" class="action icon close" data-type="close" hidden></button>\n      </div>\n    </div>\n  </div>\n')};exports.default=o;
},{"../../../lib/util":"PesM"}],"YcfY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=g(require("@babel/runtime/helpers/defineProperty")),t=g(require("@babel/runtime/helpers/asyncToGenerator")),r=g(require("@babel/runtime/helpers/classCallCheck")),s=g(require("@babel/runtime/helpers/createClass")),i=g(require("@babel/runtime/regenerator")),o=g(require("../Story")),n=g(require("../../../components/BottomSheet")),a=g(require("../../../components/StoryCart")),l=g(require("../../../constants/playmode")),h=require("../../../lib/style"),d=require("../../../lib/util"),u=g(require("../../../lib/storage")),c=g(require("../templates/storyHeader")),p=g(require("../templates/storyProgress")),y=require("../../../lib/icons"),_=require("../../../constants/events"),v=g(require("../../../lib/proxy"));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function b(t){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?m(Object(s),!0).forEach(function(r){(0,e.default)(t,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):m(Object(s)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))})}return t}var I=function(){function e(t,s,i){(0,r.default)(this,e),this.group_=t,this.key_=s,this.storyInstances_=[],this.progressDoms_=[],this.activeStoryIndex_=0,this.lastSeenStoryIndex_=0,this.playable_=!0,this.loadded_=!1,this.groupWrapper_=null,this.stories_=this.group_.stories,this.instanceId_=i,this.attachCallbacksToElement_(),u.default.setInstanceId(this.instanceId_),this.handleConditionalStories()}return(0,s.default)(e,[{key:"attachCallbacksToElement_",value:function(){this.nextStory=this.nextStory.bind(this),this.prevStory=this.prevStory.bind(this),this.hide=this.hide.bind(this),this.handleClickEmbedPlay_=this.handleClickEmbedPlay_.bind(this)}},{key:"render",value:function(){this.groupWrapper_=document.createElement("div"),(0,h.setClass)(this.groupWrapper_,["storyly__story-group","swiper-slide"]),(0,d.setAttribute)(this.groupWrapper_,"aria-hidden","true"),(0,d.setAttribute)(this.groupWrapper_,"role","presentation"),this.playable_&&(0,d.setAttribute)(this.groupWrapper_,"playable",this.playable_),this.groupWrapper_.dataset.id=this.group_.group_id,this.storiesContainer_=document.createElement("div"),(0,h.setClass)(this.storiesContainer_,"storyly__stories-container"),this.groupWrapper_.appendChild(this.storiesContainer_);var e=v.default.getNodeByInstanceId(this.instanceId_).getDataFromGlobal().globalInstanceData;return this.globalInstanceData=e,this.globalInstanceData.storylyEmbed.init&&this.renderEmbedAssets_(),this.renderBottomSheet_(),this.renderProductCart_(),Promise.resolve(this.groupWrapper_)}},{key:"handleConditionalStories",value:function(e){var t=this,r=u.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_componentsData"),s=[];return this.stories_.forEach(function(e){e.conditions?e.conditions.every(function(e){return e.some(function(e){var t=r[e.i];return void 0!==t&&t===+e.r.p})})&&s.push(e):s.push(e)}),e&&s.forEach(function(e,r){-1===t.group_.stories.findIndex(function(t){return t.story_id===e.story_id})&&t.createStoryAndProgress_(e,r)}),this.group_.stories=s,Promise.resolve(s)}},{key:"createStoryAndProgress_",value:function(e,t){var r=(0,d.generateHtmlFromTemplate)((0,p.default)()),s=this.storiesContainer_.querySelector(".progress-wrapper"),i=new o.default({story:e,key:t,group:this.group_,storiesContainer:this.storiesContainer_,progressDoms:this.progressDoms_,instanceId:this.instanceId_});this.storyInstances_.splice(t,0,i),this.storyInstances_.forEach(function(e,t){return e.setKey(t)}),this.activeStoryIndex_>=t&&(this.activeStoryIndex_+=1,(0,h.setClass)(r,"seen")),s.querySelectorAll(".progress")[t]?0===t?s.querySelectorAll(".progress")[t].before(r):s.querySelectorAll(".progress")[t-1].after(r):s.appendChild(r),this.progressDoms_.splice(t,0,r),this.renderStories_()}},{key:"renderProductCart_",value:function(){var e=(0,t.default)(i.default.mark(function e(){return i.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,d.getProductLayers)(this.group_).length&&(this.storyCart=new a.default({instanceId:this.instanceId_,parentDom:this.groupWrapper_}));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderBottomSheet_",value:function(){var e=this;this.bottomSheet_=new n.default({parentDom:this.groupWrapper_,instanceId:this.instanceId_}),this.groupWrapper_.addEventListener("onBottomSheetOpen",function(t){var r=t.detail;e.bottomSheet_.activate(r.body,r.footer,r.rerender)})}},{key:"renderEmbedAssets_",value:function(){this.playable_=!1,this.embedContainer_=document.createElement("div");var e=(0,d.generateHtmlFromTemplate)(y.embedPlayIcon),t=(0,d.generateHtmlFromTemplate)(y.embedRePlayIcon);t.classList.add("re-play-icon"),e.classList.add("play-icon"),(0,h.setClass)(this.embedContainer_,["storyly__embed-play-container","play"]),this.embedContainer_.appendChild(e),this.embedContainer_.appendChild(t),(0,d.setClickEventListener)(this.embedContainer_,this.handleClickEmbedPlay_),(0,d.stopEventBubbling)(this.embedContainer_,"click"),(0,d.stopEventBubbling)(this.embedContainer_,"pointerdown"),(0,d.stopEventBubbling)(this.embedContainer_,"pointerup"),(0,d.stopEventBubbling)(this.embedContainer_,"pointermove"),this.groupWrapper_.appendChild(this.embedContainer_)}},{key:"handleClickEmbedPlay_",value:function(){this.playable_=!0,this.globalInstanceData.storylyEmbed.canPlay=!0,(0,d.removeAttribute)(this.groupWrapper_,"playable"),(0,d.removeAttribute)(this.groupWrapper_,"replay"),this.storyInstances_[this.activeStoryIndex_].playByEmbed()}},{key:"handleEmbedReplay_",value:function(){var e=this.storyInstances_[this.activeStoryIndex_];this.playable_=!1,(0,d.setAttribute)(this.groupWrapper_,"playable",this.playable_),(0,d.setAttribute)(this.groupWrapper_,"replay",this.playable_),e.hide({isBack:!0}),this.activeStoryIndex_=0,this.loadState_(),this.progressDoms_.forEach(function(e){(0,h.removeClass)(e,"seen")}),this.globalInstanceData.storylyEmbed.canPlay=!1,this.show()}},{key:"renderStoryHeader_",value:function(){var e,t=(0,d.generateHtmlFromTemplate)((0,c.default)(this.group_,this.instanceId_,this.globalInstanceData));null===(e=this.storiesContainer_.querySelector(".storyly__story-header"))||void 0===e||e.remove(),this.storiesContainer_.prepend(t),(0,d.stopEventBubbling)(t),(0,d.isMobileView)()&&((0,d.stopEventBubbling)(t,this.globalInstanceData.storylyEmbed.init?"pointerdown":"touchstart"),(0,d.stopEventBubbling)(t,this.globalInstanceData.storylyEmbed.init?"pointerup":"touchend"),(0,d.stopEventBubbling)(t,"touchmove")),this.renderProgressLines_(t)}},{key:"renderAccessibilityButton_",value:function(){if(this.globalInstanceData.storiesHasAltText&&(0,d.isMobileView)()){var e=this.globalInstanceData.accessibility,t=document.createElement("button");t.classList.add("accessibility-switch-button"),t.setAttribute("data-pressed",e),t.ariaLabel=e?"Disable accessibility":"Double tap to enable accessibility";var r=(0,d.generateHtmlFromTemplate)(y.accessibilityIcon);t.appendChild(r),(0,d.stopEventBubbling)(t,"touchstart"),(0,d.stopEventBubbling)(t,"touchend"),this.storiesContainer_.prepend(t)}}},{key:"renderProgressLines_",value:function(e){var t=document.createElement("div");(0,h.setClass)(t,"progress-wrapper");for(var r=this.group_.stories.length,s=0;s<r;s+=1){var i=(0,d.generateHtmlFromTemplate)((0,p.default)());s<this.activeStoryIndex_&&(0,h.setClass)(i,"seen"),t.appendChild(i),this.progressDoms_.push(i)}e.prepend(t)}},{key:"prevStory",value:function(){var e=this;if(this.playable_)if(this.globalInstanceData.shareParams.playMode!==l.default.STORY||this.globalInstanceData.shareParams.group.group_id!==this.group_.group_id){var t=this.storyInstances_[this.activeStoryIndex_];if(0===this.activeStoryIndex_)return(0,d.createAndDispatchEvent)(this.groupWrapper_,"onPrevGroup"),void(0!==this.key_&&t.hide({holdActive:!0,isBack:!0}));t.hide({isBack:!0}),this.bottomSheet_.deactivate(),this.storyState_().remove(),this.activeStoryIndex_-=1,this.lastSeenStoryIndex_=this.activeStoryIndex_,this.renderStories_().then(function(){e.storyInstances_[e.activeStoryIndex_].show(),(0,d.createAndDispatchEvent)(e.groupWrapper_,"onStoryImpression")})}else(0,d.createAndDispatchEvent)(this.groupWrapper_,"onCloseGroup")}},{key:"nextStory",value:function(e,t){var r=this;if(this.playable_)if(this.globalInstanceData.shareParams.playMode!==l.default.STORY||this.globalInstanceData.shareParams.group.group_id!==this.group_.group_id){var s=this.storyInstances_[this.activeStoryIndex_];if(this.group_.stories.length-1===this.activeStoryIndex_)return this.globalInstanceData.storylyEmbed.init?void this.handleEmbedReplay_():(this.storyState_().add(),(0,d.createAndDispatchEvent)(this.groupWrapper_,"onNextGroup",{gesture:t}),void s.hide({isBack:!0}));this.bottomSheet_.deactivate(),s.hide(),this.activeStoryIndex_+=1,this.lastSeenStoryIndex_=this.activeStoryIndex_,this.storyState_().add(),this.renderStories_().then(function(){r.storyInstances_[r.activeStoryIndex_].show(),(0,d.createAndDispatchEvent)(r.groupWrapper_,"onStoryImpression"),(0,d.createAndDispatchEvent)(r.groupWrapper_,"onStoryComplete")})}else(0,d.createAndDispatchEvent)(this.groupWrapper_,"onCloseGroup")}},{key:"renderStories_",value:function(){var e,t=this;if(0===(null!==(e=this.group_.stories)&&void 0!==e?e:[]).length)return Promise.reject();var r=this.activeStoryIndex_-1,s=this.activeStoryIndex_+1,i=this.activeStoryIndex_,n=this.group_.stories.length-1,a=[];return r>=0&&!this.storyInstances_[r]&&a.push({story:this.group_.stories[r],key:r}),i>=0&&!this.storyInstances_[i]&&a.push({story:this.group_.stories[i],key:i}),s<=n&&!this.storyInstances_[s]&&a.push({story:this.group_.stories[s],key:s}),a.forEach(function(e){var r=e.story,s=e.key;t.storyInstances_[s]=new o.default({story:r,key:s,group:t.group_,storiesContainer:t.storiesContainer_,progressDoms:t.progressDoms_,instanceId:t.instanceId_})}),(0,h.setClass)(this.storyInstances_[this.activeStoryIndex_].storyDom_,"active"),Promise.resolve()}},{key:"loadState_",value:function(){var e=this.storyState_().get();this.activeStoryIndex_=e}},{key:"storyState_",value:function(){var e=this,t=this.group_.group_id;return{add:function(){var r,s=u.default.getItemFromInstance("Storyly_story-state"),i=e.group_.stories[e.activeStoryIndex_];(null===(r=s[t])||void 0===r?void 0:r.some(function(e){return e.storyId===i.story_id}))||(s[t]?s[t].push({storyIndex:e.activeStoryIndex_,storyId:i.story_id,time:Date.now()}):s[t]=[{storyIndex:e.activeStoryIndex_,storyId:i.story_id,time:Date.now()}],u.default.setItemToInstance("Storyly_story-state",s))},remove:function(r){var s,i=u.default.getItemFromInstance("Storyly_story-state"),o=e.group_.stories[e.activeStoryIndex_].story_id;r&&(o=r);var n=null===(s=i[t])||void 0===s?void 0:s.filter(function(e){return e.storyId!==o});i[t]=null!=n?n:{},u.default.setItemToInstance("Storyly_story-state",i)},get:function(){var r=b({},u.default.getItemFromInstance("Storyly_story-state")||{}),s=0;if(r[t]){var i,o=!0,n=r[t].map(function(e){return e.storyId});return e.group_.stories.forEach(function(e,t){"number"!=typeof i?n.includes(e.story_id)||(i=t,o=!1):o=!1}),o?0:(s=i)>=0?s:(n.forEach(function(t){var r=e.group_.stories.findIndex(function(e){return e.story_id===t});r>=0?s=r:e.storyState_().remove(t)}),s)}return s}}}},{key:"handleProgressBarByParameters_",value:function(e){for(var t=this.progressDoms_.length,r=0;r<t;r+=1)r<e?(0,h.setClass)(this.progressDoms_[r],"seen"):(0,h.removeClass)(this.progressDoms_[r],"seen")}},{key:"sendGroupViewedEvent_",value:function(){var e=b({},this.group_);(0,d.createAndDispatchEvent)(this.groupWrapper_,"onCustomerEvent",{eventName:_.CustomerEventTypes.onStoryGroupViewed,params:e})}},{key:"show",value:function(){var e;this.sendGroupViewedEvent_(),this.storyInstances_[this.activeStoryIndex_].show(),this.storyState_().add(),null===(e=this.storyCart)||void 0===e||e.refresh()}},{key:"load",value:function(){this.loadded_||(this.loadState_(),this.storyInstances_=[],this.progressDoms_=[],this.renderStoryHeader_(),this.renderStories_(),this.renderAccessibilityButton_(),this.loadded_=!0)}},{key:"loadByParameters",value:function(e){this.load(),(0,h.removeClass)(this.storyInstances_[this.activeStoryIndex_].storyDom_,"active"),this.activeStoryIndex_=e,this.loadedByParameters_=!0;var t=this.group_.stories[e].story_id;this.storiesContainer_.querySelector('[data-story-id="'.concat(t,'"]'))||(this.storyInstances_[e]=new o.default({story:this.group_.stories[e],key:e,group:this.group_,storiesContainer:this.storiesContainer_,progressDoms:this.progressDoms_,instanceId:this.instanceId_})),this.handleProgressBarByParameters_(e)}},{key:"unLoad",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).holdActive,t=void 0!==e&&e,r=this.group_.stories.length-1===this.activeStoryIndex_;this.storyInstances_[this.activeStoryIndex_].hide({holdActive:!r&&!this.loadedByParameters_&&t}),this.bottomSheet_.deactivate(),this.loadedByParameters_&&(this.loadState_(),this.loadedByParameters_=!1,this.handleProgressBarByParameters_(this.activeStoryIndex_)),r&&(this.activeStoryIndex_=0,this.storyInstances_[0]||(this.storyInstances_[0]=new o.default({story:this.group_.stories[0],key:0,group:this.group_,storiesContainer:this.storiesContainer_,progressDoms:this.progressDoms_,instanceId:this.instanceId_})),this.progressDoms_.forEach(function(e){(0,h.removeClass)(e,"seen")}))}},{key:"hide",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).holdActive,t=void 0!==e&&e;this.unLoad({holdActive:t}),this.globalInstanceData.shareParams={}}},{key:"getActiveStory",value:function(){var e,t=this.storyInstances_[this.activeStoryIndex_];return b(b({},null!==(e=this.group_.stories[this.activeStoryIndex_])&&void 0!==e?e:{}),{},{storyIndex:this.activeStoryIndex_,instance:t})}},{key:"getPrevStory",value:function(){var e,t=this.storyInstances_[this.activeStoryIndex_-1];return b(b({},null!==(e=this.group_.stories[this.activeStoryIndex_-1])&&void 0!==e?e:{}),{},{instance:t})}},{key:"setKey",value:function(e){this.key_=e}},{key:"isAllStoriesSeen",value:function(){return this.group_.stories.length-1===this.lastSeenStoryIndex_}},{key:"sendGroupClickedEvent",value:function(e,t){var r=b(b({},this.group_),{},{gesture_type:(0,d.getGestureType)(e)});(0,d.createAndDispatchEvent)(this.groupWrapper_,"onCustomerEvent",{eventName:"next"===t?_.CustomerEventTypes.onNextStoryGroup:_.CustomerEventTypes.onPreviousStoryGroup,params:r})}}]),e}(),f=I;exports.default=f;
},{"@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/regenerator":"PMvg","../Story":"eUG5","../../../components/BottomSheet":"l2Mf","../../../components/StoryCart":"TJeL","../../../constants/playmode":"Ooqf","../../../lib/style":"vgU2","../../../lib/util":"PesM","../../../lib/storage":"NA5d","../templates/storyHeader":"R5lM","../templates/storyProgress":"vAQQ","../../../lib/icons":"irwm","../../../constants/events":"d0lR","../../../lib/proxy":"qmVm"}],"egGP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("@babel/runtime/helpers/classCallCheck")),e=o(require("@babel/runtime/helpers/createClass")),n=o(require("../../constants/directions")),r=require("../../lib/util"),i=o(require("./Group"));require("../../layers/base");var a=o(require("../../lib/proxy"));function o(t){return t&&t.__esModule?t:{default:t}}var s=function(){function o(e,n){(0,t.default)(this,o),this.groupsOverlay_=e,this.instanceId_=n;var r=a.default.getNodeByInstanceId(n).getDataFromGlobal().globalInstanceData;this.globalInstanceData=r,this.globalInstanceData.storylyEmbed.init||this.renderGroupActions_(),this.renderGroupNavigations_=this.renderGroupNavigations_.bind(this),this.groupsOverlay_.addEventListener("onAccessibilityTriggered",this.renderGroupNavigations_)}return(0,e.default)(o,[{key:"setGroupInstance",value:function(t,e){return new i.default(t,e,this.instanceId_)}},{key:"renderGroupActions_",value:function(){var t=this,e=document.createElement("button");(0,r.setAttribute)(e,"aria-label","Close"),e.classList.add("storyly__mobile-view-close-story"),e.tabIndex="50",e.setAttribute("direction",this.globalInstanceData.direction),this.groupsOverlay_.appendChild(e),(0,r.stopEventBubbling)(e,"touchstart"),(0,r.setClickEventListener)(e,function(){(0,r.createAndDispatchEvent)(t.groupsOverlay_,"onCloseGroup")}),this.renderGroupNavigations_()}},{key:"renderGroupNavigations_",value:function(t){var e,i=(0,r.isMobileView)(),a=this.globalInstanceData,o=a.accessibility,s=a.direction,l=null!==(e=null==t?void 0:t.detail)&&void 0!==e?e:{},u=l.videoSeekbarEnabled,c=l.accessibilityEnabled,d=this.groupsOverlay_.querySelector(".storyly__group-container");if(!t||c||u){var b='\n        <div class="navigation-buttons show" style="'.concat(i&&!o&&!u||!i&&(o||u)?"display: none":"",'">\n          <div class="navigate-button prev-button">\n            <button aria-label="Previous story in a current group" tabindex="5"></button>\n          </div>\n          <div class="navigate-button next-button">\n            <button aria-label="Next story in a current group" tabindex="25"></button>\n          </div>\n        </div>\n      '),v=(0,r.generateHtmlFromTemplate)(b),p=v.querySelector(".next-button"),y=v.querySelector(".prev-button");(o||u)&&(v.classList.add("accessibility-navigation-buttons"),(0,r.stopEventBubbling)(p,"touchstart"),(0,r.stopEventBubbling)(p,"touchend"),(0,r.stopEventBubbling)(y,"touchstart"),(0,r.stopEventBubbling)(y,"touchend")),(0,r.setClickEventListener)(p,function(){return(0,r.createAndDispatchEvent)(d,s===n.default.RTL?"onPrevStory":"onNextStory")}),(0,r.setClickEventListener)(y,function(){return(0,r.createAndDispatchEvent)(d,s===n.default.RTL?"onNextStory":"onPrevStory")}),d.appendChild(v)}else{var g=d.querySelector(".navigation-buttons");d.removeChild(g)}}}]),o}(),l=s;exports.default=l;
},{"@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","../../constants/directions":"w67G","../../lib/util":"PesM","./Group":"YcfY","../../layers/base":"skR7","../../lib/proxy":"qmVm"}],"VM1f":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("@babel/runtime/helpers/slicedToArray")),t=u(require("@babel/runtime/helpers/classCallCheck")),s=u(require("@babel/runtime/helpers/createClass")),r=require("../../constants/events"),a=u(require("../../constants/layouts")),o=require("../../lib/style"),n=require("../../lib/util"),i=u(require("../../layouts/Classic/templates/story")),l=u(require("../../lib/proxy"));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function u(e){var s=e.key,r=e.group,a=e.storiesContainer,o=e.progressDoms,n=e.groupWrapper,i=e.instanceId;(0,t.default)(this,u),this.storyDom_=null,this.key_=s,this.storyData_={},this.group_=r,this.storiesContainer_=a,this.progressDoms_=o,this.storyProgressSecond_=7,this.progressPaused_=!0,this.groupWrapper_=n,this.storyProgressRemain_=this.storyProgressSecond_,this.instanceId_=i,this.attachCallbacksToElement_()}return(0,s.default)(u,[{key:"attachCallbacksToElement_",value:function(){this.playAndPauseStory=this.playAndPauseStory.bind(this),this.handleCloseGroup_=this.handleCloseGroup_.bind(this)}},{key:"createAdManagerAds_",value:function(){var t=this;return new Promise(function(s){var r=atob(t.group_.settings.ad_manager_body),a=atob(t.group_.settings.ad_manager_header),o=r.match(/.*?id=("|')(.*?)("|').*?/)[2],i=a.match(/defineSlot\(('|")(.*)('|"),.*\)/),l=(0,e.default)(i,3);t.slotId=l[2],t.newAdId="".concat(o).concat((0,n.randomAlphaNum)(6));var u=document.createElement("div");u.classList.add("storyly-ad-manager");var d=(0,n.randomAlphaNum)(10);u.setAttribute("id",t.newAdId),u.style.setProperty("min-width","300px"),u.style.setProperty("min-height","200px"),setTimeout(function(){u.style.setProperty("margin-left",0,"important")},2e3),u.setAttribute("slot","storyly-ad-manager-".concat(d));var y=document.createElement("slot");y.setAttribute("name","storyly-ad-manager-".concat(d)),t.storyDom_.appendChild(y),document.querySelector("storyly-stories").appendChild(u),window.googletag.cmd.push(function(){window.googletag.defineSlot(t.slotId,[[300,250]],t.newAdId).addService(window.googletag.pubads()),window.googletag.pubads().enableSingleRequest(),window.googletag.enableServices()}),window.googletag.cmd.push(function(){window.googletag.display(t.newAdId)}),t.adsenseObserver_=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&s("filled")})}),t.adsenseObserver_.observe(u,{childList:!0})})}},{key:"createAdsenseAds_",value:function(){var e=this;return new Promise(function(t){window.adsbygoogle||t("unfilled");var s=(0,n.randomAlphaNum)(10),r=document.createElement("ins");r.setAttribute("class","adsbygoogle storyly-adsense"),r.setAttribute("style","\n        display: flex !important;\n        justify-content: center;\n      "),r.setAttribute("data-ad-client",e.group_.settings.ad_pub_id),r.setAttribute("data-ad-slot",e.group_.settings.ad_unit_id);var a=document.createElement("slot");a.setAttribute("name","storyly-adsense-".concat(s)),e.storyDom_.appendChild(a);var i=document.createElement("span");i.setAttribute("slot","storyly-adsense-".concat(s)),i.appendChild(r),(0,o.setClass)(i,"storyly-ad-wrapper"),document.querySelector("storyly-stories").appendChild(i),setTimeout(function(){(adsbygoogle=window.adsbygoogle||[]).push({})},0),e.adsenseObserver_=new MutationObserver(function(e){e.forEach(function(e){"attributes"===e.type&&"data-ad-status"===e.attributeName&&t(e.target.getAttribute(e.attributeName))})}),e.adsenseObserver_.observe(r,{attributes:!0})})}},{key:"removeEvents_",value:function(){this.playPauseAction_.removeEventListener("pointerdown",this.playAndPauseStory)}},{key:"startProgress_",value:function(){var e=this;this.progressInterval_||(this.progressInterval_=setInterval(function(){e.progressPaused_||(e.storyProgressRemain_-=1,e.handleProgress_())},1e3))}},{key:"handleProgress_",value:function(){(0===this.storyProgressRemain_||this.storyProgressRemain_<0)&&((0,n.createAndDispatchEvent)(this.storyDom_,"onNextStory",{gesture:r.GestureTypes.Progress}),clearInterval(this.progressInterval_))}},{key:"handleStoryActions_",value:function(){var e=this.storiesContainer_.querySelector(".storyly__story-actions");if(this.globalInstanceData.layout===a.default.MODERN&&(e=this.groupWrapper_.querySelector(".storyly__story-actions")),this.playPauseAction_=e.querySelector('button[data-type="play-pause"]'),(0,n.isMobileView)()){(0,n.setAttribute)(this.playPauseAction_,"hidden",!0);var t=e.querySelector('button[data-type="close"]');t.addEventListener("pointerdown",this.handleCloseGroup_),(0,n.removeAttribute)(t,"hidden")}else(0,n.removeAttribute)(this.playPauseAction_,"hidden"),this.playPauseAction_.classList.replace("play","pause");this.playPauseAction_.addEventListener("pointerdown",this.playAndPauseStory)}},{key:"handleCloseGroup_",value:function(){(0,n.createAndDispatchEvent)(this.storyDom_,"onCloseGroup")}},{key:"startProgressLine_",value:function(){var e=this,t=0;this.startInterval_=setInterval(function(){e.progressPaused_||(t+=1)>100||(0,o.setStyle)(e.progressDoms_[e.key_].querySelector("span"),["width","".concat(t,"%")])},10*this.storyProgressSecond_)}},{key:"render",value:function(){this.storyDom_=(0,n.generateHtmlFromTemplate)((0,i.default)()),(0,o.setClass)(this.storyDom_,"ad-story"),this.storiesContainer_.appendChild(this.storyDom_);var e=null;this.group_.settings.ad_pub_id&&this.group_.settings.ad_unit_id?e=this.createAdsenseAds_():this.group_.settings.ad_manager_body&&(e=this.createAdManagerAds_());var t=l.default.getNodeByInstanceId(this.instanceId_).getDataFromGlobal().globalInstanceData;return this.globalInstanceData=t,e}},{key:"pause",value:function(){this.progressPaused_=!0}},{key:"play",value:function(){this.progressPaused_=!1}},{key:"playAndPauseStory",value:function(e){var t,s="play",a="pause";e&&(e.gesture&&(t=e.gesture),e.target===this.playPauseAction_&&(t=r.GestureTypes.Icon)),this.playPauseAction_.classList.contains("pause")?(this.pause(),(0,n.createAndDispatchEvent)(this.storyDom_,"onPlayPauseEvent",{gesture:t,eventType:r.EventTypes.Paused})):(this.play(),(0,n.createAndDispatchEvent)(this.storyDom_,"onPlayPauseEvent",{gesture:t,eventType:r.EventTypes.Resumed}),s="pause",a="play"),this.playPauseAction_.classList.replace(a,s)}},{key:"pauseByTouch",value:function(){this.pause(),(0,o.setStyle)(this.storiesContainer_.querySelector(".storyly__story-header"),["opacity",0])}},{key:"playAfterTouch",value:function(){(0,o.setStyle)(this.storiesContainer_.querySelector(".storyly__story-header"),["opacity",1]),this.play(),clearInterval(this.touchTimeout)}},{key:"show",value:function(){this.storyDom_.setAttribute("show",""),this.globalInstanceData.layout===a.default.MODERN&&(0,n.createAndDispatchEvent)(this.storyDom_,"onStoryChange"),this.handleStoryActions_(),this.progressPaused_=!1,this.storyProgressRemain_=this.storyProgressSecond_,(0,o.setClass)(this.storyDom_,"active"),this.startProgressLine_(),this.startProgress_(),(0,o.setClass)(this.progressDoms_[this.key_],"active")}},{key:"hide",value:function(){this.storyDom_.removeAttribute("show"),clearInterval(this.progressInterval_),clearInterval(this.startInterval_),this.progressInterval_=null,this.startInterval_=null,this.removeEvents_(),this.progressPaused_=!0,(0,o.removeClass)(this.progressDoms_[this.key_],"active"),(0,o.removeClass)(this.storyDom_,"active"),(0,o.resetStyle)(this.progressDoms_[this.key_].querySelector("span"),["transition","width"])}},{key:"getWatchLength",value:function(){return 1e3*(this.storyProgressSecond_-this.storyProgressRemain_)}},{key:"getProgressPausedStatus",value:function(){return this.progressPaused_}}]),u}(),y=d;exports.default=y;
},{"@babel/runtime/helpers/slicedToArray":"HETk","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","../../constants/events":"d0lR","../../constants/layouts":"kUgL","../../lib/style":"vgU2","../../lib/util":"PesM","../../layouts/Classic/templates/story":"k65U","../../lib/proxy":"qmVm"}],"R6v9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=y(require("@babel/runtime/helpers/asyncToGenerator")),t=y(require("@babel/runtime/helpers/classCallCheck")),r=y(require("@babel/runtime/helpers/createClass")),s=y(require("@babel/runtime/regenerator")),i=y(require("./AdStory")),n=require("../../lib/style"),o=require("../../lib/util"),a=y(require("../../layouts/Classic/templates/storyHeader")),u=y(require("../../layouts/Classic/templates/storyProgress")),l=y(require("../../layouts/Modern/templates/storyHeader")),d=y(require("../../layouts/Modern/templates/storyProgress")),h=y(require("../../constants/layouts")),p=y(require("../../constants/directions")),c=y(require("../../lib/proxy"));function y(e){return e&&e.__esModule?e:{default:e}}var _=function(){function y(e,r,s,i,n){(0,t.default)(this,y),this.group_=e,this.key_=r,this.storyInstances_=[],this.progressDoms_=[],this.groupOverlay_=s,this.layout_=i,this.activeStoryIndex_=0,this.instanceId_=n,this.attachCallbacksToElement_()}return(0,r.default)(y,[{key:"attachCallbacksToElement_",value:function(){this.nextStory=this.nextStory.bind(this),this.prevStory=this.prevStory.bind(this),this.hide=this.hide.bind(this)}},{key:"setEventListeners_",value:function(){this.storiesContainer_.addEventListener("onNextStory",this.nextStory)}},{key:"renderStoryHeader_",value:function(){var e,t=h.default.MODERN===this.globalInstanceData.layout?l.default:a.default,r=(0,o.generateHtmlFromTemplate)(t(this.group_,this.instanceId_));null===(e=this.storiesContainer_.querySelector(".storyly__story-header"))||void 0===e||e.remove(),this.layout_===h.default.MODERN?this.groupWrapper_.prepend(r):this.storiesContainer_.prepend(r),(0,o.stopEventBubbling)(r),(0,o.isMobileView)()&&((0,o.stopEventBubbling)(r,"touchstart"),(0,o.stopEventBubbling)(r,"touchend")),this.renderProgressLines_(r)}},{key:"renderProgressLines_",value:function(e){var t=document.createElement("div");(0,n.setClass)(t,"progress-wrapper");var r=h.default.MODERN===this.globalInstanceData.layout?d.default:u.default,s=(0,o.generateHtmlFromTemplate)(r());if(t.appendChild(s),this.progressDoms_.push(s),this.layout_===h.default.MODERN){var i=document.createElement("div");(0,n.setClass)(i,"storyly__story-group-progress-bar"),i.appendChild(t),this.groupWrapper_.prepend(i)}else e.prepend(t)}},{key:"renderStory_",value:function(){var t=(0,e.default)(s.default.mark(function e(){var t,r,o,a=this;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new i.default({key:0,group:this.group_,storiesContainer:this.storiesContainer_,progressDoms:this.progressDoms_,groupWrapper:this.groupWrapper_,instandeId:this.instanceId_}),this.storyInstances_.push(t),e.next=4,t.render();case 4:return r=e.sent,this.layout_===h.default.MODERN&&(o=this.globalInstanceData.direction===p.default.RTL?"right":"left",setTimeout(function(){var e=window.innerHeight/100*85*9/16,t=window.outerWidth/2-e/2,r=a.storiesContainer_.querySelector(".ad-story");(0,n.setStyle)(r,[o,"".concat(t,"px")])},100)),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){this.groupWrapper_=document.createElement("div"),(0,n.setClass)(this.groupWrapper_,["storyly__story-group","swiper-slide"]),this.groupWrapper_.dataset.ad=!0,this.storiesContainer_=document.createElement("div"),(0,n.setClass)(this.storiesContainer_,"storyly__stories-container"),this.groupWrapper_.appendChild(this.storiesContainer_),this.groupWrapper_.dataset.id=this.group_.id,this.setEventListeners_();var e=c.default.getNodeByInstanceId(this.instanceId_).getDataFromGlobal().globalInstanceData;return this.globalInstanceData=e,Promise.resolve(this.groupWrapper_)}},{key:"prevStory",value:function(e,t){(0,o.createAndDispatchEvent)(this.groupWrapper_,"onPrevGroup",{gesture:t}),this.storyInstances_[this.activeStoryIndex_].hide({holdActive:!0})}},{key:"nextStory",value:function(e,t){(0,o.createAndDispatchEvent)(this.groupWrapper_,"onNextGroup",{gesture:t}),this.storyInstances_[this.activeStoryIndex_].hide({holdActive:!0})}},{key:"show",value:function(){this.storyInstances_[this.activeStoryIndex_].show()}},{key:"load",value:function(){return this.progressDoms_=[],this.storyInstances_=[],this.renderStoryHeader_(),this.renderStory_()}},{key:"unLoad",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).holdActive,t=void 0!==e&&e;this.storyInstances_[this.activeStoryIndex_].hide({holdActive:t})}},{key:"hide",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).holdActive,t=void 0!==e&&e;(0,n.removeClass)(this.groupOverlay_,"active"),this.unLoad({holdActive:t})}},{key:"getActiveStory",value:function(){return{instance:this.storyInstances_[this.activeStoryIndex_]}}}]),y}(),v=_;exports.default=v;
},{"@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/regenerator":"PMvg","./AdStory":"VM1f","../../lib/style":"vgU2","../../lib/util":"PesM","../../layouts/Classic/templates/storyHeader":"R5lM","../../layouts/Classic/templates/storyProgress":"vAQQ","../../layouts/Modern/templates/storyHeader":"LuBi","../../layouts/Modern/templates/storyProgress":"vAQQ","../../constants/layouts":"kUgL","../../constants/directions":"w67G","../../lib/proxy":"qmVm"}],"wnBO":[function(require,module,exports) {
module.exports={next_stories:"Nächste Stories",previous_stories:"Vorherige Stories",share_get_link:"Link kopieren",share_link_copied:"Link kopiert",share_story:"Story teilen",download_media:"Medien herunterladen",copied:"Kopiert",copy_link:"Link kopieren",countdown_days:"Tage",countdown_minutes:"Minuten",countdown_hours:"Stunden",countdown_seconds:"Sekunden",rating_average_answer:"Durchschnitt Antwort",rating_result_average:"Durchschnitt",keyboard_shortcuts:"Tastenkombinationen",shortcut_next_story:"Nächste Story",shortcut_preview_story:"Vorherige Story",shortcut_space:"Play/Pause",shortcut_esc:"Story schließen",shortcut_share:"Story teilen",added_cart_sucessfully:"Erfolgreich in den Warenkorb gelegt",continue_with_stories:"Weiter mit Stories",go_to_cart:"Zum Warenkorb gehen",add_to_cart:"Zum Warenkorb hinzufügen",share_via:"Teilen über"};
},{}],"W6mp":[function(require,module,exports) {
module.exports={next_stories:"Sıradaki Hikayeler",previous_stories:"Önceki Hikayeler",share_get_link:"Bağlantıyı kopyala",share_link_copied:"Kopyalandı",share_story:"Hikayeyi Paylaş",download_media:"Medyayı indir",copied:"Kopyalandı",copy_link:"Bağlantıyı kopyala",countdown_days:"Gün",countdown_minutes:"Dakika",countdown_hours:"Saat",countdown_seconds:"Saniye",rating_average_answer:"Ortalama Cevap",rating_result_average:"Ortalama",keyboard_shortcuts:"Klavye Kısayolları",shortcut_next_story:"Sıradaki Hikaye",shortcut_preview_story:"Önceki Hikaye",shortcut_space:"Oynat/Durdur",shortcut_esc:"Hikayeyi Kapat",shortcut_share:"Hikayeyi paylaş",added_cart_sucessfully:"Sepetinize başarıyla eklendi",continue_with_stories:"Hikayelere Devam Et",go_to_cart:"Sepete Git",add_to_cart:"Sepete Ekle",share_via:"Paylaş"};
},{}],"TK6j":[function(require,module,exports) {
module.exports={next_stories:"Siguiente historias",previous_stories:"Historias previa",share_get_link:"Copiar link",share_link_copied:"Copiado",share_story:"Compartir historia",download_media:"Descargar medios",copied:"Copiado",copy_link:"Copiar enlace",countdown_days:"Días",countdown_minutes:"Minutos",countdown_hours:"Horas",countdown_seconds:"Segundos",rating_average_answer:"Respuesta Promedio",rating_result_average:"Promedio",keyboard_shortcuts:"Atajos de teclado",shortcut_next_story:"Siguiente historia",shortcut_preview_story:"Historia previa",shortcut_space:"Reproducir/Pausar",shortcut_esc:"Cerrar historia",shortcut_share:"Compartir historia",added_cart_sucessfully:"Agregado al carrito exitosamente",continue_with_stories:"Continuar en los stories",go_to_cart:"Ir al carrito",add_to_cart:"Agregar al carrito",share_via:"Compartir via..."};
},{}],"Jl2B":[function(require,module,exports) {
module.exports={next_stories:"סטורי הבא",previous_stories:"סטורי קודם",share_get_link:"העתק לינק",share_link_copied:"הועתק",share_story:"שתף סטורי",download_media:"הורד מדיה",copied:"הועתק",copy_link:"העתק לינק",countdown_days:"ימים",countdown_minutes:"דקות",countdown_hours:"שעות",countdown_seconds:"שניות",rating_average_answer:"תשובה ממוצעת",rating_result_average:"ממוצע",keyboard_shortcuts:"קיצורי מקלדת",shortcut_next_story:"סטורי הבא",shortcut_preview_story:"סטורי קודם",shortcut_space:"הפעל/השהה",shortcut_esc:"סגור סטורי",shortcut_share:"שתף סטורי",added_cart_sucessfully:"נוסף לעגלה שלך בהצלחה",continue_with_stories:"המשך עם סטוריז",go_to_cart:"לך לעגלה",add_to_cart:"הוסף לעגלה",share_via:"שתף באמצעות..."};
},{}],"UwaE":[function(require,module,exports) {
module.exports={next_stories:"Next Stories",previous_stories:"Previous Stories",share_get_link:"Get link",share_link_copied:"Link Copied",share_story:"Compartilhar Story",download_media:"Download Media",copied:"Copied",copy_link:"Copiar Link",countdown_days:"Days",countdown_minutes:"Minutes",countdown_hours:"Hours",countdown_seconds:"Seconds",rating_average_answer:"Average Answer",rating_result_average:"Average",keyboard_shortcuts:"KEYBOARD SHORTCUTS",shortcut_next_story:"Next story",shortcut_preview_story:"Previous story",shortcut_space:"Play/Pause",shortcut_esc:"Close story",shortcut_share:"Share story link",added_cart_sucessfully:"Adicionado ao carrinho com sucesso",continue_with_stories:"Continuar nos stories",go_to_cart:"Ir para o carrinho",add_to_cart:"Adicionar ao carrinho",share_via:"Compartilhar via…"};
},{}],"sNTB":[function(require,module,exports) {
module.exports={next_stories:"Next Stories",previous_stories:"Previous Stories",share_get_link:"Get link",share_story:"Share Story",share_link_copied:"Link Copied",download_media:"Download Media",copied:"Copied",copy_link:"Copy Link",countdown_days:"Days",countdown_minutes:"Minutes",countdown_hours:"Hours",countdown_seconds:"Seconds",rating_average_answer:"Average Answer",rating_result_average:"Average",keyboard_shortcuts:"KEYBOARD SHORTCUTS",shortcut_next_story:"Next story",shortcut_preview_story:"Previous story",shortcut_space:"Play/Pause",shortcut_esc:"Close story",shortcut_share:"Share story link",added_cart_sucessfully:"Added to your Cart successfully",continue_with_stories:"Continue with Stories",go_to_cart:"Go to Cart",add_to_cart:"Add to Cart",share_via:"Share via…"};
},{}],"Lwlj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=N(require("@babel/runtime/helpers/typeof")),t=N(require("@babel/runtime/helpers/toConsumableArray")),r=N(require("@babel/runtime/helpers/slicedToArray")),n=N(require("@babel/runtime/helpers/asyncToGenerator")),o=N(require("@babel/runtime/helpers/defineProperty")),s=N(require("@babel/runtime/helpers/classCallCheck")),i=N(require("@babel/runtime/helpers/createClass")),a=N(require("@babel/runtime/helpers/inherits")),u=N(require("@babel/runtime/helpers/possibleConstructorReturn")),l=N(require("@babel/runtime/helpers/getPrototypeOf")),d=N(require("@babel/runtime/helpers/wrapNativeSuper")),h=N(require("@babel/runtime/regenerator")),c=require("uuid"),p=N(require("./lib/api")),_=N(require("./lib/storage")),y=require("./lib/style"),v=require("./lib/util"),g=N(require("./constants/playmode"));require("./main.scss");var f=require("./service/custom-story-group-design-impl"),m=require("./constants/common"),S=require("./service"),b=N(require("./constants/layouts")),C=require("./constants/events"),w=N(require("./constants/directions")),I=N(require("./constants/instanceStyleKeys")),E=N(require("./layouts/Modern")),G=N(require("./layouts/Classic")),k=N(require("./constants/barLayouts")),x=N(require("./components/AdGroup")),A=N(require("./lang/de.json")),P=N(require("./lang/tr.json")),D=N(require("./lang/es.json")),T=N(require("./lang/he.json")),L=N(require("./lang/pt.json")),O=N(require("./lang/en.json"));function N(e){return e&&e.__esModule?e:{default:e}}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){(0,o.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function B(e){var t=q();return function(){var r,n=(0,l.default)(e);if(t){var o=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var F=function(o){(0,a.default)(l,o);var u=B(l);function l(){var e;return(0,s.default)(this,l),(e=u.call(this)).groupShadowRoot_=e.attachShadow({mode:"open"}),e.storyShadowRoot_=null,e.groups_=[],e.token_=null,e.externalData_=[],e.uuid_=null,e.sessionId_=null,e.selectedGroup_={},e.storylyOpen_=!1,e.retryCount_=0,e.shareParams_={},e.openStoryParams_=null,e.seenGroups_=[],e.groupCircleNodes_=[],e.hiddenPersonalizedGroupCircleNodes_=[],e.currentGroupIndex_=0,e.adGroups_=[],e.adSettings_={},e.properties_={storyGroupTextColor:"#4A4A4A",storyGroupTextVisibility:!0,storyGroupSize:"72x72",storyGroupBorderRadius:72,storyGroupTextFont:"Storyly-Inter",storyTextFont:"Storyly-Inter",storyGroupAlign:"center",storyGroupMarginHorizontal:10,storyGroupIconBorderColorNotSeen:["#FFCC64","#DC475B","#992DBD"],storyGroupIconBorderColorSeen:["#DBDBDB"],storyGroupTextSize:13,storyGroupTextWeight:"600",storyGroupBorderSize:7,storyGroupTextLineHeight:1.3,storyGroupPinBackgroundColor:"#FFCB00",storyGroupPinBorderColor:"#fdbc59",storyGroupPinIcon:null,storyGroupTextMarginTop:6,storyGroupTextSeenColor:"#333",storyBorderGapSize:3,storyBorderGapColor:"#fff",storyGroupAnimation:{},scrollIndicatorOptions:{indicatorWidth:32,indicatorHeight:32,indicatorBorderRadius:16,indicatorBorderWidth:1,indicatorBorderColor:"#D8D8D8",indicatorBoxBackgroundColor:"#FFFFFF",indicatorDefaultIconsColor:"#000000",indicatorBoxShadow:"none",customLeftIndicator:"",customRightIndicator:"",leftIndicatorMargin:8,rightIndicatorMargin:8},storyGroupProgressBackgroundColor:"rgba(255, 255, 255, 0.5)",storyGroupProgressFillColor:"rgba(255, 255, 255, 1)",storyGroupTitleVisible:!0,storyGroupCoverVisible:!0,storyGroupCloseButtonVisible:!0},e.events_={},e.payload_={app:{bundle:window.location.host,version:"1.5.0"},device:{height:window.innerHeight,unique_id:null,locale:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,width:window.innerWidth,userAgent:navigator.userAgent,is_test:!1},geo:{country:"US",lat:0,long:0},sdk_version:"latest",user:{segments:null},custom_parameter:null,session_id:null,preview_session_id:null,payload:{}},e.swipingDown_={scrollY:0,pageY:0},e.swiperMove_=!1,e.isMobileView_=(0,v.isMobileView)(),e.layout_=b.default.MODERN,e.layoutInstance_=null,e.userConfig_={},e.hasAdblocker_=!1,e.storylyConnected_=!1,e.init_=!1,e.sentry_=new S.SentryImpl,e.documentDir_=document.documentElement.dir||w.default.LTR,e.storylyCheckoutProducts={products:[],price:"",sales_price:"",price_currency:""},e.isStorylyCartActive=!1,e.storylyHydration=[],e.globalInstanceData={shareParams:{},direction:e.documentDir_,accessibility:_.default.getItemFromGlobal("accessibilitiy",!1),storylyEmbed:{},videoMuted:!0},e.storylyWebCss_=null,e.storylyFontCss_=null,e}return(0,i.default)(l,[{key:"connectedCallback",value:function(){var e=this;this.storylyConnected_||(this.attachCallbacksToElement_(),this.renderMainDoms_(),this.adBlockerDetector_(),this.storylyConnected_=!0,this.sentry_.init(),window.addEventListener("resize",function(){e.isMobileView_&&(0,S.calcStorySizeImpl)(e.groupsOverlay_),e.setOverlayVh_()}))}},{key:"attachCallbacksToElement_",value:function(){this.handleNextGroup_=this.handleNextGroup_.bind(this),this.handlePrevGroup_=this.handlePrevGroup_.bind(this),this.handleCloseGroup_=this.handleCloseGroup_.bind(this),this.handleContainerTouchStart_=this.handleContainerTouchStart_.bind(this),this.handleContainerTouchEnd_=this.handleContainerTouchEnd_.bind(this),this.handleContainerTouchMove_=this.handleContainerTouchMove_.bind(this),this.handleNextStory_=this.handleNextStory_.bind(this),this.handlePrevStory_=this.handlePrevStory_.bind(this),this.handleImpressionEvent_=this.handleImpressionEvent_.bind(this),this.handleKeyboard_=this.handleKeyboard_.bind(this),this.handleClickGroup_=this.handleClickGroup_.bind(this),this.handleContextMenu_=this.handleContextMenu_.bind(this),this.getStoryGroupElement_=this.getStoryGroupElement_.bind(this),this.groupObserverCallback_=this.groupObserverCallback_.bind(this),this.handleTabVisibility_=this.handleTabVisibility_.bind(this),this.handleCustomerEvent_=this.handleCustomerEvent_.bind(this),this.handleConditionalEvent_=this.handleConditionalEvent_.bind(this),this.handleI18n_=this.handleI18n_.bind(this)}},{key:"renderMainDoms_",value:function(){this.storyShadowDom_=document.createElement("storyly-stories"),this.storyShadowRoot_=this.storyShadowDom_.attachShadow({mode:"open"}),this.storyShadowDom_.setAttribute("tabindex","-1"),this.storyShadowDom_.setAttribute("role","application"),this.setAttribute("role","application"),this.swiperContainer_=document.createElement("div"),this.swiperWrapper_=document.createElement("div"),this.groupContainer_=document.createElement("div"),this.groupsWrapper_=document.createElement("div"),this.groupsList_=document.createElement("div"),this.groupsOverlay_=document.createElement("div");var e=this.parentElement.parentElement;if("STORYLY-WEB-EMBED"===e.nodeName){e.firstElementChild.appendChild(this.storyShadowDom_),this.globalInstanceData.storylyEmbed={init:!0,autoPlay:e.hasAttribute("autoplay"),closeButton:e.hasAttribute("useClose"),shareButton:e.hasAttribute("useShare"),container:e,canPlay:!1},(0,v.setAttribute)(this.groupsOverlay_,"embed-mode",!0),(0,v.setAttribute)(this.groupsWrapper_,"embed-mode",!0);var t=e.getAttribute("group");this.openStoryParams_=[t]}else document.body.appendChild(this.storyShadowDom_);var r=[w.default.LTR,w.default.RTL].includes(this.documentDir_)?this.documentDir_:w.default.LTR;this.globalInstanceData.direction=r,(0,v.setAttribute)(this.swiperContainer_,"dir",r),(0,v.setAttribute)(this.groupsOverlay_,"direction",r),(0,v.setAttribute)(this.groupsList_,"role","list"),(0,v.setAttribute)(this.groupsOverlay_,"role","dialog"),(0,v.setAttribute)(this.groupsOverlay_,"aria-modal","true"),this.groupsOverlay_.style.visibility="hidden",(0,y.setClass)(this.groupContainer_,"storyly__group-container"),(0,y.setClass)(this.swiperContainer_,"swiper"),(0,y.setClass)(this.swiperWrapper_,"swiper-wrapper"),(0,y.setClass)(this.groupsWrapper_,"storyly__story-groups"),(0,y.setClass)(this.groupsOverlay_,"storyly__groups-overlay"),(0,y.setClass)(this.groupsList_,"storyly__groups-list"),this.groupsWrapper_.appendChild(this.groupsList_),this.swiperContainer_.appendChild(this.swiperWrapper_),this.groupContainer_.appendChild(this.swiperContainer_),this.groupsOverlay_.appendChild(this.groupContainer_),this.storyShadowRoot_.appendChild(this.groupsOverlay_),this.groupShadowRoot_.appendChild(this.groupsWrapper_)}},{key:"init",value:function(e){var t=this;if(!this.init_){this.init_=!0,this.userConfig_=null!=e?e:{};var r=_.default.getItemFromGlobal("Storyly_userConfig");this.userConfigChanged_=JSON.stringify(R(R({},r),{},{props:void 0}))!==JSON.stringify(R(R({},e),{},{props:void 0})),_.default.setItemToGlobal("Storyly_userConfig",this.userConfig_);var o=this.userConfig_,s=o.token,i=o.props,a=o.events,u=o.externalData,l=o.userPropertyData,d=o.customStoryGroupHTML,p=o.presentationData,g=o.layout,f=o.barLayout,m=o.isProductFallbackEnabled,C=void 0===m||m,w=o.isProductCartEnabled,I=o.inboxStory;if(!s)throw new Error("Token not found!");this.token_=s;var E=!p&&(0,v.decodeJwt)(this.token_);this.instanceId_=p?s:E.ins_id,(0,v.setAttribute)(this,"data-storyly-instance-id",this.instanceId_),(0,v.setAttribute)(this.storyShadowDom_,"data-storyly-instance-id",this.instanceId_),this.uuid_=_.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_uuid",!1)||_.default.setInstanceId(this.instanceId_).setItemToInstance("Storyly_uuid",(0,c.v4)(),!1),this.sessionId_=_.default.setInstanceId(this.instanceId_).setItemToInstance("Storyly_session_id",(0,c.v4)(),!1),sessionStorage.removeItem("Storyly__fonts"),this.presentationData_=p,this.externalData_=Array.isArray(u)?u:[],this.isProductFallbackEnabled_=!!C,this.isStorylyCartActive=w;var G=this.globalInstanceData.storylyEmbed.init?b.default.CLASSIC:null==g?void 0:g.toLocaleLowerCase(),x=[b.default.MODERN,b.default.CLASSIC].includes(G);if(this.layout_=x?null==g?void 0:g.toLowerCase():b.default.MODERN,f&&[k.default.CLASSIC,k.default.ENERGIZED].includes(f.view)&&!d){var A,P=320;(null===(A=f.style)||void 0===A?void 0:A.height)>0&&(P=f.style.height<200?200:f.style.height),this.barLayout_=R(R({},f),{},{style:R(R({},null==f?void 0:f.style),{},{height:P})}),(0,y.setStyle)(this.groupsWrapper_,["padding","".concat(.1*this.barLayout_.style.height,"px")]),this.customStoryGroupHTML_=(0,S.barLayoutImpl)(this.barLayout_,this)}this.isMobileView_&&(this.layout_=b.default.CLASSIC),l&&"Object"===Object.getPrototypeOf(l).constructor.name&&!p?this.userPropertyData_=l:this.setPropsByParams_(),this.properties_=R(R(R({},this.properties_),i),{},{scrollIndicatorOptions:R(R({},this.properties_.scrollIndicatorOptions),(null==i?void 0:i.scrollIndicatorOptions)||{})}),d&&(0,v.isStringHTML)(d)&&(this.customStoryGroupHTML_=d,this.properties_.storyGroupAnimation=void 0),this.events_=null!=a?a:{},this.globalInstanceData.events=this.events_,this.globalInstanceData.properties=this.properties_,this.globalInstanceData.presentationData=!!this.presentationData_,this.globalInstanceData.layout=this.layout_,this.globalInstanceData.inboxStory=I,this.globalInstanceData.apiEnv=this.userConfig_.apiEnv,this.sentry_.errorWrapper((0,n.default)(h.default.mark(function e(){return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadInlineStyle_(),e.next=3,t.setLayoutInstance_();case 3:t.setPayload_(),t.buildCallback_(),t.implementEvent_();case 6:case"end":return e.stop()}},e)})))}}},{key:"setPropsByParams_",value:function(){var e=new URLSearchParams(window.location.search),t={},n=e.get("userProps"),o=e.get("customParameter");n&&(n.split(",").forEach(function(e){var n=e.split(":"),o=(0,r.default)(n,2),s=o[0],i=o[1];t["{".concat(s,"}")]=i}),this.userPropertyData_=t);o&&(this.userConfig_=R(R({},this.userConfig_),{},{customParameter:o}))}},{key:"setStorylyBarObserver_",value:function(){var e=this;(0,S.intersectionObserverImpl)(null,function(t){t.forEach(function(t){t.isIntersecting&&(e.isoTopeSorting_=(0,S.isotopeImpl)(e.groupsList_,e.instanceId_),e.setContainerHeight_(),(0,S.renderScrollIndicator)(e.groupsWrapper_,e.properties_),e.isoTopeSorting_.on("arrangeComplete",function(){return setTimeout(function(){return(0,S.renderScrollIndicator)(e.groupsWrapper_,e.properties_)},0)}),setTimeout(function(){return e.sendBarViewEvent_()},100))})}).observe(this)}},{key:"sendBarViewEvent_",value:function(){var e=[],t=[];this.groups_.forEach(function(r){var n=r;r.onView&&!r.viewEventSend&&(e.push(r.group_id),n.viewEventSend=!0),r.onView&&t.push(R(R({},r),{},{instance:void 0}))}),this.barViewed_=!0;var r={sg_ids:e},n={detail:{eventName:C.CustomerEventTypes.onRenderedStoryGroups,params:t}};this.EventImpl.onBarViewedEvent(r),this.handleCustomerEvent_(n)}},{key:"setLayoutInstance_",value:function(){var e=(0,n.default)(h.default.mark(function e(){var t,r,n;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.layout_===b.default.MODERN?(t=new E.default(this.groupsOverlay_,this.getActiveGroup_.bind(this),this.instanceId_),this.layoutInstance_=t,(r=document.createElement("canvas")).width=3,r.height=3,(0,y.setClass)(r,"background-blur-canvas"),this.groupsOverlay_.appendChild(r)):(n=new G.default(this.groupsOverlay_,this.instanceId_),this.layoutInstance_=n),(0,y.setClass)(this.groupContainer_,this.layout_===b.default.MODERN?"storyly__modern-layout":"storyly__classic-layout"),this.globalInstanceData.storylyEmbed.init&&(0,v.setAttribute)(this.groupContainer_,"embed-mode",this.globalInstanceData.storylyEmbed.init),(0,v.setAttribute)(this.groupContainer_,"direction",this.documentDir_);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"implementEvent_",value:function(){var e=this.getActiveGroup_.bind(this),t=this.getPrevGroup_.bind(this),r=this.getNextGroup_.bind(this);this.EventImpl=new S.EventImpl(this.storyShadowRoot_,e,t,r,this.api_)}},{key:"setPayload_",value:function(){var e=this.userConfig_,t=e.isTestMode,r=e.segments,n=e.customParameter,o=(0,S.platformIml)(),s=o.os,i=o.browser,a=Array.isArray(r)&&r.length>0?r.map(function(e){return String(e)}):null;this.payload_=R(R({},this.payload_),{},{device:R(R({},this.payload_.device),{},{unique_id:this.uuid_,is_test:t,os:s,browser:i}),user:R(R({},this.payload_.user),{},{segments:a}),custom_parameter:n?String(n):null,session_id:this.sessionId_}),this.globalInstanceData.eventPayload=this.payload_}},{key:"buildCallback_",value:function(){this.setAPI_(),this.setEventListeners_(),this.presentationData_?this.handleGroupsData_(this.presentationData_):this.fetchGroups_()}},{key:"setAPI_",value:function(){this.api_=new p.default(this.token_,this.instanceId_),this.globalInstanceData.API=this.api_}},{key:"setEventListeners_",value:function(){var e=this;this.storyShadowRoot_.addEventListener("onNextGroup",this.handleNextGroup_),this.storyShadowRoot_.addEventListener("onPrevGroup",this.handlePrevGroup_),this.storyShadowRoot_.addEventListener("onStoryImpression",this.handleImpressionEvent_),this.storyShadowRoot_.addEventListener("onCloseGroup",this.handleCloseGroup_),this.storyShadowRoot_.addEventListener("onNextStory",this.handleNextStory_),this.storyShadowRoot_.addEventListener("onPrevStory",this.handlePrevStory_),this.storyShadowRoot_.addEventListener("onCustomerEvent",this.handleCustomerEvent_),this.storyShadowRoot_.addEventListener("onConditionalEvent",this.handleConditionalEvent_),this.storyShadowRoot_.addEventListener("onI18nEvent",this.handleI18n_),this.addEventListener("keydown",this.handleTabKeyPressListener_),this.layout_===b.default.MODERN&&this.storyShadowRoot_.addEventListener("onStoryChange",function(t){return(0,S.backgroundBlurImpl)(t,e.groupsOverlay_)}),(0,S.tabVisibilityImpl)(this.handleTabVisibility_)}},{key:"handleCustomerEvent_",value:function(e){var t=e.detail,r=t.eventName,n=t.params;this.handleEvent_(r,n)}},{key:"handleTabKeyPressListener_",value:function(e){var t=e.code,r=this.shadowRoot.activeElement;if(r=r||document.activeElement){this.lastActiveElement_=r;["Space","Enter"].includes(t)&&(r.classList.contains("group")||r.hasAttribute("slot"))&&(e.stopImmediatePropagation(),this.globalInstanceData.storiesHasAltText&&(this.globalInstanceData.accessibility=!0),this.handleClickGroup_({target:r}))}}},{key:"handleTabVisibility_",value:function(e){if(this.storylyOpen_&&this.globalInstanceData.storylyEmbed.canPlay){var t,r=this.getActiveStory_();if(document[e])r.instance.pause(!0);else null===(t=this.lastActiveElement_)||void 0===t||t.focus(),r.instance.play(!0)}}},{key:"setStoryNavigationEvents_",value:function(){this.isMobileView_&&(window.addEventListener(this.globalInstanceData.storylyEmbed.init?"pointerdown":"touchstart",this.handleContainerTouchStart_),window.addEventListener(this.globalInstanceData.storylyEmbed.init?"pointerup":"touchend",this.handleContainerTouchEnd_),this.globalInstanceData.storylyEmbed.init||window.addEventListener("touchmove",this.handleContainerTouchMove_),window.oncontextmenu=this.handleContextMenu_),this.globalInstanceData.storylyEmbed.init&&!this.isMobileView_&&this.groupsOverlay_.addEventListener("click",this.handleContainerTouchEnd_),window.addEventListener("keydown",this.handleKeyboard_)}},{key:"removeStoryNavigationEvents_",value:function(){this.isMobileView_&&(window.removeEventListener(this.globalInstanceData.storylyEmbed.init?"pointerdown":"touchstart",this.handleContainerTouchStart_),window.removeEventListener(this.globalInstanceData.storylyEmbed.init?"pointerup":"touchend",this.handleContainerTouchEnd_),this.globalInstanceData.storylyEmbed.init||window.removeEventListener("touchmove",this.handleContainerTouchMove_),window.oncontextmenu=null),window.removeEventListener("keydown",this.handleKeyboard_)}},{key:"handleContextMenu_",value:function(e){return e.preventDefault(),e.stopPropagation(),!1}},{key:"handleKeyboard_",value:function(e){var t=this.focusableEls_[0],r=this.focusableEls_[this.focusableEls_.length-1];if(("Tab"===e.key||9===e.keyCode)&&(e.shiftKey&&this.storyShadowRoot_.activeElement===t&&(r.focus(),e.preventDefault()),this.storyShadowRoot_.activeElement===r&&(t.focus(),e.preventDefault())),this.storylyOpen_){var n,o=e.key,s=e.code,i=e.keyCode,a=this.layout_===b.default.MODERN?{detail:{gesture:C.GestureTypes.Keyboard}}:void 0;if("ArrowRight"===o||39===i)this.documentDir_===w.default.RTL?this.handlePrevStory_(a):this.handleNextStory_(a);else if("ArrowLeft"===o||37===i)this.documentDir_===w.default.RTL?this.handleNextStory_(a):this.handlePrevStory_(a);else if("Escape"===o||27===i){var u=this.groupsOverlay_.querySelector(".storyly__action-container");if(null==u?void 0:u.classList.contains("active")){var l=this.groupsOverlay_.querySelector(".storyly__story-group-overlay");return u.classList.remove("active"),l.classList.remove("active"),this.getActiveStory_().instance.playAndPauseStory(),void this.storyShadowRoot_.activeElement.blur()}this.handleCloseGroup_(a)}else if("Space"!==s&&32!==i||"BUTTON"===(null===(n=this.storyShadowRoot_.activeElement)||void 0===n?void 0:n.tagName)){if("KeyS"===s){this.getActiveStory_().instance.renderShareWidget(C.GestureTypes.Keyboard)}}else{this.getActiveStory_().instance.playAndPauseStory({gesture:C.GestureTypes.Keyboard})}}}},{key:"handleContainerTouchStart_",value:function(e){e.stopPropagation(),this.handleNavigation_=!0,this.storyPauseByTouch_()}},{key:"handleContainerTouchEnd_",value:function(e){this.handleStoryNavigationByTouch_(e),!this.globalInstanceData.storylyEmbed.init&&this.isMobileView_&&this.closeStorylyBySwiping_(),this.storyPlayAfterTouched_()}},{key:"closeStorylyBySwiping_",value:function(){var e=this;this.swiperMove_||(this.swipingDown_.scrollY>15*this.groupContainer_.offsetHeight/100?(this.groupContainer_.style.setProperty("transform","translateY(50vh) scale(0)"),this.groupsOverlay_.style.setProperty("background","transparent"),window.requestAnimationFrame(function(){e.handleCloseGroup_(),setTimeout(function(){e.groupContainer_.style.removeProperty("transform"),e.groupsOverlay_.style.removeProperty("background")},300)})):this.groupContainer_.style.setProperty("transform","translateY(0)"),this.swipingDown_={scrollY:0,pageY:0})}},{key:"handleStoryNavigationByTouch_",value:function(e){var t,r;if(this.globalInstanceData.storylyEmbed.init||this.handleNavigation_&&this.isMobileView_){var n=null!==(t=null===(r=e.changedTouches)||void 0===r||null===(r=r[0])||void 0===r?void 0:r.pageX)&&void 0!==t?t:e.offsetX,o=this.groupsOverlay_.offsetWidth,s=20*o/100,i=o-20*o/100,a={detail:{gesture:"".concat(C.GestureTypes.ClickByTouch)}};n>0&&n<s?this.documentDir_===w.default.RTL?this.handleNextStory_(a):this.handlePrevStory_(a):n>i&&n<o&&(this.documentDir_===w.default.RTL?this.handlePrevStory_(a):this.handleNextStory_(a)),this.handleNavigation_=!0}}},{key:"handleContainerTouchMove_",value:function(e){this.handleNavigation_=!1;var t=e.changedTouches[0].pageY;this.swiperMove_||(this.swipingDown_.scrollY+=this.swipingDown_.pageY>0?t-this.swipingDown_.pageY:0,this.swipingDown_.pageY=t,this.swipingDown_.scrollY>=0&&(this.groupContainer_.style.transform="translateY(".concat(this.swipingDown_.scrollY,"px)")))}},{key:"storyPauseByTouch_",value:function(){var e=this;this.isMobileView_&&(this.touchTimeout_=setTimeout(function(){e.getActiveStory_().instance.pauseByTouch(),e.storyTouchAction_=!0,e.handleNavigation_=!1},300))}},{key:"storyPlayAfterTouched_",value:function(){if(this.isMobileView_){if(this.storyTouchAction_)this.getActiveStory_().instance.playAfterTouch();clearTimeout(this.touchTimeout_)}}},{key:"handleCloseGroup_",value:function(e){var t,r=this;if(this.storylyOpen_)if(this.globalInstanceData.storylyEmbed.init){var n=this.getActiveGroup_();this.handleEvent_("closeStoryGroup",R(R({},null!=n?n:{}),{},{instance:void 0}))}else{var o;if(e&&"detail"in e)o=e.detail.gesture;this.groupsOverlay_.ariaHidden="true",this.swiper_.slides[this.swiper_.realIndex].ariaHidden="true",this.storyShadowDom_.setAttribute("tabindex","-1"),(0,y.removeClass)(this.groupsOverlay_,"active"),this.storylyOpen_=!1,this.removeStoryNavigationEvents_(),this.addEventListener("keydown",this.handleTabKeyPressListener_),null===(t=this.lastActiveElement_)||void 0===t||t.focus(),this.EventImpl.handleCloseEvent(o),this.resetStyleToDocument_(),this.shareParams_.playMode&&(this.swiper_.allowTouchMove=!0),this.shareParams_={};var s=this.getActiveGroup_();if(this.handleEvent_("closeStoryGroup",R(R({},null!=s?s:{}),{},{instance:void 0})),s.instance.hide({holdActive:!0}),this.removeAdGroups_(),this.isAdEnable_()&&document.querySelectorAll(".storyly-ad-wrapper").forEach(function(e){return e.remove()}),this.customStoryGroupHTML_){var i=s.instance.getActiveStory().storyIndex,a=this.getStoryGroupElement_(s),u=this.getCustomGroupAssignedElement_(a);(0,f.handleCustomStoryGroupStyles)(s,u,i,this.instanceId_)}this.presentationData_&&!(0,v.isLiveVideo)(s.type)||this.handleSeenGroupsPosition_().then(function(){r.isoTopeSorting_.updateSortData(),r.isoTopeSorting_.arrange({sortBy:"order"}),r.groups_.forEach(function(e,t){e.instance.setKey(t)})}).catch(function(){})}}},{key:"removeAdGroups_",value:function(){if(this.isAdEnable_()&&0!==this.adGroups_.length){var e=[],t=[];this.groups_.forEach(function(r,n){r.ad?t.push(n):e.push(r)}),this.groups_=e,this.swiper_.removeSlide(t)}}},{key:"handleSeenGroupsPosition_",value:function(){var e=this;return 0===this.seenGroups_.length?Promise.reject():(this.seenGroups_.forEach(function(t){var r=e.getStoryGroupElement_(t);if(!t.pinned){var n=e.groupCircleNodes_.length-1;e.groupCircleNodes_.forEach(function(e,t){e.dataset.ad||e.classList.contains("seen")&&r.dataset.order<+e.dataset.order||(n=t)});var o=e.hiddenPersonalizedGroupCircleNodes_.filter(function(e){return e.classList.contains("hidden")&&+r.dataset.sortorder>=+e.dataset.sortorder}),s=+r.dataset.sortorder-o.length;e.groupCircleNodes_.splice(s,1),e.groupCircleNodes_.splice(n,0,r),e.groupCircleNodes_.forEach(function(t,r){e.customStoryGroupHTML_&&(e.getCustomGroupAssignedElement_(t).dataset.sortorder=r);t.dataset.ad||(e.groupsList_.querySelector('.storyly__story-group-container[data-id="'.concat(t.dataset.id,'"]')).dataset.sortorder=r);var n=e.hiddenPersonalizedGroupCircleNodes_.find(function(e){return e.dataset.id===t.dataset.id});n&&(n.dataset.sortOrder=t.dataset.sortorder,n.dataset.order=t.dataset.order)});var i=e.swiper_.slides[s];e.swiper_.removeSlide(s),e.swiper_.addSlide(n,i);var a=e.groups_[s];e.groups_.splice(s,1),e.groups_.splice(n,0,a)}e.customStoryGroupHTML_&&e.getCustomGroupAssignedElement_(r).classList.toggle("storyly__story-group-seen");r.classList.toggle("seen")}),this.seenGroups_=[],Promise.resolve())}},{key:"getActiveGroup_",value:function(){return this.groups_[this.currentGroupIndex_]}},{key:"getNextGroup_",value:function(){return this.groups_[this.currentGroupIndex_+1]}},{key:"getPrevGroup_",value:function(){return this.groups_[this.currentGroupIndex_-1]}},{key:"getActiveStory_",value:function(){return this.getActiveGroup_().instance.getActiveStory()}},{key:"getPrevStory_",value:function(){return this.getActiveGroup_().instance.getPrevStory()}},{key:"getCustomGroupAssignedElement_",value:function(e){return"SLOT"===e.tagName?e.assignedElements()[0]:e}},{key:"getStoryGroupElement_",value:function(e){return this.groupCircleNodes_.find(function(t){return+t.dataset.id===e.group_id})}},{key:"getActiveGroupWithoutInstance",value:function(){var e=R({},this.getActiveGroup_());return delete e.instance,delete e.currentOrder,delete e.onView,e}},{key:"handleNextGroup_",value:function(e){var t=e.detail.gesture;if(this.handleCompleteGroupEvent_(),this.shareParams_.playMode!==g.default.STORY_GROUP||this.getActiveGroup_().group_id!==this.shareParams_.group.group_id)if(this.currentGroupIndex_===this.groups_.length-1)this.handleCloseGroup_();else{if(this.getActiveGroup_().instance.sendGroupClickedEvent(t,"next"),t===C.GestureTypes.Button)this.getActiveStory_().instance.sendStoryClickedEvent(t,"next");var r=this.getNextGroup_();this.groups_[this.currentGroupIndex_].instance.unLoad({holdActive:!0}),this.currentGroupIndex_+=1,this.loadNextGroupInstance_(),this.swiper_.slideTo(this.currentGroupIndex_),r.instance.show(),this.EventImpl.handleSwipingGroupEvent("next",t),this.handleImpressionEvent_()}else this.handleCloseGroup_()}},{key:"handleCompleteGroupEvent_",value:function(){var e=this.getActiveGroup_();!e.ad&&e.instance.isAllStoriesSeen()&&(this.EventImpl.handleCompleteStoryEvent("groupCompleted"),this.EventImpl.handleCompleteGroupEvent())}},{key:"loadNextGroupInstance_",value:function(){var e=this.getNextGroup_(),t=this.getPrevGroup_();!e||null!=e&&e.onView||e.ad||this.loadGroupInstance_(e),!t||null!=t&&t.onView||t.ad||this.loadGroupInstance_(t)}},{key:"handlePrevGroup_",value:function(e){var t=e.detail.gesture;if(this.shareParams_.playMode!==g.default.STORY_GROUP||this.getActiveGroup_().group_id!==this.shareParams_.group.group_id){if(0!==this.currentGroupIndex_){if(this.getActiveGroup_().instance.sendGroupClickedEvent(t,"prev"),t===C.GestureTypes.Button)this.getActiveStory_().instance.sendStoryClickedEvent(t,"prev");var r=this.getPrevGroup_();this.groups_[this.currentGroupIndex_].instance.unLoad({holdActive:!0}),this.currentGroupIndex_-=1,this.loadNextGroupInstance_(),this.swiper_.slideTo(this.currentGroupIndex_),r.instance.show(),this.EventImpl.handleSwipingGroupEvent("prev",t),this.handleImpressionEvent_()}}else this.handleCloseGroup_()}},{key:"handleNextStory_",value:function(e){var t,r;if(e&&"detail"in e){var n=e.detail;t=n.gesture,r=n.storyIndex}this.getActiveStory_().instance.sendStoryClickedEvent(t,"next"),this.EventImpl.handleSwipingStoryEvent("next",t),this.getActiveGroup_().instance.nextStory(r,t)}},{key:"handlePrevStory_",value:function(e){var t=this.getActiveStory_();if(0!==this.currentGroupIndex_||0!==t.storyIndex){var r,n;if(e&&"detail"in e){var o=e.detail;r=o.gesture,n=o.storyIndex}t.instance.sendStoryClickedEvent(r,"prev"),this.EventImpl.handleSwipingStoryEvent("prev",r),this.getActiveGroup_().instance.prevStory(n,r)}}},{key:"fetchGroups_",value:function(){var e=this;if(!this.checkCacheData_()){var t,r,n=[],o=!1,s=setTimeout(function(){var s,i;o=!0;var a=_.default.setInstanceId(e.instanceId_).getItemFromInstance("Storyly_responseData");n=null!==(s=a.story_groups)&&void 0!==s?s:[],r=a.style,(t=null!==(i=a.ad)&&void 0!==i?i:{})&&(e.adSettings_=t),n?(e.handleGroupsData_(n),e.handleInstanceLevelStyling_(r)):(e.retryCount_+=1,e.retryCount_<3?e.fetchGroups_():e.removeStoryly_())},2e3);this.api_.getGroups(this.payload_).then(function(i){var a;i.error||(clearTimeout(s),_.default.setInstanceId(e.instanceId_).setItemToInstance("Storyly_responseData",R(R({},i),{},{ttl:Date.now()})),0!==i.story_groups.length?(n=i.story_groups,r=i.style,t=null!==(a=i.ad)&&void 0!==a?a:{},o||(e.adSettings_=t,e.handleGroupsData_(n),e.handleInstanceLevelStyling_(r))):e.removeStoryly_())})}}},{key:"checkCacheData_",value:function(){if("dashboard.storyly.io"===window.location.hostname||"docs.developers.storyly.io"===window.location.hostname||"dev.storyly"===window.location.hostname||this.userConfigChanged_)return!1;var e=_.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_responseData"),t=e.story_groups,r=e.ads,n=e.ttl,o=new Date(Date.now()-n);if(t&&o.getMinutes()<5){var s=null!=t?t:[];return this.adSettings_=null!=r?r:{},this.handleGroupsData_(s),!0}return!1}},{key:"handleGroupsData_",value:function(){var e=(0,n.default)(h.default.mark(function e(){var o,s,i,a,u,l,d,c,p,_,y=this,v=arguments;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=v.length>0&&void 0!==v[0]?v[0]:[],s=o,i=new URLSearchParams(window.location.search),e.next=5,this.handleConditionalGroups_(s);case 5:if(s=e.sent,(this.globalInstanceData.storylyEmbed.init||i.get("storylyMail")||this.globalInstanceData.inboxStory)&&(a=(0,r.default)(this.openStoryParams_,1),u=a[0],s=s.filter(function(e){return e.group_id===+u})),!this.externalData_.length){e.next=13;break}return l=(0,t.default)(s),e.next=11,s.forEach(function(){var e=(0,n.default)(h.default.mark(function e(t,r){var n,o;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==m.groupTypes.PERSONALIZED){e.next=5;break}return e.next=3,(0,S.createPersonalizedImpl)(y.externalData_,t);case 3:n=e.sent,l[r]=n;case 5:l[r].stories.length&&(o=(0,S.createUserPropertyImpl)(y.userPropertyData_,l[r]),l[r]=o);case 6:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}());case 11:return this.loadGroupCircles_(l),e.abrupt("return");case 13:return d=(0,t.default)(s),c=[],e.next=17,s.forEach(function(){var e=(0,n.default)(h.default.mark(function e(r,n){var o,s,i,a;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r.type===m.groupTypes.PERSONALIZED&&(d[n]=R(R({},r),{},{hidden:!0})),o=y.handleProductGroups_(d[n]),s=o.productGroup,i=o.productIds,c.push.apply(c,(0,t.default)(i)),d[n]=s,d[n].stories.length&&!d[n].hidden&&(a=(0,S.createUserPropertyImpl)(y.userPropertyData_,d[n]),d[n]=a);case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}());case 17:if(!c.length){e.next=29;break}if(p={products:c,country:this.userConfig_.productFeedCountry,language:this.userConfig_.productFeedLanguage},this.handleEvent_(C.CustomerEventTypes.onStorylyHydration,c),!this.isProductFallbackEnabled_){e.next=29;break}if(!i.get("storylyMail")&&!this.globalInstanceData.inboxStory){e.next=28;break}return e.next=24,this.api_.getProductDetails(p);case 24:_=e.sent,this.storylyHydration=_.products,e.next=29;break;case 28:this.api_.getProductDetails(p).then(function(e){y.setStorylyHydration(e.products)});case 29:this.loadGroupCircles_(d);case 30:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleConditionalGroups_",value:function(e){var t=_.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_componentsData"),r=e.map(function(e){var r=!1,n=e.stories.filter(function(e){var n=e;if(!e.conditions)return n.visible=!0,!0;r=!0;var o=e.conditions.every(function(e){return e.some(function(e){var r=t[e.i];return void 0!==r&&r===+e.r.p})});return n.visible=o,o});return R(R({},e),{},{conditional:r,hidden:0===n.length})});return Promise.resolve(r)}},{key:"handleConditionalEvent_",value:function(){var e=(0,n.default)(h.default.mark(function e(){var r,o,s,i,a=this;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.groups_.filter(function(e){return e.conditional}),e.next=3,r.forEach(function(){var e=(0,n.default)(h.default.mark(function e(t){var r,n;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,t.instance.handleConditionalStories(!0);case 3:n=e.sent,r.stories=n;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:return o=this.hiddenConditionalGroups_.filter(function(e){return e.conditional}),e.next=6,this.handleConditionalGroups_(o);case 6:o=e.sent.filter(function(e){return!e.hidden}),s=(0,t.default)(this.groups_),o.length>0&&(i=[],o.forEach(function(e){var t=a.createGroupInstanceAndReorderCircleNodes_(e),r=t.newGroupInstance,n=t.order;s.splice(n,0,R(R({},r),{},{hidden:void 0})),i.push(e.group_id)}),this.hiddenConditionalGroups_=this.hiddenConditionalGroups_.filter(function(e){return!i.includes(e.group_id)}),this.groups_=s.filter(function(e){return Boolean(e)&&0!==e.stories.length}),this.isoTopeSorting_.reloadItems(),this.isoTopeSorting_.updateSortData(),this.isoTopeSorting_.arrange({sortBy:"order"}),this.setContainerHeight_(),S.StoryGroupAnimationImpl.add(this.groupCircleNodes_,this.properties_.storyGroupAnimation),this.layout_===b.default.MODERN&&this.layoutInstance_.handleStoryGroupNavigationButtons(this.groups_,this.currentGroupIndex_));case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleInstanceLevelStyling_",value:function(e){var t=this;e&&(Object.keys(I.default).forEach(function(r){Object.keys(e).includes(r)&&(Array.isArray(e[r])?t.properties_[I.default[r]]=e[r].map(function(e){return(0,v.isHexColor)(e)?(0,v.convertHex)(e):e}):(0,v.isHexColor)(e[r])?t.properties_[I.default[r]]=(0,v.convertHex)(e[r]):t.properties_[I.default[r]]=e[r]),"animation"===r&&e.animation&&(t.properties_.storyGroupAnimation={type:"pulse",mode:!1},S.StoryGroupAnimationImpl.add(t.groupCircleNodes_,t.properties_.storyGroupAnimation))}),this.setProperties(this.properties_))}},{key:"handleProductGroups_",value:function(e){var t=(0,v.getProductLayers)(e),r=t.flatMap(function(e){return e.products}),n=new URLSearchParams(window.location.search);return{productGroup:R(R({},e),{},{hidden:e.hidden||!(n.get("storylyMail")||this.globalInstanceData.inboxStory)&&!!t.length}),productIds:r}}},{key:"createGroupInstanceAndReorderCircleNodes_",value:function(e){var t=this,r=this.hiddenPersonalizedGroupCircleNodes_.find(function(t){return+t.dataset.id===e.group_id}),n=r.dataset.sortorder,o=this.swiper_.slides.findIndex(function(t){return+t.dataset.id===e.group_id});o>-1&&this.swiper_.removeSlide(o);var s=this.setGroupInstance_(e,n);if(s.instance.render().then(function(e){t.swiper_.addSlide(n,e)}),e.is_user_property_used){var i=e.title,a=e.icon_image_url,u=r;"SLOT"===r.tagName&&(u=this.querySelector("[slot='story-group-".concat(e.group_id,"']")));var l=u.querySelector(".storyly__story-group-title"),d=u.querySelector(".storyly__story-group-cover");d&&(d.src=a),l&&(i.length>25?((0,v.setAttribute)(r,"title",i),l.innerHTML="".concat(i.substring(0,25),"...")):((0,v.setAttribute)(r,"title",""),l.innerHTML=i))}return(0,y.removeClass)(r,"hidden"),this.groupCircleNodes_.splice(n,0,r),this.groupsList_.insertBefore(r,this.groupsList_.children[n]),{newGroupInstance:s,order:n}}},{key:"adBlockerDetector_",value:function(){var e=document.createElement("div");e.classList.add("adsbygoogle"),this.groupsOverlay_.appendChild(e),"none"===getComputedStyle(e).getPropertyValue("display")&&(this.hasAdblocker_=!0),e.remove()}},{key:"isAdEnable_",value:function(){return Object.keys(this.adSettings_).length>0&&!this.hasAdblocker_}},{key:"loadAdGroups_",value:function(){var e=(0,n.default)(h.default.mark(function e(t){var r,n,o,s,i,a,u,l,d,c,p,_,y=this;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAdEnable_()){e.next=2;break}return e.abrupt("return");case 2:for(this.loadAdStyle_(),r=this.adSettings_,n=r.ad_cap,o=r.ad_manager_body,(s=document.createElement("div")).style.position="absolute",s.style.top="-100vh",i=[],a=[],u=[],l=0;l<=n;l+=1)d={ad:!0,title:"Sponsored",settings:this.adSettings_,id:(0,v.randomAlphaNum)(10)},c=new x.default(d,d.id,this.groupsOverlay_,this.layout_,this.instanceId_),d.instance=c,p=c.render(),_=c.load(),i.push(p),a.push(_),u.push(d);Promise.all(i).then(function(e){e.forEach(function(e,r){s.appendChild(e),y.storyShadowRoot_.appendChild(s),u[r].node=e,a[r].then(function(e){"filled"===e&&(y.adGroups_.push(u[r]),o||y.renderAdGroup_(t,u[r]))})})});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"loadAdStyle_",value:function(){if(!this.storyShadowDom_.querySelector('style[data-type="ad-style"]')){var e=document.createElement("style");e.dataset.type="ad-style",e.textContent="\n      .storyly-adsense {\n        --i--storyly-story-desktop-one-panel-ratio: 69/116;\n        --i--storyly-story-desktop-one-panel-responsive-margin: max(74px,8.25vh);\n        --i--storyly-story-desktop-one-panel-height: calc(100vh - var(--i--storyly-story-desktop-one-panel-responsive-margin)*2);\n        --i--storyly-story-desktop-one-panel-width: calc(var(--i--storyly-story-desktop-one-panel-height)*var(--i--storyly-story-desktop-one-panel-ratio));\n        position: absolute;\n        left: 50%;\n        top: 12%;\n        transform: translateX(-50%);\n        width: calc(var(--i--storyly-story-desktop-one-panel-width) - 20%) !important;\n        height: calc(var(--i--storyly-story-desktop-one-panel-height) - 20%) !important;\n        text-align: center;\n      }\n      .storyly-ad-manager {\n        position: absolute;\n        left: 50%;\n        top: 12%;\n        transform: translateX(-50%);\n        text-align: center;\n        min-width: 300px;\n        min-height: 200px;\n      }\n    ".replace(/\s+/g," "),this.storyShadowDom_.appendChild(e)}}},{key:"removeStoryly_",value:function(){this.remove(),this.handleEvent_("noStoryGroup")}},{key:"handleEvent_",value:function(e,t){if(this.events_[e]&&"function"==typeof this.events_[e])try{this.events_[e](t)}catch(r){console.error(r)}else if(this.events_[e])throw TypeError("".concat(e," event must be a function!"))}},{key:"onPlayerReady",value:function(){var e=this,r=this.hiddenPersonalizedGroups_.map(function(e){return R(R({},e),{},{type:"externalData"})}),n=[].concat((0,t.default)(this.groups_),(0,t.default)(r)).filter(function(e){return!e.ad}).map(function(e){return{title:e.title,image:e.icon_image_url,id:e.group_id,pinned:e.pinned,mediaHost:e.media_host,stories:e.stories,type:e.type}});this.handleEvent_("isReady",n),this.EventImpl.onScreenEvent(),this.handleOpenStoryByUrl_(),this.adSettings_.ad_manager_body&&(this.adInterval_=setInterval(function(){window.googletag&&(e.loadAdGroups_(),clearInterval(e.adInterval_))},100)),this.setStorylyBarObserver_(),this.handleI18n_()}},{key:"handleI18n_",value:function(t){var r,n=(null!=t?t:{}).detail,o=this.userConfig_,s=o.lang,i=o.langJson,a=null!=s?s:navigator.language,u=i;u&&"object"===(0,e.default)(u)||(u=a.includes("de")?A.default:a.includes("es")?D.default:a.includes("he")?T.default:a.includes("pt")?L.default:a.includes("tr")?P.default:O.default),(null!==(r=null==n?void 0:n.wrapperDom)&&void 0!==r?r:this.storyShadowRoot_).querySelectorAll("[data-i18n-key]").forEach(function(e){var t=e,r=e.getAttribute("data-i18n-key"),n=u[r];n&&(t.innerText=n)})}},{key:"setContainerHeight_",value:function(){var e=[];this.groupsWrapper_.querySelectorAll(".storyly__story-group-container").forEach(function(t){return e.push(t.offsetHeight)});var t=Math.max.apply(Math,e);(0,y.setStyle)(this.groupsWrapper_,["height","".concat(t+2,"px")])}},{key:"handleOpenStoryByUrl_",value:function(){var e=this.shareParams_,t=e.group,r=e.storyIndex;void 0===t||"number"!=typeof r&&r>0||this.showStory_()}},{key:"setSeenForGroup_",value:function(){var e=this.getSeenGroups_(),t=this.getActiveGroup_(),r=this.getActiveStory_();if(!t.ad&&!(0,v.isLiveVideo)(t.type)){e[t.group_id]?e[t.group_id].stories.includes(r.story_id)||e[t.group_id].stories.push(r.story_id):e[t.group_id]={seen:!0,stories:[r.story_id]},_.default.setInstanceId(this.instanceId_).setItemToInstance("Storyly_groupSeenState",e);var n=this.groups_.find(function(e){return e.group_id===t.group_id}),o=this.groupCircleNodes_.some(function(e){return+e.dataset.id===n.group_id&&e.classList.contains("seen")}),s=this.seenGroups_.some(function(e){return e.group_id===n.group_id});!this.checkSeenStories_(n)||o||s||this.seenGroups_.push(n)}}},{key:"handleImpressionEvent_",value:function(){var e={products:this.storylyHydration,country:this.userConfig_.productFeedCountry,language:this.userConfig_.productFeedLanguage};this.EventImpl.handleImpressionEvent(e),this.setSeenForGroup_()}},{key:"loadGroupCircles_",value:function(){var e=(0,n.default)(h.default.mark(function e(r){var n,o,s,i,a,u,l,d,c,p=this;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==r.length){e.next=2;break}return e.abrupt("return");case 2:return n=this.properties_.storyGroupAlign,o={seenList:[],unseenList:[]},s={seenList:[],unseenList:[]},i=(0,S.intersectionObserverImpl)(this.groupsWrapper_,this.groupObserverCallback_),a=[],u=[],l=(0,S.storyGroupCircleTemplateImpl)(this.customStoryGroupHTML_),this.swiper_=(0,S.swiperImpl)(this.swiperContainer_,this.layout_),d=this.groupsWrapper_.classList.contains("style-scope"),r.forEach(function(e,t){var n=e.title,i=e.type,h=e.pinned;h=h||(0,v.isLiveVideo)(i);var c,_=(0,v.generateHtmlFromTemplate)(l(e,p.instanceId_,p.groupsWrapper_)),g=p.checkSeenStories_(e);p.customStoryGroupHTML_&&(c=(0,f.handleCustomStoryGroupElement)(e,t,p.customStoryGroupHTML_,g),d?_=c:p.appendChild(c)),_.dataset.id=e.group_id,e.hidden&&(0,y.setClass)(_,"hidden"),h?((0,y.setClass)(_,"pinned"),a.push(e),u.push(_),g&&(0,y.setClass)(_,"seen")):g&&e.type!==m.groupTypes.PERSONALIZED?((0,y.setClass)(_,"seen"),o.seenList.push(_),s.seenList.push(e)):(o.unseenList.push(_),s.unseenList.push(e)),_.dataset.order=t,_.ariaLabel="of ".concat(r.length,", ").concat(n,", ").concat(h?"pinned, ":"").concat(g?"seen":"unseen"),c&&(c.ariaLabel="Story position ".concat(t+1," of ").concat(r.length,", ").concat(n,", ").concat(h?"pinned, ":"").concat(g?"seen":"unseen")),(e.stories.some(function(e){return e.alt_text})||p.globalInstanceData.accessibility)&&(p.globalInstanceData.storiesHasAltText=!0),_.addEventListener("click",p.handleClickGroup_,!1),p.customStoryGroupHTML_&&p.barLayout_&&p.handleBarStyleEvents_(_)}),c=[].concat(a,(0,t.default)(s.unseenList),(0,t.default)(s.seenList)),this.hiddenPersonalizedGroups_=c.filter(function(e){return e.hidden&&!e.conditional}),this.hiddenConditionalGroups_=c.filter(function(e){return e.hidden&&e.conditional}),e.next=17,c.filter(function(e){return!e.hidden}).map(function(e,t){var r=e;return(r=p.setGroupInstance_(e,t)).instance.render().then(function(e){p.swiper_.appendSlide(e)}),r});case 17:this.groups_=e.sent,[].concat(u,(0,t.default)(o.unseenList),(0,t.default)(o.seenList)).forEach(function(e,t){var r=e;if(e.classList.contains("hidden")?p.hiddenPersonalizedGroupCircleNodes_.push(e):(p.groupCircleNodes_.push(e),p.groupsList_.appendChild(e)),r.ariaLabel="Story position ".concat(t+1," ").concat(r.ariaLabel),p.customStoryGroupHTML_){var n=p.getCustomGroupAssignedElement_(e);n&&(n.dataset.sortorder=t)}r.dataset.sortorder=t,i.observe(e)}),(0,y.setClass)(this.groupsWrapper_,n),this.loadShareParams_().catch(function(){}),this.onPlayerReady(),S.StoryGroupAnimationImpl.add(this.groupCircleNodes_,this.properties_.storyGroupAnimation);case 23:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleBarStyleEvents_",value:function(e){var t=this;e.addEventListener("mouseenter",function(){var r=t.getCustomGroupAssignedElement_(e);(0,y.setClass)(r,"storyly__story-group-hovered"),r.querySelector("video").play()},!1),e.addEventListener("mouseleave",function(){var r=t.getCustomGroupAssignedElement_(e);(0,y.removeClass)(r,"storyly__story-group-hovered"),r.querySelector("video").pause()},!1)}},{key:"groupObserverCallback_",value:function(e){var t=this;e.forEach(function(e){if(e.isIntersecting){var r,n=e.target,o=n.dataset.id;t.groups_.forEach(function(e){e.group_id===+o&&(r=e)}),r.onView||(t.loadGroupInstance_(r),n.setAttribute("onView",""),"SLOT"!==n.nodeName&&(n.querySelector("img").src=r.icon_image_url),clearTimeout(t.eventTimeout_),t.barViewed_&&(t.eventTimeout_=setTimeout(function(){return t.sendBarViewEvent_()},2500))),r.onView=!0}})}},{key:"loadShareParams_",value:function(){var e,t,n,o=new URLSearchParams(window.location.search).get("storyly");if(!o&&!this.openStoryParams_)return Promise.reject();if(2===(o=this.openStoryParams_||JSON.parse(o)).length){var s=o,i=(0,r.default)(s,2);e=i[0],"number"==typeof(n=i[1])&&(t=n)}else{var a=o,u=(0,r.default)(a,3);e=u[0],t=u[1],n=u[2]}var l=this.groups_.find(function(t){return t.group_id===+e}),d=null==l?void 0:l.stories.findIndex(function(e){return e.story_id===+t});if(!l){var h={detail:{eventName:C.CustomerEventTypes.onStoryShowFailed,params:{errorMessage:"story group does not exist."}}};return this.handleCustomerEvent_(h),Promise.reject(new Error("story group does not exist."))}if(-1===d&&t){var c={detail:{eventName:C.CustomerEventTypes.onStoryShowFailed,params:{errorMessage:"story does not exist."}}};return this.handleCustomerEvent_(c),Promise.reject(new Error("story does not exist."))}return t||(d=0),this.shareParams_={group:l,storyIndex:d,playMode:n},n&&(this.swiper_.allowTouchMove=!1),this.globalInstanceData.shareParams=this.shareParams_,Promise.resolve()}},{key:"setSwiperEvents_",value:function(){var e=this;this.swiper_.on("sliderFirstMove",function(){e.swiperMove_=!0}),this.swiper_.on("realIndexChange",function(t){e.storylyOpen_&&(e.getActiveStory_().instance.pause(),e.layout_===b.default.MODERN&&e.layoutInstance_.handleStoryGroupNavigationButtons(e.groups_,t.activeIndex))}),this.swiper_.on("transitionEnd",function(t){if(e.swiperMove_=!1,e.storylyOpen_){if(t.activeIndex!==e.currentGroupIndex_){if(e.layout_===b.default.CLASSIC){var r=e.getActiveGroup_(),n=t.realIndex<t.previousIndex?"prev":"next";r.instance.sendGroupClickedEvent(C.GestureTypes.Swiped,n),e.getActiveStory_().instance.sendStoryClickedEvent(C.GestureTypes.Swiped,n)}e.handleCompleteGroupEvent_(),e.groups_[e.currentGroupIndex_].instance.unLoad({holdActive:!0}),e.currentGroupIndex_=t.activeIndex,e.loadNextGroupInstance_(),e.EventImpl.handleSwipingGroupEvent(t.swipeDirection),e.groups_[e.currentGroupIndex_].instance.show(),e.handleImpressionEvent_()}else{e.getActiveStory_().instance.play(),e.storyTouchAction_=!1}t.slides.forEach(function(e){e.classList.contains("swiper-slide-active")?(0,v.setAttribute)(e,"aria-hidden","false"):(0,v.setAttribute)(e,"aria-hidden","true")})}})}},{key:"setGroupInstance_",value:function(e,t){var r=this.layoutInstance_.setGroupInstance(e,t);return R(R({},e),{},{currentOrder:t,instance:r})}},{key:"loadGroupInstance_",value:function(e){e.instance&&this.sentry_.errorWrapper(function(){e.instance.load()})}},{key:"checkSeenStories_",value:function(e){var t=this.getSeenGroups_(),r=e.stories.filter(function(e){return e.visible});return 0!==r.length&&r.every(function(r){var n;return!(null===(n=t[e.group_id])||void 0===n||null===(n=n.stories)||void 0===n||!n.includes(r.story_id)||e.hidden)})}},{key:"renderAdGroup_",value:function(e,t){if(this.isAdEnable_()&&0!==this.adGroups_.length){var r=this.adSettings_,n=r.ad_frequency,o=r.ad_first,s=r.ad_cap,i=0,a=e+o,u=0;this.groups_.forEach(function(e,t){e.ad&&(u=t,a=t+(n+1),i+=1)}),i>=s||u===this.groups_.length-1||(this.groups_.splice(a,0,t),this.swiper_.addSlide(a,t.node))}}},{key:"handleClickGroup_",value:function(e){var t,r,n=this,o=e.target.dataset.id;this.groups_.forEach(function(e,n){e.group_id===+o&&(r=n,t=e)}),this.adSettings_.ad_manager_body?this.adGroups_.forEach(function(e){n.renderAdGroup_(r,e)}):this.loadAdGroups_(r),this.showGroup_(t,r)}},{key:"setFocusableElements_",value:function(){var e=[];if(this.layout_===b.default.CLASSIC){var t=this.groupsOverlay_.querySelector("button.storyly__mobile-view-close-story");e=[this.groupsOverlay_.querySelector(".navigate-button.prev-button button"),t]}if(this.layout_===b.default.MODERN){var r=this.groupsOverlay_.querySelector("button.close-story"),n=this.groupsOverlay_.querySelector(".story-group-navigation-button.prev-story-group .story-group-navigation-button-container");"none"===n.parentElement.style.display&&(n=this.groupsOverlay_.querySelector(".prev-story-button")),e=[n,r]}this.focusableEls_=e}},{key:"showGroup_",value:function(e,t){var r=this;this.isMobileView_&&(0,S.calcStorySizeImpl)(this.groupsOverlay_),this.handleI18n_(),this.setOverlayVh_(),this.setStoryNavigationEvents_(),this.removeEventListener("keydown",this.handleTabKeyPressListener_),this.setStyleToDocument_(),S.StoryGroupAnimationImpl.remove(this.groupCircleNodes_,this.properties_.storyGroupAnimation),this.swiper_.slideTo(t),this.swiper_.update();var n=this.swiper_.slides[t];this.storylyOpen_=!0,setTimeout(function(){r.sentry_.errorWrapper(function(){e.instance.show(),(0,y.setClass)(r.groupsOverlay_,"active"),n.ariaHidden="false",r.storyShadowDom_.removeAttribute("tabindex"),r.groupsOverlay_.ariaHidden="false",r.setFocusableElements_()})},150),this.currentGroupIndex_=t,this.loadNextGroupInstance_(),this.setSwiperEvents_(),this.layout_===b.default.MODERN&&this.layoutInstance_.handleStoryGroupNavigationButtons(this.groups_,t),this.EventImpl.handleSelectedGroupEvent(),this.handleImpressionEvent_(),this.handleEvent_("openStoryGroup",R(R({},null!=e?e:{}),{},{instance:void 0}))}},{key:"setStyleToDocument_",value:function(){this.globalInstanceData.storylyEmbed.init||((0,y.setStyle)(document.documentElement,["overflow","hidden"]),(0,y.setStyle)(document.documentElement,["overscrollBehaviorX","none"]))}},{key:"resetStyleToDocument_",value:function(){(0,y.resetStyle)(document.documentElement,["overflow","overscrollBehaviorX","position"])}},{key:"openOnFullScreen_",value:function(){this.groupsOverlay_.requestFullscreen?this.groupsOverlay_.requestFullscreen():this.groupsOverlay_.webkitRequestFullscreen?this.groupsOverlay_.webkitRequestFullscreen():this.groupsOverlay_.msRequestFullscreen&&this.groupsOverlay_.msRequestFullscreen()}},{key:"exitFullScreen_",value:function(){var e;document.exitFullscreen?null===(e=document)||void 0===e||e.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:"showStory_",value:function(){var e=this,t=this.shareParams_,r=t.group,n=t.storyIndex,o=t.playMode,s=this.groups_.find(function(e){return e.group_id===r.group_id}),i=this.getStoryGroupElement_(r),a=this.groups_.findIndex(function(e){return e.group_id===r.group_id});i.setAttribute("onView","");var u=i.querySelector("img");u&&(u.src=s.icon_image_url),s.onView=!0,s.instance.loadByParameters(n),"string"!=typeof o&&(this.adSettings_.ad_manager_body?this.adGroups_.forEach(function(t){e.renderAdGroup_(a,t)}):this.loadAdGroups_(a)),this.showGroup_(s,a)}},{key:"getSeenGroups_",value:function(){return _.default.setInstanceId(this.instanceId_).getItemFromInstance("Storyly_groupSeenState")}},{key:"loadInlineStyle_",value:function(){var e=document.createElement("style");if(e.id="storyly__story-group-style-tag",e.textContent=(0,y.inlineStyle)(this.properties_,this.instanceId_),this.groupShadowRoot_.appendChild(e),this.customStoryGroupHTML_){var t=document.createElement("style");t.textContent=y.slotStyle.replace(/\s+/g," "),this.appendChild(t)}this.setOverlayVh_(),this.storylyFontCssDom_=document.createElement("style"),document.head.appendChild(this.storylyFontCssDom_),this.storylyFontCssDom_.textContent+=this.storylyFontCss = `/* latin-ext */ @font-face { font-family: 'Storyly-CourierPrime'; font-style: normal; font-weight: 400; font-display: swap; src: local('Courier Prime Regular'), local('CourierPrime-Regular'), url(https://fonts.gstatic.com/s/courierprime/v1/u-450q2lgwslOqpF_6gQ8kELaw9pWs39pvnRPA.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-CourierPrime'; font-style: normal; font-weight: 400; font-display: swap; src: local('Courier Prime Regular'), local('CourierPrime-Regular'), url(https://fonts.gstatic.com/s/courierprime/v1/u-450q2lgwslOqpF_6gQ8kELawFpWs39pvk.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* latin-ext */ @font-face { font-family: 'Storyly-CourierPrime'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/courierprime/v2/u-4i0q2lgwslOqpF_6gQ8kELawRR4-Lvp9nsF3-OA6Fw.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-CourierPrime'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/courierprime/v2/u-4i0q2lgwslOqpF_6gQ8kELawRR4-LvqdnsF3-OAw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* latin-ext */ @font-face { font-family: 'Storyly-CourierPrime'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/courierprime/v2/u-4k0q2lgwslOqpF_6gQ8kELY7pMT-7fq9PrNX2-Ag.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-CourierPrime'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/courierprime/v2/u-4k0q2lgwslOqpF_6gQ8kELY7pMT-Dfq9PrNX0.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic */ @font-face { font-family: 'Storyly-Bellota'; font-style: normal; font-weight: 400; font-display: swap; src: local('Bellota Regular'), local('Bellota-Regular'), url(https://fonts.gstatic.com/s/bellota/v1/MwQ2bhXl3_qEpiwAKJFbtUk9hbF2rA.woff2) format('woff2'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* vietnamese */ @font-face { font-family: 'Storyly-Bellota'; font-style: normal; font-weight: 400; font-display: swap; src: local('Bellota Regular'), local('Bellota-Regular'), url(https://fonts.gstatic.com/s/bellota/v1/MwQ2bhXl3_qEpiwAKJpbtUk9hbF2rA.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Bellota'; font-style: normal; font-weight: 400; font-display: swap; src: local('Bellota Regular'), local('Bellota-Regular'), url(https://fonts.gstatic.com/s/bellota/v1/MwQ2bhXl3_qEpiwAKJtbtUk9hbF2rA.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* cyrillic */ @font-face { font-family: 'Storyly-Bellota'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/bellota/v2/MwQxbhXl3_qEpiwAKJBjDGYvjpFLh3i1TE5b.woff2) format('woff2'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* vietnamese */ @font-face { font-family: 'Storyly-Bellota'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/bellota/v2/MwQxbhXl3_qEpiwAKJBjDGYvhZFLh3i1TE5b.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Bellota'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/bellota/v2/MwQxbhXl3_qEpiwAKJBjDGYvhJFLh3i1TE5b.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Bellota'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/bellota/v2/MwQxbhXl3_qEpiwAKJBjDGYvipFLh3i1TA.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic */ @font-face { font-family: 'Storyly-Bellota'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/bellota/v2/MwQzbhXl3_qEpiwAIC5-oGAfiJtMpXqFTQ.woff2) format('woff2'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* vietnamese */ @font-face { font-family: 'Storyly-Bellota'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/bellota/v2/MwQzbhXl3_qEpiwAIC5-oGsfiJtMpXqFTQ.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Bellota'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/bellota/v2/MwQzbhXl3_qEpiwAIC5-oGofiJtMpXqFTQ.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Bellota'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/bellota/v2/MwQzbhXl3_qEpiwAIC5-oGQfiJtMpXo.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* latin */ @font-face { font-family: 'Storyly-Bellota'; font-style: normal; font-weight: 400; font-display: swap; src: local('Bellota Regular'), local('Bellota-Regular'), url(https://fonts.gstatic.com/s/bellota/v1/MwQ2bhXl3_qEpiwAKJVbtUk9hbE.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* vietnamese */ @font-face { font-family: 'Storyly-Quicksand'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/quicksand/v20/6xKtdSZaM9iE8KbpRA_hJFQNYuDyP7bh.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Quicksand'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/quicksand/v20/6xKtdSZaM9iE8KbpRA_hJVQNYuDyP7bh.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Quicksand'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/quicksand/v20/6xKtdSZaM9iE8KbpRA_hK1QNYuDyPw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* vietnamese */ @font-face { font-family: 'Storyly-Quicksand'; font-style: normal; font-weight: 600; font-display: swap; src: url(https://fonts.gstatic.com/s/quicksand/v20/6xKtdSZaM9iE8KbpRA_hJFQNYuDyP7bh.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Quicksand'; font-style: normal; font-weight: 600; font-display: swap; src: url(https://fonts.gstatic.com/s/quicksand/v20/6xKtdSZaM9iE8KbpRA_hJVQNYuDyP7bh.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Quicksand'; font-style: normal; font-weight: 600; font-display: swap; src: url(https://fonts.gstatic.com/s/quicksand/v20/6xKtdSZaM9iE8KbpRA_hK1QNYuDyPw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* vietnamese */ @font-face { font-family: 'Storyly-DancingScript'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/dancingscript/v14/If2RXTr6YS-zF4S-kcSWSVi_szLviuEHiC4Wl-8.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-DancingScript'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/dancingscript/v14/If2RXTr6YS-zF4S-kcSWSVi_szLuiuEHiC4Wl-8.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-DancingScript'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/dancingscript/v14/If2RXTr6YS-zF4S-kcSWSVi_szLgiuEHiC4W.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* vietnamese */ @font-face { font-family: 'Storyly-DancingScript'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/dancingscript/v14/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Rep6hNX6plRPjLo.woff) format('woff'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-DancingScript'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/dancingscript/v14/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03ROp6hNX6plRPjLo.woff) format('woff'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-DancingScript'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/dancingscript/v14/If2cXTr6YS-zF4S-kcSWSVi_sxjsohD9F50Ruu7B1i03Sup6hNX6plRP.woff) format('woff'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } @font-face { font-family: 'Storyly-Poppins'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/poppins/v15/pxiDyp8kv8JHgFVrJJLmy15VFteOYktMqlap.woff2) format('woff2'); unicode-range: U+0900-097F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB; } /* latin-ext */ @font-face { font-family: 'Storyly-Poppins'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/poppins/v15/pxiDyp8kv8JHgFVrJJLmy15VGdeOYktMqlap.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* devanagari */ @font-face { font-family: 'Storyly-Poppins'; font-style: normal; font-weight: 700; src: url(https://fonts.gstatic.com/s/poppins/v15/pxiByp8kv8JHgFVrLCz7Z11lFd2JQEl8qw.woff2) format('woff2'); unicode-range: U+0900-097F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB; } /* latin-ext */ @font-face { font-family: 'Storyly-Poppins'; font-style: normal; font-weight: 700; src: url(https://fonts.gstatic.com/s/poppins/v15/pxiByp8kv8JHgFVrLCz7Z1JlFd2JQEl8qw.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Poppins'; font-style: normal; font-weight: 700; src: url(https://fonts.gstatic.com/s/poppins/v15/pxiByp8kv8JHgFVrLCz7Z1xlFd2JQEk.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* devanagari */ @font-face { font-family: 'Storyly-Poppins'; font-style: normal; font-weight: 400; font-display: swap; src: local('Poppins Regular'), local('Poppins-Regular'), url(https://fonts.gstatic.com/s/poppins/v9/pxiEyp8kv8JHgFVrJJbecnFHGPezSQ.woff2) format('woff2'); unicode-range: U+0900-097F, U+1CD0-1CF6, U+1CF8-1CF9, U+200C-200D, U+20A8, U+20B9, U+25CC, U+A830-A839, U+A8E0-A8FB; } /* latin-ext */ @font-face { font-family: 'Storyly-Poppins'; font-style: normal; font-weight: 400; font-display: swap; src: local('Poppins Regular'), local('Poppins-Regular'), url(https://fonts.gstatic.com/s/poppins/v9/pxiEyp8kv8JHgFVrJJnecnFHGPezSQ.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Poppins'; font-style: normal; font-weight: 400; font-display: swap; src: local('Poppins Regular'), local('Poppins-Regular'), url(https://fonts.gstatic.com/s/poppins/v9/pxiEyp8kv8JHgFVrJJfecnFHGPc.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v11/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df2MHGeE2maM7Xq3oA9NjE.woff) format('woff'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v11/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df2MHGeGmmaM7Xq3oA9NjE.woff) format('woff'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v11/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df2MHGeHWmaM7Xq3oA9NjE.woff) format('woff'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v11/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df2MHGeEWmaM7Xq3oA9NjE.woff) format('woff'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v11/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df2MHGeEGmaM7Xq3oA9NjE.woff) format('woff'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v11/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df2MHGeHmmaM7Xq3oA9.woff) format('woff'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DKhXVmTObLI2pg8HjHg9Q.woff) format('woff'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DKhXVmaObLI2pg8HjHg9Q.woff) format('woff'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DKhXVmdObLI2pg8HjHg9Q.woff) format('woff'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DKhXVmRObLI2pg8HjHg9Q.woff) format('woff'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DKhXVmQObLI2pg8HjHg9Q.woff) format('woff'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: italic; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybuGDoxxrvAnPhYGxksckM2WMCpRjDj-DKhXVmeObLI2pg8HjE.woff) format('woff'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df213aeE2maM7Xq3oA9NjE.woff) format('woff'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df213aeGmmaM7Xq3oA9NjE.woff) format('woff'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df213aeHWmaM7Xq3oA9NjE.woff) format('woff'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df213aeEWmaM7Xq3oA9NjE.woff) format('woff'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df213aeEGmaM7Xq3oA9NjE.woff) format('woff'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Vollkorn'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/vollkorn/v13/0ybgGDoxxrvAnPhYGzMlQLzuMasz6Df213aeHmmaM7Xq3oA9.woff) format('woff'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 100; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 100; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 100; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+1F00-1FFF; } /* greek */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 100; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 100; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 100; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 100; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 200; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 200; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 200; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+1F00-1FFF; } /* greek */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 200; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 200; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 200; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 200; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 300; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 300; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 300; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+1F00-1FFF; } /* greek */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 300; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 300; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 300; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 300; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+1F00-1FFF; } /* greek */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 400; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 500; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 500; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 500; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+1F00-1FFF; } /* greek */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 500; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 500; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 500; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 500; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 600; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 600; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 600; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+1F00-1FFF; } /* greek */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 600; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 600; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 600; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 600; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+1F00-1FFF; } /* greek */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 700; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 800; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 800; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 800; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+1F00-1FFF; } /* greek */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 800; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 800; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 800; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 800; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 900; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 900; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* greek-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 900; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+1F00-1FFF; } /* greek */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 900; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0370-03FF; } /* vietnamese */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 900; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+0300-0301, U+0303-0304, U+0308-0309, U+0323, U+0329, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 900; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2'); unicode-range: U+0100-02AF, U+0304, U+0308, U+0329, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Inter'; font-style: normal; font-weight: 900; font-display: swap; src: url(https://fonts.gstatic.com/s/inter/v12/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 300; font-display: swap; src: local('Nunito Light'), local('Nunito-Light'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAnsSUbOvIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 300; font-display: swap; src: local('Nunito Light'), local('Nunito-Light'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAnsSUZevIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* vietnamese */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 300; font-display: swap; src: local('Nunito Light'), local('Nunito-Light'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAnsSUbuvIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 300; font-display: swap; src: local('Nunito Light'), local('Nunito-Light'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAnsSUb-vIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 300; font-display: swap; src: local('Nunito Light'), local('Nunito-Light'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAnsSUYevIWzgPDA.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 400; font-display: swap; src: local('Nunito Regular'), local('Nunito-Regular'), url(https://fonts.gstatic.com/s/nunito/v13/XRXV3I6Li01BKofIOOaBTMnFcQIG.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 400; font-display: swap; src: local('Nunito Regular'), local('Nunito-Regular'), url(https://fonts.gstatic.com/s/nunito/v13/XRXV3I6Li01BKofIMeaBTMnFcQIG.woff2) format('woff2'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* vietnamese */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 400; font-display: swap; src: local('Nunito Regular'), local('Nunito-Regular'), url(https://fonts.gstatic.com/s/nunito/v13/XRXV3I6Li01BKofIOuaBTMnFcQIG.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 400; font-display: swap; src: local('Nunito Regular'), local('Nunito-Regular'), url(https://fonts.gstatic.com/s/nunito/v13/XRXV3I6Li01BKofIO-aBTMnFcQIG.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 400; font-display: swap; src: local('Nunito Regular'), local('Nunito-Regular'), url(https://fonts.gstatic.com/s/nunito/v13/XRXV3I6Li01BKofINeaBTMnFcQ.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 600; font-display: swap; src: local('Nunito SemiBold'), local('Nunito-SemiBold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofA6sKUbOvIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 600; font-display: swap; src: local('Nunito SemiBold'), local('Nunito-SemiBold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofA6sKUZevIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* vietnamese */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 600; font-display: swap; src: local('Nunito SemiBold'), local('Nunito-SemiBold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofA6sKUbuvIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 600; font-display: swap; src: local('Nunito SemiBold'), local('Nunito-SemiBold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofA6sKUb-vIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 600; font-display: swap; src: local('Nunito SemiBold'), local('Nunito-SemiBold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofA6sKUYevIWzgPDA.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 700; font-display: swap; src: local('Nunito Bold'), local('Nunito-Bold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAjsOUbOvIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 700; font-display: swap; src: local('Nunito Bold'), local('Nunito-Bold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAjsOUZevIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* vietnamese */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 700; font-display: swap; src: local('Nunito Bold'), local('Nunito-Bold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAjsOUbuvIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 700; font-display: swap; src: local('Nunito Bold'), local('Nunito-Bold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAjsOUb-vIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 700; font-display: swap; src: local('Nunito Bold'), local('Nunito-Bold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAjsOUYevIWzgPDA.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } /* cyrillic-ext */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 800; font-display: swap; src: local('Nunito ExtraBold'), local('Nunito-ExtraBold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAksCUbOvIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F; } /* cyrillic */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 800; font-display: swap; src: local('Nunito ExtraBold'), local('Nunito-ExtraBold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAksCUZevIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116; } /* vietnamese */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 800; font-display: swap; src: local('Nunito ExtraBold'), local('Nunito-ExtraBold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAksCUbuvIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0102-0103, U+0110-0111, U+0128-0129, U+0168-0169, U+01A0-01A1, U+01AF-01B0, U+1EA0-1EF9, U+20AB; } /* latin-ext */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 800; font-display: swap; src: local('Nunito ExtraBold'), local('Nunito-ExtraBold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAksCUb-vIWzgPDEtj.woff2) format('woff2'); unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF; } /* latin */ @font-face { font-family: 'Storyly-Nunito'; font-style: normal; font-weight: 800; font-display: swap; src: local('Nunito ExtraBold'), local('Nunito-ExtraBold'), url(https://fonts.gstatic.com/s/nunito/v13/XRXW3I6Li01BKofAksCUYevIWzgPDA.woff2) format('woff2'); unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; } `;var r=document.createElement("style");this.storyShadowRoot_.appendChild(r),r.textContent+=this.storylyWebCss = `.cta-button{background:#189fff;color:#fff;font-weight:400;font-style:normal;border:0 solid transparent;white-space:nowrap;overflow:hidden;position:absolute;cursor:pointer}.cta-button[data-scale="3"]{padding:.7142em 0;font-size:.4375em;line-height:1.375;border-radius:.5714em}.cta-button[data-scale="2"]{padding:.8em 0;font-size:.3125em;line-height:1.2;border-radius:.6em}.cta-button[data-scale="1"]{padding:.8125em 0;font-size:.25em;line-height:1.1875;border-radius:.5625em}.cta-button[data-borderwidth="0"]{border-width:0}.cta-button[data-borderwidth="1"]{border-width:2px}.cta-button[data-borderwidth="2"]{border-width:4px}.cta-button[data-borderwidth="3"]{border-width:6px}.cta-button:active{opacity:.5}.swipe-up{bottom:.24em;transition:top .2s ease-in;cursor:pointer!important;position:absolute;display:flex;flex-direction:column;text-align:center;left:50%;transform:translateX(-50%);align-items:center;width:90%}.swipe-up button{cursor:pointer;font-size:.225em;line-height:1.6;min-height:2.4em;padding:.4em 1.06em;max-width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;background:var(--text-color);color:var(--background-color);border:2px solid;border-radius:100px}.swipe-up button>.arrow-lines{position:absolute;top:30%;left:50%;transform:translate(-50%,-50%);display:flex}.swipe-up button>.arrow-lines .arrow-lines-left,.swipe-up button>.arrow-lines .arrow-lines-right{display:block;width:.6em;height:1.5px;background-color:var(--background-color)}.swipe-up button>.arrow-lines .arrow-lines-right{transform:rotate(150deg);transform-origin:left}.swipe-up button>.arrow-lines .arrow-lines-left{transform:rotate(-150deg);transform-origin:right}.swipe-up button>.arrow-lines:last-child{margin-top:.5em}.swipe-up>.arrow-lines{display:none}.swipe-up>.arrow-lines .arrow-lines-left,.swipe-up>.arrow-lines .arrow-lines-right{width:.24em;height:2px}.swipe-up.animating button{animation:colorTransition .8s ease-in-out .8s 1 forwards,bounceSwipeButton 1.2s ease-in-out 2.2s infinite}.swipe-up.animating button>.arrow-lines .arrow-lines-left,.swipe-up.animating button>.arrow-lines .arrow-lines-right{animation:colorTransition .8s ease-in-out .8s 1;animation-fill-mode:forwards;animation-direction:reverse}.swipe-up.animating>.arrow-lines{display:flex;transform:translateY(10px);animation:arrows .8s ease-in-out .8s 1 forwards,bounceArrows 1.2s ease-in-out 1.6s infinite}.swipe-up.animating>.arrow-lines .arrow-lines-right{transform-origin:left;animation:arrowRightLineSwing 1.2s ease-in-out 1.6s infinite backwards}.swipe-up.animating>.arrow-lines .arrow-lines-left{transform-origin:right;animation:arrowLeftLineSwing 1.2s ease-in-out 1.6s infinite backwards}@keyframes colorTransition{0%{color:var(--background-color);background-color:var(--text-color)}to{color:var(--text-color);background-color:var(--background-color)}}@keyframes bounceSwipeButton{0%{transform:translateY(0);scale:unset}50%{transform:translateY(-.2em);scale:1.02}to{transform:translateY(0);scale:unset}}@keyframes bounceArrows{0%{transform:translateY(-.27em)}50%{transform:translateY(-.15em)}to{transform:translateY(-.27em)}}@keyframes arrows{0%{transform:translateY(.15em);scale:.5}to{transform:translateY(-.27em);scale:unset}}@keyframes arrowLeftLineSwing{0%{transform:rotate(-150deg)}50%{transform:rotate(-160deg)}to{transform:rotate(-150deg)}}@keyframes arrowRightLineSwing{0%{transform:rotate(150deg)}50%{transform:rotate(160deg)}to{transform:rotate(150deg)}}.countdown{position:absolute;font-weight:600;box-shadow:0 0 .084em hsla(0,0%,52.5%,.1);display:flex;flex-direction:column;background:#fff;color:#212121}.countdown[data-scale="0.64"]{border:.01em solid #e0e0e0;border-radius:.16em;padding:.2em}.countdown[data-scale="0.64"] .title{margin-bottom:.2em}.countdown[data-scale="0.64"] .title span{font-size:.2em;line-height:1.2;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.countdown[data-scale="0.64"] .times{display:flex}.countdown[data-scale="0.64"] .times[data-days=false] .time,.countdown[data-scale="0.64"] .times[data-seconds=false] .time{padding:.08em}.countdown[data-scale="0.64"] .times[data-days=false] .time span,.countdown[data-scale="0.64"] .times[data-seconds=false] .time span{font-size:.36em}.countdown[data-scale="0.64"] .times[data-days=false] .time-name,.countdown[data-scale="0.64"] .times[data-seconds=false] .time-name{font-size:.14em;line-height:1.214}.countdown[data-scale="0.64"] .times[data-days=false] .dot,.countdown[data-scale="0.64"] .times[data-seconds=false] .dot{height:.592em}.countdown[data-scale="0.64"] .times[data-days=false] .dot:first-of-type,.countdown[data-scale="0.64"] .times[data-seconds=false] .dot:last-of-type{display:none}.countdown[data-scale="0.64"] .times .days,.countdown[data-scale="0.64"] .times .hours,.countdown[data-scale="0.64"] .times .minutes,.countdown[data-scale="0.64"] .times .seconds{width:100%}.countdown[data-scale="0.64"] .times .days .time-name,.countdown[data-scale="0.64"] .times .hours .time-name,.countdown[data-scale="0.64"] .times .minutes .time-name,.countdown[data-scale="0.64"] .times .seconds .time-name{display:block;line-height:1.1538;font-size:.13em;margin-top:.4923076923em}.countdown[data-scale="0.64"] .times .day-times,.countdown[data-scale="0.64"] .times .hour-times,.countdown[data-scale="0.64"] .times .minute-times,.countdown[data-scale="0.64"] .times .second-times{display:flex;justify-content:space-between}.countdown[data-scale="0.64"] .times .day-times .time,.countdown[data-scale="0.64"] .times .hour-times .time,.countdown[data-scale="0.64"] .times .minute-times .time,.countdown[data-scale="0.64"] .times .second-times .time{display:flex;align-items:center;justify-content:center;flex:0 0 calc(50% - 2px);padding:.12em .04em;border-radius:.06em}.countdown[data-scale="0.64"] .times .day-times .time span,.countdown[data-scale="0.64"] .times .hour-times .time span,.countdown[data-scale="0.64"] .times .minute-times .time span,.countdown[data-scale="0.64"] .times .second-times .time span{display:block;line-height:1.2;font-size:.3em}.countdown[data-scale="0.64"] .times .dot{color:#262626;margin-right:2px;margin-left:2px;height:.6em;display:flex;align-items:center}.countdown[data-scale="0.64"] .times .dot span{font-size:.18em}.countdown[data-scale="0.8"]{border:.0125em solid #e0e0e0;border-radius:.2em;padding:.25em}.countdown[data-scale="0.8"] .title{margin-bottom:.25em}.countdown[data-scale="0.8"] .title span{font-size:.25em;line-height:1.2;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.countdown[data-scale="0.8"] .times{display:flex}.countdown[data-scale="0.8"] .times[data-days=false] .time,.countdown[data-scale="0.8"] .times[data-seconds=false] .time{padding:.1em}.countdown[data-scale="0.8"] .times[data-days=false] .time span,.countdown[data-scale="0.8"] .times[data-seconds=false] .time span{font-size:.45em}.countdown[data-scale="0.8"] .times[data-days=false] .time-name,.countdown[data-scale="0.8"] .times[data-seconds=false] .time-name{font-size:.175em;line-height:1.214}.countdown[data-scale="0.8"] .times[data-days=false] .dot,.countdown[data-scale="0.8"] .times[data-seconds=false] .dot{height:.74em}.countdown[data-scale="0.8"] .times[data-days=false] .dot:first-of-type,.countdown[data-scale="0.8"] .times[data-seconds=false] .dot:last-of-type{display:none}.countdown[data-scale="0.8"] .times .days,.countdown[data-scale="0.8"] .times .hours,.countdown[data-scale="0.8"] .times .minutes,.countdown[data-scale="0.8"] .times .seconds{width:100%}.countdown[data-scale="0.8"] .times .days .time-name,.countdown[data-scale="0.8"] .times .hours .time-name,.countdown[data-scale="0.8"] .times .minutes .time-name,.countdown[data-scale="0.8"] .times .seconds .time-name{display:block;line-height:1.1538;font-size:.1625em;margin-top:.6153846154em}.countdown[data-scale="0.8"] .times .day-times,.countdown[data-scale="0.8"] .times .hour-times,.countdown[data-scale="0.8"] .times .minute-times,.countdown[data-scale="0.8"] .times .second-times{display:flex;justify-content:space-between}.countdown[data-scale="0.8"] .times .day-times .time,.countdown[data-scale="0.8"] .times .hour-times .time,.countdown[data-scale="0.8"] .times .minute-times .time,.countdown[data-scale="0.8"] .times .second-times .time{display:flex;align-items:center;justify-content:center;flex:0 0 calc(50% - 2px);padding:.15em .05em;border-radius:.075em}.countdown[data-scale="0.8"] .times .day-times .time span,.countdown[data-scale="0.8"] .times .hour-times .time span,.countdown[data-scale="0.8"] .times .minute-times .time span,.countdown[data-scale="0.8"] .times .second-times .time span{display:block;line-height:1.2;font-size:.375em}.countdown[data-scale="0.8"] .times .dot{color:#262626;margin-right:2px;margin-left:2px;height:.75em;display:flex;align-items:center}.countdown[data-scale="0.8"] .times .dot span{font-size:.225em}.countdown[data-scale="1"]{border:.015625em solid #e0e0e0;border-radius:.25em;padding:.3125em}.countdown[data-scale="1"] .title{margin-bottom:.3125em}.countdown[data-scale="1"] .title span{font-size:.3125em;line-height:1.2;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.countdown[data-scale="1"] .times{display:flex}.countdown[data-scale="1"] .times[data-days=false] .time,.countdown[data-scale="1"] .times[data-seconds=false] .time{padding:.125em}.countdown[data-scale="1"] .times[data-days=false] .time span,.countdown[data-scale="1"] .times[data-seconds=false] .time span{font-size:.5625em}.countdown[data-scale="1"] .times[data-days=false] .time-name,.countdown[data-scale="1"] .times[data-seconds=false] .time-name{font-size:.21875em;line-height:1.214}.countdown[data-scale="1"] .times[data-days=false] .dot,.countdown[data-scale="1"] .times[data-seconds=false] .dot{height:.925em}.countdown[data-scale="1"] .times[data-days=false] .dot:first-of-type,.countdown[data-scale="1"] .times[data-seconds=false] .dot:last-of-type{display:none}.countdown[data-scale="1"] .times .days,.countdown[data-scale="1"] .times .hours,.countdown[data-scale="1"] .times .minutes,.countdown[data-scale="1"] .times .seconds{width:100%}.countdown[data-scale="1"] .times .days .time-name,.countdown[data-scale="1"] .times .hours .time-name,.countdown[data-scale="1"] .times .minutes .time-name,.countdown[data-scale="1"] .times .seconds .time-name{display:block;line-height:1.1538;font-size:.203125em;margin-top:.7692307692em}.countdown[data-scale="1"] .times .day-times,.countdown[data-scale="1"] .times .hour-times,.countdown[data-scale="1"] .times .minute-times,.countdown[data-scale="1"] .times .second-times{display:flex;justify-content:space-between}.countdown[data-scale="1"] .times .day-times .time,.countdown[data-scale="1"] .times .hour-times .time,.countdown[data-scale="1"] .times .minute-times .time,.countdown[data-scale="1"] .times .second-times .time{display:flex;align-items:center;justify-content:center;flex:0 0 calc(50% - 2px);padding:.1875em .0625em;border-radius:.09375em}.countdown[data-scale="1"] .times .day-times .time span,.countdown[data-scale="1"] .times .hour-times .time span,.countdown[data-scale="1"] .times .minute-times .time span,.countdown[data-scale="1"] .times .second-times .time span{display:block;line-height:1.2;font-size:.46875em}.countdown[data-scale="1"] .times .dot{color:#262626;margin-right:2px;margin-left:2px;height:.9375em;display:flex;align-items:center}.countdown[data-scale="1"] .times .dot span{font-size:.28125em}.countdown .times .time{background:#eee}.countdown[data-mode=Dark]{background-color:#141414;border-color:#dbdbdb;color:#fff}.countdown[data-mode=Dark] .times .time{background:#434343}.countdown[data-mode=Dark] .times .dot,.countdown[data-mode=Dark] .times .time-name{color:#adadad}.reactions{position:absolute;top:90%;white-space:nowrap;display:flex}.reactions[data-mode=Dark] .emoji-container{background-color:#212121;border-color:#424242}.reactions[data-mode=Dark] .emoji-container .count{color:#fff}.reactions[data-mode=Light] .emoji-container{background:#f7f7f7;border-color:#e0e0e0}.reactions .emoji-container{cursor:pointer;display:flex;flex-direction:column;align-items:center;justify-content:space-between;border:1px solid;transition:all .3s ease-in-out;max-height:.7em;padding:.17em;margin-right:.14598em;border-radius:100px;opacity:0}.reactions .emoji-container:last-child{margin:0}.reactions .emoji-container .emoji{display:inline-block;pointer-events:none;font-size:.34em;line-height:1;font-family:none;text-align:center;user-select:none}.reactions .emoji-container .emoji:last-child{padding-right:0}.reactions .emoji-container .count{font-size:.17em;pointer-events:none;line-height:1.14;color:#000;font-weight:500;margin-top:.285em;text-align:center;transform:scale(0);transition:transform .3s ease-in}.reactions.animating .emoji-container{animation:emoji-animation .6s ease-in-out;animation-fill-mode:both;animation-delay:calc(var(--animate-order)*250ms + .2s)}.reactions.reacted .emoji-container{max-height:.827em;animation:none;transition-timing-function:ease-in;opacity:1}.reactions.reacted .emoji-container .count{display:initial;transform:scale(1)}.reactions.reacted .emoji-container.clicked{background:var(--background-color);transform:scale(1.14)}.reactions.rotated{transform:rotate(90deg)}.reactions.rotated.animating .emoji-container{animation-name:emoji-animation-rotated}.reactions.rotated .emoji-container{margin-right:.2189em;transform:rotate(270deg)}.reactions.rotated .emoji-container.clicked{transform:scale(1.14) rotate(270deg)}.reactions.deselected .emoji-container{animation:none;opacity:1}@keyframes emoji-animation{0%{opacity:0;transform:scale(1)}50%{opacity:1;background:var(--background-color);transform:scale(1.14)}to{opacity:1;transform:scale(1)}}@keyframes emoji-animation-rotated{0%{opacity:0;transform:scale(1) rotate(270deg)}50%{opacity:1;background:var(--background-color);transform:scale(1.14) rotate(270deg)}to{opacity:1;transform:scale(1) rotate(270deg)}}.image-cta-wrapper{position:absolute;text-align:left!important}.image-cta-wrapper img{width:100%;height:100%;cursor:pointer;position:absolute;object-fit:cover}.media-component{position:absolute;pointer-events:none}.media-component img{width:100%;height:100%;object-fit:cover;display:block}.media-component video{width:100%;height:auto!important}.poll-component[data-scale="0.64"]{position:absolute;overflow:hidden;text-align:center}.poll-component[data-scale="0.64"] .question{padding-bottom:.042em;margin:0 0 .14em;font-weight:700;font-size:.28em;line-height:1.1785;color:var(--background-color);text-shadow:var(--text-shadow-color);overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.poll-component[data-scale="0.64"] .options{height:.71em;display:flex;background-color:var(--background-color);border:2px solid var(--border-color);border-radius:.16em;overflow:hidden}.poll-component[data-scale="0.64"] .options button{position:relative;cursor:pointer;font-size:inherit;width:50%;color:var(--text-color);background-color:var(--background-color);padding:.12em;border:none;transition:all .6s ease}.poll-component[data-scale="0.64"] .options button .option-title{display:block;width:100%;font-weight:700;font-size:.19em;line-height:1.277;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.poll-component[data-scale="0.64"] .options button .vote{display:block;font-weight:400;font-size:.23em;line-height:1.1739}.poll-component[data-scale="0.64"] .options button:first-of-type{border-right:1px solid var(--border-color)}.poll-component[data-scale="0.64"] .options button:last-of-type{border-left:1px solid var(--border-color)}.poll-component[data-scale="0.64"].voted .options button{display:flex;flex-direction:column;justify-content:space-between;border:none;padding:.08em .12em}.poll-component[data-scale="0.64"].voted .options button:not(.overflows).option-title{font-size:.17em;line-height:1.1764;-webkit-line-clamp:1}.poll-component[data-scale="0.64"].voted .options button:not(.selected){background-image:linear-gradient(var(--border-color) 0 0)}.poll-component[data-scale="0.64"].voted .options button:first-of-type{text-align:left}.poll-component[data-scale="0.64"].voted .options button:last-of-type{align-items:flex-end;text-align:right}.poll-component[data-scale="0.64"].voted .options button:last-of-type .option-title{max-width:4.5em}.poll-component[data-scale="0.64"].voted .options button.overflows{padding:.04em .12em;text-align:left}.poll-component[data-scale="0.64"].voted .options button.overflows .option-title{font-size:.14em}.poll-component[data-scale="0.64"].voted .options button .option-title{padding-bottom:1.2625em}.poll-component[data-scale="0.64"].voted .options[data-percentage-0="0"] button:first-of-type{padding:0;opacity:0}.poll-component[data-scale="0.64"].voted .options[data-percentage-0="0"] button:last-of-type{align-items:center;text-align:center}.poll-component[data-scale="0.64"].voted .options[data-percentage-1="0"] button:last-of-type{padding:0;opacity:0}.poll-component[data-scale="0.64"].voted .options[data-percentage-1="0"] button:first-of-type{align-items:center;text-align:center}.poll-component[data-scale="0.8"]{position:absolute;overflow:hidden;text-align:center}.poll-component[data-scale="0.8"] .question{padding-bottom:.0525em;margin:0 0 .175em;font-weight:700;font-size:.35em;line-height:1.1785;color:var(--background-color);text-shadow:var(--text-shadow-color);overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.poll-component[data-scale="0.8"] .options{height:.8875em;display:flex;background-color:var(--background-color);border:2px solid var(--border-color);border-radius:.2em;overflow:hidden}.poll-component[data-scale="0.8"] .options button{position:relative;cursor:pointer;font-size:inherit;width:50%;color:var(--text-color);background-color:var(--background-color);padding:.15em;border:none;transition:all .6s ease}.poll-component[data-scale="0.8"] .options button .option-title{display:block;width:100%;font-weight:700;font-size:.2375em;line-height:1.277;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.poll-component[data-scale="0.8"] .options button .vote{display:block;font-weight:400;font-size:.2875em;line-height:1.1739}.poll-component[data-scale="0.8"] .options button:first-of-type{border-right:1px solid var(--border-color)}.poll-component[data-scale="0.8"] .options button:last-of-type{border-left:1px solid var(--border-color)}.poll-component[data-scale="0.8"].voted .options button{display:flex;flex-direction:column;justify-content:space-between;border:none;padding:.1em .15em}.poll-component[data-scale="0.8"].voted .options button:not(.overflows).option-title{font-size:.2125em;line-height:1.1764;-webkit-line-clamp:1}.poll-component[data-scale="0.8"].voted .options button:not(.selected){background-image:linear-gradient(var(--border-color) 0 0)}.poll-component[data-scale="0.8"].voted .options button:first-of-type{text-align:left}.poll-component[data-scale="0.8"].voted .options button:last-of-type{align-items:flex-end;text-align:right}.poll-component[data-scale="0.8"].voted .options button:last-of-type .option-title{max-width:5.625em}.poll-component[data-scale="0.8"].voted .options button.overflows{padding:.05em .15em;text-align:left}.poll-component[data-scale="0.8"].voted .options button.overflows .option-title{font-size:.175em}.poll-component[data-scale="0.8"].voted .options button .option-title{padding-bottom:1.2625em}.poll-component[data-scale="0.8"].voted .options[data-percentage-0="0"] button:first-of-type{padding:0;opacity:0}.poll-component[data-scale="0.8"].voted .options[data-percentage-0="0"] button:last-of-type{align-items:center;text-align:center}.poll-component[data-scale="0.8"].voted .options[data-percentage-1="0"] button:last-of-type{padding:0;opacity:0}.poll-component[data-scale="0.8"].voted .options[data-percentage-1="0"] button:first-of-type{align-items:center;text-align:center}.poll-component[data-scale="1"]{position:absolute;overflow:hidden;text-align:center}.poll-component[data-scale="1"] .question{padding-bottom:.065625em;margin:0 0 .21875em;font-weight:700;font-size:.4375em;line-height:1.1785;color:var(--background-color);text-shadow:var(--text-shadow-color);overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.poll-component[data-scale="1"] .options{height:1.109375em;display:flex;background-color:var(--background-color);border:2px solid var(--border-color);border-radius:.25em;overflow:hidden}.poll-component[data-scale="1"] .options button{position:relative;cursor:pointer;font-size:inherit;width:50%;color:var(--text-color);background-color:var(--background-color);padding:.1875em;border:none;transition:all .6s ease}.poll-component[data-scale="1"] .options button .option-title{display:block;width:100%;font-weight:700;font-size:.296875em;line-height:1.277;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.poll-component[data-scale="1"] .options button .vote{display:block;font-weight:400;font-size:.359375em;line-height:1.1739}.poll-component[data-scale="1"] .options button:first-of-type{border-right:1px solid var(--border-color)}.poll-component[data-scale="1"] .options button:last-of-type{border-left:1px solid var(--border-color)}.poll-component[data-scale="1"].voted .options button{display:flex;flex-direction:column;justify-content:space-between;border:none;padding:.125em .1875em}.poll-component[data-scale="1"].voted .options button:not(.overflows).option-title{font-size:.265625em;line-height:1.1764;-webkit-line-clamp:1}.poll-component[data-scale="1"].voted .options button:not(.selected){background-image:linear-gradient(var(--border-color) 0 0)}.poll-component[data-scale="1"].voted .options button:first-of-type{text-align:left}.poll-component[data-scale="1"].voted .options button:last-of-type{align-items:flex-end;text-align:right}.poll-component[data-scale="1"].voted .options button:last-of-type .option-title{max-width:7.03125em}.poll-component[data-scale="1"].voted .options button.overflows{padding:.0625em .1875em;text-align:left}.poll-component[data-scale="1"].voted .options button.overflows .option-title{font-size:.21875em}.poll-component[data-scale="1"].voted .options button .option-title{padding-bottom:1.2625em}.poll-component[data-scale="1"].voted .options[data-percentage-0="0"] button:first-of-type{padding:0;opacity:0}.poll-component[data-scale="1"].voted .options[data-percentage-0="0"] button:last-of-type{align-items:center;text-align:center}.poll-component[data-scale="1"].voted .options[data-percentage-1="0"] button:last-of-type{padding:0;opacity:0}.poll-component[data-scale="1"].voted .options[data-percentage-1="0"] button:first-of-type{align-items:center;text-align:center}.poll-component[data-mode=Dark] .options button:first-child{border-right:1px solid #616161}.poll-component[data-mode=Dark] .options button:nth-child(2){border-left:1px solid #616161}.poll-component[data-mode=Light] .options{border:1px solid #e0e0e0}.poll-component[data-mode=Light] .options button:first-child{border-right:1px solid #eee}.poll-component[data-mode=Light] .options button:nth-child(2){border-left:1px solid #eee}.poll-component[data-mode=Dark] .options button:first-child,.poll-component[data-mode=Light] .options button:first-child{color:#16c898}.poll-component[data-mode=Dark] .options button:nth-child(2),.poll-component[data-mode=Light] .options button:nth-child(2){color:#fe3f9c}.product-tag-dot{z-index:99;position:inherit;color:#000;background-color:#fff;font-size:.2256em;line-height:1.23;width:7.4%;border-radius:50%;border:1px solid;background:no-repeat 50%;background-size:67%;animation:leaves 1s ease-out infinite alternate;animation-delay:.3s;cursor:pointer}.product-tag-dot:before{content:"";float:left;padding-top:100%}.product-tag-dot.active .product-tag-tooltip{visibility:visible;opacity:1;transform:translateY(0)}.product-tag-dot.active{animation:none}.product-tag-dot .product-tag-tooltip{z-index:inherit;cursor:pointer;visibility:hidden;opacity:0;padding:0;position:inherit;display:inline-block;font-weight:600;font-style:normal;font-size:inherit;font-family:inherit;border:.1538em solid;-webkit-background-clip:padding-box;background-clip:padding-box;border-radius:.923em;width:auto;white-space:nowrap;transform:translateY(30px);transition:all .4s ease-out,margin-left 0s}.product-tag-dot .product-tag-tooltip.top-left{bottom:calc(100% + .307em);right:0}.product-tag-dot .product-tag-tooltip.top-middle{bottom:calc(100% + .307em);left:50%}.product-tag-dot .product-tag-tooltip.top-right{bottom:calc(100% + .307em);left:0}.product-tag-dot .product-tag-tooltip.down-right{top:calc(100% + .307em);left:0}.product-tag-dot .product-tag-tooltip.down-middle{top:calc(100% + .307em);left:50%}.product-tag-dot .product-tag-tooltip.down-left{top:calc(100% + .307em);right:0}.product-tag-dot .product-tag-tooltip .title-container{padding:.615em .615em 0;display:flex;flex-direction:row;gap:.769em;align-items:flex-start;width:100%}.product-tag-dot .product-tag-tooltip .title-container .tag-title{overflow:hidden;text-overflow:ellipsis}.product-tag-dot .product-tag-tooltip .title-container.no-price{padding-bottom:.615em}.product-tag-dot .product-tag-tooltip .price-container{padding:.307em;display:flex;flex-direction:row-reverse;justify-content:flex-start;align-items:center}.product-tag-dot .product-tag-tooltip .price-container .price{padding:.1538em .615em;border-radius:.923em .1538em}.product-tag-dot .product-tag-tooltip .price-container .old-price{padding:0 .307em 0 .615em;background-color:transparent;text-decoration:line-through}@keyframes leaves{0%{transform:none}to{transform:scale(1.2)}}.promo-code-component{--data-rotation:0deg;cursor:pointer;max-width:100%;position:absolute;color:#212121;flex-direction:column;justify-content:center;padding:.0175em;background-size:50% 100%;background-image:radial-gradient(circle at 0 50%,transparent .133em,#e0e0e0 0),radial-gradient(circle at 100% 50%,transparent .133em,#e0e0e0 0);animation:promoSpin 1s linear infinite}.promo-code-component,.promo-code-component .promo-code{display:flex;background-repeat:no-repeat;background-position:0 0,100% 0}.promo-code-component .promo-code{width:100%;height:100%;align-items:center;justify-content:flex-start;background-size:90% 100%;background-image:radial-gradient(circle at -.0175em 50%,transparent .1505em,#fff 0),radial-gradient(circle at calc(100% + .0175em) 50%,transparent .1505em,#fff 0)}.promo-code-component .promo-code-title{word-break:keep-all;text-align:center;display:inline-block;align-items:center;font-weight:400;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.promo-code-component .promo-code svg{width:.563em;height:.563em}.promo-code-component .promo-code span:last-child{height:100%;display:flex;align-items:center;justify-content:flex-start;border-left:.035em dashed #e0e0e0}.promo-code-component[data-mode=Dark]{color:#fff;background-image:radial-gradient(circle at 0 50%,hsla(0,0%,45.9%,0) .133em,#757575 0),radial-gradient(circle at 100% 50%,hsla(0,0%,45.9%,0) .133em,#757575 0);box-sizing:border-box}.promo-code-component[data-mode=Dark] .promo-code{background-image:radial-gradient(circle at -.0175em 50%,transparent .1505em,#212121 0),radial-gradient(circle at calc(100% + .0175em) 50%,transparent .1505em,#212121 0)}.promo-code-component[data-mode=Dark] .promo-code span:last-child{border-left-color:#757575}.promo-code-component[data-mode=Dark] .promo-code-component-copied{background-color:#212121;color:#fafafa;border:.01736em solid #757575}.promo-code-component[data-mode=Dark] .promo-code-component-copied:before{border-top-color:#757575!important}.promo-code-component[data-mode=Dark] .promo-code-component-copied:after{border-top-color:#212121!important}.promo-code-component[data-mode=Light] .promo-code-component-copied{background-color:#fff;color:#141414;border:.01736em solid #dbdbdb}.promo-code-component[data-mode=Light] .promo-code-component-copied:before{border-top-color:#dbdbdb!important}.promo-code-component[data-mode=Light] .promo-code-component-copied:after{border-top-color:#fff!important}.promo-code-component[data-scale="2"]{height:.829em;border-radius:.133em}.promo-code-component[data-scale="2"] .promo-code{padding-left:.243em;padding-right:.208em;border-radius:.133em}.promo-code-component[data-scale="2"] .promo-code-title{padding-right:inherit;font-size:.5034em;line-height:1.206}.promo-code-component[data-scale="2"] .promo-code svg{padding-left:.15625em}.promo-code-component[data-scale="1"]{height:.729em;border-radius:.133em}.promo-code-component[data-scale="1"] .promo-code{padding-left:.277em;padding-right:.186em;border-radius:.133em}.promo-code-component[data-scale="1"] .promo-code-title{padding-right:inherit;font-size:.347em;line-height:1.2}.promo-code-component[data-scale="1"] .promo-code svg{padding-left:.1086em}.promo-code-component[data-scale="0"]{height:.695em;border-radius:.133em}.promo-code-component[data-scale="0"] .promo-code{padding-left:.26em;padding-right:.17725em;border-radius:.133em}.promo-code-component[data-scale="0"] .promo-code-title{padding-right:inherit;font-size:.277em;line-height:1.1875}.promo-code-component[data-scale="0"] .promo-code svg{padding-left:.1034em}.promo-code-component-copied{font-size:.2256em;position:absolute;left:50%;transform:translateX(-50%) translateY(calc(-100% - .8em));white-space:nowrap;padding:.5em 1em;border-radius:3em;width:auto;text-align:center;display:block;top:0;visibility:hidden;opacity:0;transition:all .3s ease-in-out}.promo-code-component-copied.show{visibility:visible;opacity:1}.promo-code-component-copied:after,.promo-code-component-copied:before{content:"";position:absolute;border-left:.4em solid transparent;border-right:.4em solid transparent;bottom:0;left:50%}.promo-code-component-copied:before{border-top:.6em solid transparent;transform:translate(-50%,calc(100% + .01736em))}.promo-code-component-copied:after{border-top:.6em solid transparent;transform:translate(-50%,90%);z-index:1}@keyframes promoSpin{0%{transform:rotate(calc(var(--data-rotation)))}25%{transform:rotate(calc(1deg + var(--data-rotation)))}50%{transform:rotate(calc(var(--data-rotation)))}75%{transform:rotate(calc(-1deg + var(--data-rotation)))}to{transform:rotate(calc(var(--data-rotation)))}}.question-component{text-align:center;position:absolute;cursor:pointer;border-radius:22.3825px 22.3825px 0 22.3825px}.question-component-tail{border-bottom:20px solid transparent;position:absolute;right:-1px;bottom:-20px}.question-component-container{overflow:hidden}.question-component-container-button{color:#000;background:hsla(0,0%,100%,.8);border:1px solid rgba(0,0,0,.1);border-radius:100px}.question-component[data-scale="1"]{padding:.3125em}.question-component[data-scale="1"] h6{font-size:.3125em;line-height:1.2}.question-component[data-scale="1"] p{font-size:.265625em;line-height:1.1765}.question-component[data-scale="1"] .question-component-container-button{padding:.25em .125em}.question-component[data-scale="1"] .question-component-container-button:not(:only-child){margin-top:.1875em}.question-component[data-scale="0.8"]{padding:.25em}.question-component[data-scale="0.8"] h6{font-size:.25em;line-height:1.1875}.question-component[data-scale="0.8"] p{font-size:.21875em;line-height:1.2142}.question-component[data-scale="0.8"] .question-component-container-button{padding:.1875em .0625em;margin-top:.15em}.question-component[data-scale="0.64"]{padding:.203125em}.question-component[data-scale="0.64"] h6{font-size:.203125em;line-height:1.23}.question-component[data-scale="0.64"] p{font-size:.171875em;line-height:1.1818}.question-component[data-scale="0.64"] .question-component-container-button{padding:.171875em .125em;margin-top:.203125em}.question-component h6,.question-component p{margin:0;padding:0}.question-component h6{font-weight:500}.question-component p{font-weight:400}.question-textbox-container{visibility:hidden;height:100%;width:100%;overflow:hidden}.question-textbox-container.active{visibility:visible}.question-textbox-container.active .question-textbox-container-overlay{opacity:1}.question-textbox-container.active .question-textbox-container-form{opacity:1;transform:translateY(-100px);transition:opacity .1s ease-in,transform .1s ease-in,max-height .4s linear}.question-textbox-container.active.android .question-textbox-container-form{transform:none;transition:opacity .3s ease-in;transition-delay:.3s}.question-textbox-container.android .question-textbox-container-form{bottom:10%;font-size:14px}.question-textbox-container.ios .question-textbox-container-form textarea{font-size:16px!important}.question-textbox-container-overlay{position:absolute;transition:all .2s ease-in-out;background:rgba(30,30,30,.2);backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);top:0;left:0;height:100%;width:100%;z-index:1999;opacity:0}.question-textbox-container-form{position:absolute;overflow:hidden;transition:all .3s ease-out;opacity:0;font-size:.21875em;padding:1.1428em;border-radius:16px;bottom:calc(var(--i--storyly-story-layer-height)/2 - 100px);left:0;right:0;margin:auto;width:82%;z-index:2000}.question-textbox-container-form label{font-size:1.2857em;line-height:1.33;margin-bottom:.5714em;text-align:center;display:block}.question-textbox-container-form textarea{font-family:inherit;text-align:left!important;font-size:16px!important;line-height:1.4285;max-height:8.571em;overflow:hidden;padding:.8571em;width:100%;background:hsla(0,0%,100%,.7);border-radius:6px;border:none;resize:none;color:#000}.question-textbox-container-form textarea:focus-visible{outline:none}.question-textbox-container-form button{transition:all .3s linear;cursor:pointer;opacity:0;height:3em;padding:0;border:none;width:100%;border-radius:100px}.question-textbox-container-form button.active{opacity:1}.question-textbox-container[dir=rtl] textarea{text-align:right!important}.question-component-result{text-align:center;position:absolute;cursor:default;padding:0!important}.question-component-result[data-scale="0.64"]{border-radius:.28em}.question-component-result[data-scale="0.64"] .question-component-tail{border-right:.2em solid;border-bottom:.2em solid transparent;right:0;bottom:-.19em}.question-component-result[data-scale="0.64"] .question-component-container{border-radius:.28em;border-bottom-right-radius:0!important}.question-component-result[data-scale="0.64"] .question-component-container-title{border-radius:inherit;padding:.16em}.question-component-result[data-scale="0.64"] .question-component-container-title h6{font-size:.17em;font-weight:400}.question-component-result[data-scale="0.64"] .question-component-container-text{background:hsla(0,0%,100%,.8);padding:.2em;color:#000}.question-component-result[data-scale="0.64"] .question-component-container-text p{font-size:.2em;font-weight:600}.question-component-result[data-scale="0.8"]{border-radius:.35em}.question-component-result[data-scale="0.8"] .question-component-tail{border-right:.25em solid;border-bottom:.25em solid transparent;right:0;bottom:-.2375em}.question-component-result[data-scale="0.8"] .question-component-container{border-radius:.35em;border-bottom-right-radius:0!important}.question-component-result[data-scale="0.8"] .question-component-container-title{border-radius:inherit;padding:.2em}.question-component-result[data-scale="0.8"] .question-component-container-title h6{font-size:.2125em;font-weight:400}.question-component-result[data-scale="0.8"] .question-component-container-text{background:hsla(0,0%,100%,.8);padding:.25em;color:#000}.question-component-result[data-scale="0.8"] .question-component-container-text p{font-size:.25em;font-weight:600}.question-component-result[data-scale="1"]{border-radius:.4375em}.question-component-result[data-scale="1"] .question-component-tail{border-right:.3125em solid;border-bottom:.3125em solid transparent;right:0;bottom:-.296875em}.question-component-result[data-scale="1"] .question-component-container{border-radius:.4375em;border-bottom-right-radius:0!important}.question-component-result[data-scale="1"] .question-component-container-title{border-radius:inherit;padding:.25em}.question-component-result[data-scale="1"] .question-component-container-title h6{font-size:.265625em;font-weight:400}.question-component-result[data-scale="1"] .question-component-container-text{background:hsla(0,0%,100%,.8);padding:.3125em;color:#000}.question-component-result[data-scale="1"] .question-component-container-text p{font-size:.3125em;font-weight:600}.quiz-component{position:absolute;color:#fff}.quiz-component .question{font-weight:600;word-break:break-all;text-align:center;border:.015625em solid #e0e0e0}.quiz-component .question>span{word-break:break-word;display:flex;align-items:center}.quiz-component .answers{border:.015625em solid #e0e0e0}.quiz-component .answers .answer{position:relative;border-radius:.5em;border:2px solid #eee;display:flex;align-items:center;cursor:pointer;overflow:hidden;text-align:left}.quiz-component .answers .answer .bg-percent{position:absolute;left:0;top:0;border-radius:.5em;background-color:#eee;height:100%;z-index:1;animation:width .3s}.quiz-component .answers .answer span{z-index:2}.quiz-component .answers .answer span:first-child{border-radius:50%;border:.03125em solid #efefef;display:flex;align-items:center;justify-content:center}.quiz-component .answers .answer span:nth-child(2){width:100%;word-break:break-word}.quiz-component .answers .answer.correct-choice{color:#fff}.quiz-component .answers .answer.correct-choice span:first-child{background-color:#fff;color:#51c41a}.quiz-component .answers .answer.correct-choice:after{position:absolute;content:"";top:0;left:0;height:100%;width:100%;background-color:#51c41a;transform-origin:left;transition:width .25s ease;animation:moveCorrect .7s}.quiz-component .answers .answer.other-choice span:first-child{border-color:#ff4d50;color:#ff4d50}.quiz-component .answers .answer.incorrect-choice{color:#fff}.quiz-component .answers .answer.incorrect-choice span:first-child{background-color:#fff;color:#ff4d50}.quiz-component .answers .answer.incorrect-choice:after{position:absolute;content:"";top:0;left:0;height:100%;width:100%;background-color:#ff4d50;transform-origin:left;transition:width .25s ease;animation:moveCorrect .7s}.quiz-component .answers .answer.blurred{opacity:.4}.quiz-component[data-mode=Light] .question{background:#000;color:#fff}.quiz-component[data-mode=Light] .answers{background:#fff;color:#000}.quiz-component[data-mode=Light] .answers[data-has-title=false]{border-top:.015625em solid #e0e0e0}.quiz-component[data-mode=Dark] .question{background:#fff;color:#212121;border-color:#e0e0e0}.quiz-component[data-mode=Dark] .answers{background:#212121;color:#fafafa;border-color:#9e9e9e}.quiz-component[data-mode=Dark] .answers .answer{background:#424242;border-color:#616161}.quiz-component[data-mode=Dark] .answers .bg-percent{background-color:#757575}.quiz-component[data-mode=Dark] .answers[data-has-title=false]{border-top:.015625em solid #9e9e9e}.quiz-component[data-scale="3"]{width:88.88%!important}.quiz-component[data-scale="3"] .question{border-top-left-radius:.25em;border-top-right-radius:.25em;padding:.3125em}.quiz-component[data-scale="3"] .question>span{font-size:.3125em;line-height:1.2}.quiz-component[data-scale="3"] .answers{border-bottom-left-radius:.25em;border-bottom-right-radius:.25em;padding:.25em}.quiz-component[data-scale="3"] .answers .answer{padding:.1875em;height:.875em}.quiz-component[data-scale="3"] .answers .answer:not(:last-child){margin-bottom:.25em}.quiz-component[data-scale="3"] .answers[data-has-title=false]{border-radius:.25em}.quiz-component[data-scale="3"] .answers span{font-size:.265625em;line-height:1.1764705882}.quiz-component[data-scale="3"] .answers span:first-child{min-width:1.8823em;min-height:1.8823em;margin-right:.47em}.quiz-component[data-scale="2"]{width:71.1%!important}.quiz-component[data-scale="2"] .question{border-top-left-radius:.203125em;border-top-right-radius:.203125em;padding:.25em}.quiz-component[data-scale="2"] .question>span{font-size:.25em;line-height:1.1875}.quiz-component[data-scale="2"] .answers{border-bottom-left-radius:.203125em;border-bottom-right-radius:.203125em;padding:.203125em}.quiz-component[data-scale="2"] .answers .answer{padding:.09375em .203125em .09375em .09375em;height:.6875em}.quiz-component[data-scale="2"] .answers .answer:not(:last-child){margin-bottom:.203125em}.quiz-component[data-scale="2"] .answers[data-has-title=false]{border-radius:.203125em}.quiz-component[data-scale="2"] .answers span{font-size:.21875em;line-height:1.2142857143}.quiz-component[data-scale="2"] .answers span:first-child{min-width:1.8571em;min-height:1.8571em;margin-right:.4285em}.quiz-component[data-scale="1"]{width:56.88%!important}.quiz-component[data-scale="1"] .question{border-top-left-radius:.15625em;border-top-right-radius:.15625em;padding:.203125em}.quiz-component[data-scale="1"] .question>span{font-size:.203125em;line-height:1.23}.quiz-component[data-scale="1"] .answers{border-bottom-left-radius:.15625em;border-bottom-right-radius:.15625em;padding:.15625em}.quiz-component[data-scale="1"] .answers .answer{padding:.078125em .15625em .078125em .078125em;height:.546875em}.quiz-component[data-scale="1"] .answers .answer:not(:last-child){margin-bottom:.15625em}.quiz-component[data-scale="1"] .answers[data-has-title=false]{border-radius:.15625em}.quiz-component[data-scale="1"] .answers span{font-size:.171875em;line-height:1.1818181818}.quiz-component[data-scale="1"] .answers span:first-child{min-width:1.9em;min-height:1.9em;margin-right:.45em}@keyframes width{0%{width:0}}@keyframes moveCorrect{0%{width:0}to{width:100%}}.rating-component{position:absolute;font-weight:600;border:1px solid #e0e0e0;box-shadow:0 0 .125em rgba(224,223,223,.1);display:flex;flex-direction:column;justify-content:center;background:#fff;color:#262626}.rating-component .title{display:flex;align-items:center;justify-content:center}.rating-component .title span{word-break:break-word;text-align:center}.rating-component .slider-container{display:flex;justify-content:center;align-items:center;width:100%}.rating-component .slider-container .slider{width:100%;background:#efefef;border-radius:.125em;position:relative;display:flex;align-items:center}.rating-component .slider-container .slider .average-tooltip.show{display:block!important}.rating-component .slider-container .slider .average-tooltip{font-size:.203125em;position:absolute;left:0;transform:translateX(-40%);white-space:nowrap;padding:.5em;border-radius:.5em;width:auto;text-align:center;display:none}.rating-component .slider-container .slider .average-tooltip:after,.rating-component .slider-container .slider .average-tooltip:before{content:"";position:absolute;border-left:1em solid transparent;border-right:1em solid transparent;top:0;left:50%}.rating-component .slider-container .slider .average-tooltip:before{border-bottom:1em solid transparent;transform:translate(-50%,-100%)}.rating-component .slider-container .slider .average-tooltip:after{border-bottom:1em solid transparent;transform:translate(-50%,-80%);z-index:1}.rating-component .slider-container .slider .indicator-animation{position:relative;left:-.15625em;animation:indicatorAnimationMove 2s infinite;display:none}.rating-component .slider-container .slider .indicator{position:absolute;left:-.15625em;cursor:pointer;animation-duration:1.5s;animation-delay:.3s}.rating-component .slider-container .slider .slider-colored{height:100%;background:linear-gradient(90deg,#b900b3,#f00010);border-radius:.125em;position:relative;animation-duration:1.5s;animation-delay:.3s}.rating-component[data-mode=Light] .average-tooltip{background-color:#fff;color:#141414;border:1px solid #e0e0e0}.rating-component[data-mode=Light] .average-tooltip:before{border-bottom-color:#e0e0e0!important}.rating-component[data-mode=Light] .average-tooltip:after{border-bottom-color:#fff!important}.rating-component[data-mode=Dark]{color:#fff;background-color:#212121;border:1px solid #757575;box-sizing:border-box;box-shadow:0 0 .125em hsla(0,0%,52.5%,.1)}.rating-component[data-mode=Dark] .average-tooltip{background-color:#141414;color:#fff;border:1px solid #616161}.rating-component[data-mode=Dark] .average-tooltip:before{border-bottom-color:#616161!important}.rating-component[data-mode=Dark] .average-tooltip:after{border-bottom-color:#141414!important}.rating-component[data-mode=Dark] .slider{background:#434343}.rating-component[data-scale="3"]{width:88.88%!important;border-radius:.25em;padding:.3125em}.rating-component[data-scale="3"] .slider-container{height:.625em}.rating-component[data-scale="3"] .slider-container .slider{height:.1875em}.rating-component[data-scale="3"] .slider-container .slider .average-tooltip{top:4em}.rating-component[data-scale="3"] .title{padding-bottom:.375em}.rating-component[data-scale="3"] .title span{font-size:.3125em;line-height:1.2}.rating-component[data-scale="3"] .indicator,.rating-component[data-scale="3"] .indicator-animation{font-size:.625em}.rating-component[data-scale="2"]{width:71.1%!important;border-radius:.1875em;padding:.25em}.rating-component[data-scale="2"] .slider-container{height:.5em}.rating-component[data-scale="2"] .slider-container .slider{height:.15625em}.rating-component[data-scale="2"] .slider-container .slider .average-tooltip{top:3em}.rating-component[data-scale="2"] .title{padding-bottom:.296875em}.rating-component[data-scale="2"] .title span{font-size:.25em;line-height:1.1875}.rating-component[data-scale="2"] .indicator,.rating-component[data-scale="2"] .indicator-animation{font-size:.5em}.rating-component[data-scale="1"]{width:56.88%!important;border-radius:.203125em;padding:.203125em}.rating-component[data-scale="1"] .slider-container{height:.40625em}.rating-component[data-scale="1"] .slider-container .slider{height:.125em}.rating-component[data-scale="1"] .slider-container .slider .average-tooltip{top:2.5em}.rating-component[data-scale="1"] .title{padding-bottom:.234375em}.rating-component[data-scale="1"] .title span{font-size:.203125em;line-height:1.123}.rating-component[data-scale="1"] .indicator,.rating-component[data-scale="1"] .indicator-animation{font-size:.40625em}@keyframes indicatorMoveAnimation{0%{left:-.15625em}25%{left:2em}50%{left:2em}75%{left:-.15625em}to{left:-.15625em}}@keyframes sliderColoredMoveAnimation{0%{width:0}25%{width:40%}50%{width:40%}75%{width:0}to{width:0}}@keyframes indicatorAnimationMove{0%{top:-.78125em}25%{top:-.828125em}50%{top:-.875em}75%{top:-.828125em}to{top:-.78125em}}.text-component{position:absolute;padding:0;display:flex}.text-component span{line-height:1.2;word-wrap:break-word;width:max-content;display:-webkit-box;-webkit-box-orient:vertical;word-break:break-word;text-overflow:ellipsis;overflow:hidden}.text-component span[data-highlight=sharp]{border-radius:0;padding:.33em .5em}.text-component span[data-highlight=soft]{border-radius:.4em;padding:.33em .5em}.text-component span[data-highlight=round]{border-radius:.6em;padding:.33em .5em}.text-component span[data-highlight=retro]{box-shadow:-.125em -.125em 0 0 currentColor;margin-left:.125em;margin-top:.125em;padding:.33em}.text-component-bottom-sheet{font-size:.21875em;line-height:1.21;margin:0 .8571428571em 1.7142857143em;padding:0}.product-card-interactive{position:absolute;top:var(--product-card-top);display:flex;flex-direction:column;justify-content:space-between;background-color:#fff;padding:.109375em;border:1px solid #eee;box-shadow:0 0 8px hsla(0,0%,52.5%,.1);opacity:1;width:1.59375em;cursor:pointer}.product-card-interactive-image{display:block;width:100%;margin-bottom:.09375em;border:1px solid #eee;object-fit:cover;aspect-ratio:1}.product-card-interactive-image:after{content:"";display:block;padding-top:100%}.product-card-interactive-title{margin-bottom:.09375em}.product-card-interactive-title h6{font-weight:400;font-size:.203125em;line-height:1.214;color:#212121;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;margin:0;height:2.428em}.product-card-interactive-price-old{display:block;font-weight:400;font-size:.1875em;line-height:1.16;text-decoration-line:line-through;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:#757575}.product-card-interactive-price-current{display:flex;align-items:center;justify-content:space-between}.product-card-interactive-price-current span{display:block;font-weight:700;font-size:.203125em;line-height:1.214;color:#212121;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.product-card-interactive-price-current-button{font-size:inherit;flex-shrink:0;display:flex;align-items:center;justify-content:center;width:.34609375em;height:.34609375em;background:#f5f5f5;border:none;padding:0}.product-card-interactive-price-current-button svg{display:block;width:.2307291em;height:.2307291em}.product-card-interactive[data-radius=true]{border-radius:.1875em}.product-card-interactive[data-radius=true] .product-card-interactive-image,.product-card-interactive[data-radius=true] .product-card-interactive-price-current-button{border-radius:.109375em}.product-card-interactive[data-scale="1"]{transform:scale(1) rotate(var(--product-card-rotation));transform-origin:top left}.product-card-interactive[data-scale="1.2"]{transform:scale(1.2) rotate(var(--product-card-rotation));transform-origin:top left}.product-card-interactive[data-scale="1.44"]{transform:scale(1.44) rotate(var(--product-card-rotation));transform-origin:top left}@charset "UTF-8";.image-quiz-component{position:absolute;border:1px solid #e0e0e0;background-color:#fff;overflow:hidden;transform-origin:left}.image-quiz-component[data-scale="0.64"]{border-radius:.16em}.image-quiz-component[data-scale="0.64"] .image-quiz-component-header{background-color:#212121;padding:.2em}.image-quiz-component[data-scale="0.64"] .image-quiz-component-header h6{color:#fff;font-size:.2em;font-weight:400;line-height:1.2;text-align:center;margin:0;padding:0}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions{display:flex;flex-wrap:wrap;justify-content:space-around;align-items:center;gap:2px;padding:.03em}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question{font-size:inherit;cursor:pointer;position:relative;flex:0 0 calc(50% - 1px);background-repeat:no-repeat;background-size:cover;background-position:50%;border:1px solid #eee;border-radius:.13em;overflow:hidden;padding:0;margin:0}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question-title{position:absolute;left:.08em;right:.08em;bottom:.14em;text-align:center}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question-title span{color:#fff;font-size:.14em;line-height:1.214;font-weight:700;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question-letter{position:absolute;left:.08em;top:.08em;width:.32em;height:.32em;border:.02em solid #fff;border-radius:50%;background:rgba(0,0,0,.3);backdrop-filter:blur(2px);display:flex;justify-content:center;align-items:center}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question-letter span{color:#fff;font-size:.14em;font-weight:600;line-height:1}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question .correct-emoji,.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question .wrong-emoji{font-size:.4em;line-height:1;position:absolute;left:.08em;top:.08em;z-index:1;animation:image-quiz-emoji-scale-animation .6s cubic-bezier(.54,-.03,.39,1.3)}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question .correct-icon,.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question .wrong-icon{position:absolute;left:.08em;top:.08em;height:.32em;width:.32em;border-radius:50%;border:.02em solid #51c41a;background-color:#fff;display:flex;align-items:center;justify-content:center;animation:init-icons-animation .2s ease-in}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question .correct-icon svg,.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question .wrong-icon svg{height:.18em;width:.18em}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question .wrong-icon{border:.02em solid #ff4d50}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question:before{content:"";display:block;padding-top:100%;background:linear-gradient(180deg,transparent 36.84%,rgba(0,0,0,.72));border-radius:inherit;transition:all .1s ease-in}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question:after{content:"";position:absolute;left:0;bottom:0;right:0;top:0;border-radius:inherit;opacity:0;transition:all .1s ease-in}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question:not(.selected).correct-option::before,.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question:not(.selected).wrong-option:before{background:linear-gradient(180deg,hsla(0,0%,100%,.2) 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question.correct-option:before,.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question.wrong-option:before{background:linear-gradient(180deg,transparent 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question.correct-option:after{border:.03em solid #b9e7a3;opacity:1}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question.selected.correct-option:after{border:.03em solid #51c41a}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question.wrong-option:after{border:.03em solid #ffb8b9;opacity:1}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question.selected.wrong-option:after{border:.03em solid #ff4d50}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question.correct-option,.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question.wrong-option{cursor:default}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question .percentage-icon{position:absolute;min-width:fit-content;width:calc(var(--width-percentage) - .16em);left:.08em;top:.08em;border:1px solid #e0e0e0;border-radius:.16em;background-color:#fff;padding:.06em .08em;animation:percentage-icons-animation .6s cubic-bezier(.54,-.03,.39,1.3)}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question .percentage-icon span{display:block;font-size:.17em;color:#000;line-height:1.1764;font-weight:700}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question.selected.percentage-option:before{background:linear-gradient(180deg,transparent 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="0.64"] .image-quiz-component-questions .image-quiz-component-question:not(.selected).percentage-option:before{background:linear-gradient(180deg,hsla(0,0%,100%,.2) 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="0.8"]{border-radius:.2em}.image-quiz-component[data-scale="0.8"] .image-quiz-component-header{background-color:#212121;padding:.25em}.image-quiz-component[data-scale="0.8"] .image-quiz-component-header h6{color:#fff;font-size:.25em;font-weight:400;line-height:1.2;text-align:center;margin:0;padding:0}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions{display:flex;flex-wrap:wrap;justify-content:space-around;align-items:center;gap:2px;padding:.0375em}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question{font-size:inherit;cursor:pointer;position:relative;flex:0 0 calc(50% - 1px);background-repeat:no-repeat;background-size:cover;background-position:50%;border:1px solid #eee;border-radius:.1625em;overflow:hidden;padding:0;margin:0}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question-title{position:absolute;left:.1em;right:.1em;bottom:.175em;text-align:center}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question-title span{color:#fff;font-size:.175em;line-height:1.214;font-weight:700;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question-letter{position:absolute;left:.1em;top:.1em;width:.4em;height:.4em;border:.025em solid #fff;border-radius:50%;background:rgba(0,0,0,.3);backdrop-filter:blur(2px);display:flex;justify-content:center;align-items:center}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question-letter span{color:#fff;font-size:.175em;font-weight:600;line-height:1}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question .correct-emoji,.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question .wrong-emoji{font-size:.5em;line-height:1;position:absolute;left:.1em;top:.1em;z-index:1;animation:image-quiz-emoji-scale-animation .6s cubic-bezier(.54,-.03,.39,1.3)}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question .correct-icon,.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question .wrong-icon{position:absolute;left:.1em;top:.1em;height:.4em;width:.4em;border-radius:50%;border:.025em solid #51c41a;background-color:#fff;display:flex;align-items:center;justify-content:center;animation:init-icons-animation .2s ease-in}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question .correct-icon svg,.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question .wrong-icon svg{height:.225em;width:.225em}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question .wrong-icon{border:.025em solid #ff4d50}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question:before{content:"";display:block;padding-top:100%;background:linear-gradient(180deg,transparent 36.84%,rgba(0,0,0,.72));border-radius:inherit;transition:all .1s ease-in}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question:after{content:"";position:absolute;left:0;bottom:0;right:0;top:0;border-radius:inherit;opacity:0;transition:all .1s ease-in}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question:not(.selected).correct-option::before,.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question:not(.selected).wrong-option:before{background:linear-gradient(180deg,hsla(0,0%,100%,.2) 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question.correct-option:before,.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question.wrong-option:before{background:linear-gradient(180deg,transparent 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question.correct-option:after{border:.0375em solid #b9e7a3;opacity:1}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question.selected.correct-option:after{border:.0375em solid #51c41a}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question.wrong-option:after{border:.0375em solid #ffb8b9;opacity:1}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question.selected.wrong-option:after{border:.0375em solid #ff4d50}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question.correct-option,.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question.wrong-option{cursor:default}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question .percentage-icon{position:absolute;min-width:fit-content;width:calc(var(--width-percentage) - .2em);left:.1em;top:.1em;border:1px solid #e0e0e0;border-radius:.2em;background-color:#fff;padding:.075em .1em;animation:percentage-icons-animation .6s cubic-bezier(.54,-.03,.39,1.3)}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question .percentage-icon span{display:block;font-size:.2125em;color:#000;line-height:1.1764;font-weight:700}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question.selected.percentage-option:before{background:linear-gradient(180deg,transparent 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="0.8"] .image-quiz-component-questions .image-quiz-component-question:not(.selected).percentage-option:before{background:linear-gradient(180deg,hsla(0,0%,100%,.2) 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="1"]{border-radius:.25em}.image-quiz-component[data-scale="1"] .image-quiz-component-header{background-color:#212121;padding:.3125em}.image-quiz-component[data-scale="1"] .image-quiz-component-header h6{color:#fff;font-size:.3125em;font-weight:400;line-height:1.2;text-align:center;margin:0;padding:0}.image-quiz-component[data-scale="1"] .image-quiz-component-questions{display:flex;flex-wrap:wrap;justify-content:space-around;align-items:center;gap:2px;padding:.046875em}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question{font-size:inherit;cursor:pointer;position:relative;flex:0 0 calc(50% - 1px);background-repeat:no-repeat;background-size:cover;background-position:50%;border:1px solid #eee;border-radius:.203125em;overflow:hidden;padding:0;margin:0}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question-title{position:absolute;left:.125em;right:.125em;bottom:.21875em;text-align:center}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question-title span{color:#fff;font-size:.21875em;line-height:1.214;font-weight:700;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question-letter{position:absolute;left:.125em;top:.125em;width:.5em;height:.5em;border:.03125em solid #fff;border-radius:50%;background:rgba(0,0,0,.3);backdrop-filter:blur(2px);display:flex;justify-content:center;align-items:center}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question-letter span{color:#fff;font-size:.21875em;font-weight:600;line-height:1}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question .correct-emoji,.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question .wrong-emoji{font-size:.625em;line-height:1;position:absolute;left:.125em;top:.125em;z-index:1;animation:image-quiz-emoji-scale-animation .6s cubic-bezier(.54,-.03,.39,1.3)}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question .correct-icon,.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question .wrong-icon{position:absolute;left:.125em;top:.125em;height:.5em;width:.5em;border-radius:50%;border:.03125em solid #51c41a;background-color:#fff;display:flex;align-items:center;justify-content:center;animation:init-icons-animation .2s ease-in}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question .correct-icon svg,.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question .wrong-icon svg{height:.28125em;width:.28125em}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question .wrong-icon{border:.03125em solid #ff4d50}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question:before{content:"";display:block;padding-top:100%;background:linear-gradient(180deg,transparent 36.84%,rgba(0,0,0,.72));border-radius:inherit;transition:all .1s ease-in}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question:after{content:"";position:absolute;left:0;bottom:0;right:0;top:0;border-radius:inherit;opacity:0;transition:all .1s ease-in}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question:not(.selected).correct-option::before,.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question:not(.selected).wrong-option:before{background:linear-gradient(180deg,hsla(0,0%,100%,.2) 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question.correct-option:before,.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question.wrong-option:before{background:linear-gradient(180deg,transparent 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question.correct-option:after{border:.046875em solid #b9e7a3;opacity:1}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question.selected.correct-option:after{border:.046875em solid #51c41a}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question.wrong-option:after{border:.046875em solid #ffb8b9;opacity:1}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question.selected.wrong-option:after{border:.046875em solid #ff4d50}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question.correct-option,.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question.wrong-option{cursor:default}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question .percentage-icon{position:absolute;min-width:fit-content;width:calc(var(--width-percentage) - .25em);left:.125em;top:.125em;border:1px solid #e0e0e0;border-radius:.25em;background-color:#fff;padding:.09375em .125em;animation:percentage-icons-animation .6s cubic-bezier(.54,-.03,.39,1.3)}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question .percentage-icon span{display:block;font-size:.265625em;color:#000;line-height:1.1764;font-weight:700}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question.selected.percentage-option:before{background:linear-gradient(180deg,transparent 62.36%,rgba(0,0,0,.63))}.image-quiz-component[data-scale="1"] .image-quiz-component-questions .image-quiz-component-question:not(.selected).percentage-option:before{background:linear-gradient(180deg,hsla(0,0%,100%,.2) 62.36%,rgba(0,0,0,.63))}@keyframes image-quiz-emoji-scale-animation{0%{transform:scale(.8)}to{transform:scale(1.1)}}@keyframes init-icons-animation{0%{opacity:0}to{opacity:1}}@keyframes percentage-icons-animation{0%{transform:translateX(-100%) scaleX(.2)}to{transform:unset}}.product-list-layer{align-items:flex-end;padding:0!important}.product-list-layer .product-list-container{overflow-x:auto;overflow-y:hidden;position:relative;bottom:.25em;height:1.375em}.product-list-layer .product-list-arrow:not([hidden]){cursor:pointer;position:absolute;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.6);border:1px solid hsla(0,0%,100%,.5);padding:2px 7px;border-radius:80px;z-index:2002;opacity:0;transition:opacity .25s ease-in-out;top:50%;transform:translateY(-50%);filter:drop-shadow(-1px 2px 6px rgba(0,0,0,.25));box-shadow:-1px 2px 6px 0 rgba(0,0,0,.4);backdrop-filter:blur(2px)}.product-list-layer .product-list-arrow:not([hidden]):hover{opacity:1}.product-list-layer .product-list-arrow:not([hidden]).left-arrow{left:.1875em}.product-list-layer .product-list-arrow:not([hidden]).right-arrow{right:.1875em}.product-list-layer .product-list-arrow:not([hidden]) svg{pointer-events:none!important}.product-list-layer .product-list{z-index:2001;height:100%;margin-inline-start:.25em;overflow-x:auto;overflow-y:hidden;align-self:flex-end;display:flex;position:relative;scroll-behavior:smooth;-ms-overflow-style:none;scrollbar-width:none;scroll-snap-type:x mandatory;scroll-snap-stop:always;transform:translateY(50px);opacity:0;transition:transform .25s ease,opacity .25s ease-in;transition-delay:.5s}.product-list-layer .product-list::-webkit-scrollbar{display:none}.product-list-layer .product-list:hover~.product-list-arrow{opacity:1}.product-list-layer .product-list.active{opacity:1;transform:translateY(0)}.product-list-layer .product-list:after{content:"";min-width:.25em;height:100%}.product-list-layer .product-list .product-card{cursor:pointer;border:1px solid #eee;box-shadow:0 0 7.5px hsla(0,0%,52.5%,.1);border-radius:.25em;background-color:#fff;height:100%;padding:.125em;display:flex;flex:0 0 calc(100% - 0.25em);margin-inline-end:.25em;scroll-snap-align:start}.product-list-layer .product-list .product-card:not(:only-child){max-width:calc(var(--i--storyly-story-layer-width)*0.77);flex:none}.product-list-layer .product-list .product-card:not(:only-child):last-child{margin-inline-end:0}.product-list-layer .product-list .product-card-right-container{padding-inline-start:.125em;flex-grow:2.5;display:flex;flex-direction:column}.product-list-layer .product-list .product-card-right-container-description{justify-self:flex-start;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-weight:500;font-size:.203125em;line-height:1.23;color:#000;margin:0}.product-list-layer .product-list .product-card-right-container-bottom-section{display:flex;align-items:center;justify-content:flex-end;justify-self:flex-end;margin-top:auto}.product-list-layer .product-list .product-card-right-container-bottom-section .product-card-price-container{text-align:end;max-width:1.0975em;overflow:hidden}.product-list-layer .product-list .product-card-right-container-bottom-section .product-card-price-container:empty~button{max-width:100%}.product-list-layer .product-list .product-card-right-container-bottom-section .product-card-price-container .product-card-current-price{font-weight:600;font-size:.203125em;line-height:1.23;color:#212121;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.product-list-layer .product-list .product-card-right-container-bottom-section .product-card-price-container .product-card-old-price{font-weight:500;font-size:.1875em;line-height:1.16;text-decoration-line:line-through;color:#9e9e9e;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.product-list-layer .product-list .product-card-right-container-bottom-section .product-card-purchase-button{cursor:pointer;font-family:inherit;font-size:inherit;flex-shrink:0;max-width:60%;border-radius:100px;padding:.12375em;margin-inline-start:.1875em;background-color:#000;color:#fff;border:none}.product-list-layer .product-list .product-card-right-container-bottom-section .product-card-purchase-button span{pointer-events:none;font-size:.1875em;line-height:1.166;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-word}.product-list-layer .product-list .product-card-media{height:1.125em;width:1.125em;flex-shrink:0;border-radius:.1875em;border:1.5px solid #eee;object-fit:cover}.product-list-layer .product-list[dir=rtl]{text-align:right}@charset "UTF-8";.storyly__modern-layout{font-family:Storyly-Inter;font-size:calc(var(--i--storyly-story-layer-height, 100vh)/10);width:100%;height:100%;margin:0 auto;position:relative;transition:transform .2s ease-out}.storyly__modern-layout .swiper{height:100%}.storyly__modern-layout .storyly__story-group{position:relative}.storyly__modern-layout .storyly__story-group-progress-bar{z-index:100;opacity:1;transition:opacity .5s ease;border:none;width:calc(100vw - 60px);margin-left:auto;margin-right:auto}.storyly__modern-layout .storyly__story-group-progress-bar .progress-wrapper{width:100%;display:flex;justify-content:center;margin-top:16px;margin-bottom:20px}.storyly__modern-layout .storyly__story-group-progress-bar .progress-wrapper .progress{position:relative;display:inline-block;height:3px;border-radius:2px;margin-left:.2%;margin-right:.2%;width:100%}.storyly__modern-layout .storyly__story-group-progress-bar .progress-wrapper .progress:first-child{margin-left:0}.storyly__modern-layout .storyly__story-group-progress-bar .progress-wrapper .progress:last-child{margin-right:0}.storyly__modern-layout .storyly__story-group-progress-bar .progress-wrapper .progress.seen span{width:100%}.storyly__modern-layout .storyly__story-group-progress-bar .progress-wrapper .progress.active span{width:0;transition-duration:.1s}.storyly__modern-layout .storyly__story-group-progress-bar .progress-wrapper .progress span{transition:width .1s linear;border-radius:2px;height:100%;position:absolute;width:0}.storyly__modern-layout .storyly__story-group .next-story-button,.storyly__modern-layout .storyly__story-group .prev-story-button{position:absolute;top:0;bottom:0;margin:auto;width:24px;height:24px;background-repeat:no-repeat;background-position:50%;cursor:pointer;border:none;pointer-events:auto;background-color:rgba(0,0,0,.25);border-radius:50%}.storyly__modern-layout .storyly__story-group .next-story-button.next-story-button,.storyly__modern-layout .storyly__story-group .prev-story-button.next-story-button{background-position-x:54%;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOSIgaGVpZ2h0PSIxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMTI0OV80MTk0KSI+PHBhdGggZD0iTTEuODQ1IDEuNjY3TDcuMTc4IDdsLTUuMzMzIDUuMzMzIiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9nPjxkZWZzPjxjbGlwUGF0aCBpZD0iY2xpcDBfMTI0OV80MTk0Ij48cGF0aCBmaWxsPSIjZmZmIiB0cmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAtMSAwIDE0KSIgZD0iTTAgMGg5djE0SDB6Ii8+PC9jbGlwUGF0aD48L2RlZnM+PC9zdmc+)!important;left:calc(50vw + var(--i--storyly-story-layer-width)/2 + 10px)}.storyly__modern-layout .storyly__story-group .next-story-button.prev-story-button,.storyly__modern-layout .storyly__story-group .prev-story-button.prev-story-button{background-position-x:46%;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOSIgaGVpZ2h0PSIxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBjbGlwLXBhdGg9InVybCgjY2xpcDBfMTI0OV80MTk2KSI+PHBhdGggZD0iTTcuMTU1IDEuNjY3TDEuODIyIDdsNS4zMzMgNS4zMzMiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz48L2c+PGRlZnM+PGNsaXBQYXRoIGlkPSJjbGlwMF8xMjQ5XzQxOTYiPjxwYXRoIGZpbGw9IiNmZmYiIHRyYW5zZm9ybT0icm90YXRlKC0xODAgNC41IDcpIiBkPSJNMCAwaDl2MTRIMHoiLz48L2NsaXBQYXRoPjwvZGVmcz48L3N2Zz4=)!important;left:calc(50vw - var(--i--storyly-story-layer-width)/2 - 34px)}.storyly__modern-layout .storyly__story-group .storyly__stories-container{position:relative;width:100%;height:var(--i--storyly-story-layer-height);overflow:hidden}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story{width:var(--i--storyly-story-layer-width);height:var(--i--storyly-story-layer-height);transition:left .5s,right .5s,transform .5s,transform-origin .5s;position:absolute;top:0;bottom:0;margin:auto;opacity:1;z-index:2;user-select:none;border-radius:10px;overflow:hidden;background:#000;outline:none;cursor:auto}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story:focus-visible{outline:none}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story-passive{cursor:pointer;border:none;opacity:.5;transform:scaleX(.6) scaleY(.6);overflow:hidden}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story-next-story{transform-origin:left}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story-prev-story{transform-origin:right}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story.ad-story{transition:none}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story[show] .layers-container .component-layer :not(.no-pointer-events){pointer-events:auto!important}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .story-image,.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .story-video{position:absolute;pointer-events:none;flex-shrink:0;top:0;margin:auto;float:left;user-select:none;width:100%}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .story-video{height:100%;user-select:auto}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .story-bg{width:100%;height:100%}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .layers-container{position:absolute;width:100%;height:100%;top:0;left:0}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .layers-container .component-layer{box-sizing:border-box!important;display:grid;position:absolute!important;pointer-events:none;padding:68px 32px 32px;left:0;right:0;width:100%;height:100%;margin:0 auto}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .layers-container .component-layer *{pointer-events:none;box-sizing:border-box;user-select:none}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .layers-container .component-layer>:first-child{transition:opacity .3s ease-in-out,visibility .3s ease-in-out,bottom .3s ease-in-out}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .layers-container .component-layer>:first-child.timed-interactive-animation-visually-hide{visibility:hidden;opacity:0}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .layers-container .component-layer>:first-child.timed-interactive-animation-hide{display:none}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .layers-container .emoji-animation span{width:32px;font-size:.4em;margin:.4em!important;position:absolute;bottom:-10%;animation:emojiAnimation 1.5s;animation-timing-function:ease-in-out;animation-fill-mode:forwards;opacity:1}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .layers-container .confetti-animation{width:100%;height:100%;position:absolute;top:0!important;pointer-events:none}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story .layers-container [dir=ltr]{text-align:left!important}.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story.story-9_16 .story-image,.storyly__modern-layout .storyly__story-group .storyly__stories-container .storyly__story.story-9_16 .story-video{top:50%;left:50%;transform:translate(-50%,-50%)}.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container{font-family:Storyly-Inter,sans-serif;width:100%;height:100%;z-index:2001;position:absolute;background:rgba(0,0,0,.5);top:0;left:0;display:none;justify-content:center}.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper{background:#242424;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:12px}.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .share-header{padding:8px 12px 8px 16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid hsla(0,0%,100%,.1);margin-bottom:12px}.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .share-header h6{padding:0;opacity:.5;margin:0;font-size:12px;line-height:1!important;font-style:normal;font-weight:500;line-height:normal;text-transform:uppercase;color:#fff}.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .download-media,.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .get-link{padding-bottom:8px;padding-inline-start:16px;padding-inline-end:16px;text-align:center;cursor:pointer;display:flex;align-items:center}.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .download-media:last-child,.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .get-link:last-child{margin-bottom:8px}.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .download-media .download-icon,.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .download-media .share-icon,.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .get-link .download-icon,.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .get-link .share-icon{width:48px;height:48px;background:hsla(0,0%,100%,.1);border-radius:8px;display:flex;justify-content:center;align-items:center}.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .download-media .download-icon button,.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .download-media .share-icon button,.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .get-link .download-icon button,.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .get-link .share-icon button{background-color:transparent;display:flex;align-items:center;justify-content:center;width:100%}.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .download-media p,.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .get-link p{color:#fff;text-align:center;font-size:14px;font-style:normal;font-weight:400;line-height:normal;margin:0;padding:0 0 0 8px}.storyly__modern-layout .storyly__story-group .storyly__stories-container .share-container .share-wrapper .close-share{background-color:transparent;width:24px;height:24px;flex:0 0 24px;display:flex;justify-content:center;align-items:center;padding:0}.storyly__modern-layout .storyly__story-group .storyly__stories-container .copied{font-family:Storyly-Inter,sans-serif;position:absolute;width:80%;background-color:#222;border-radius:6px;box-shadow:4px 4px 20px 0 rgba(36,36,80,.1);padding:12px;margin:0;display:flex;align-items:center;justify-content:center;left:50%;transform:translate(-50%,-10vh);top:0;color:#fff;font-size:14px;line-height:16px;z-index:2000}.storyly__modern-layout .storyly__story-group .storyly__stories-container .copied button{background-color:transparent}.storyly__modern-layout .storyly__story-group .storyly__stories-container .copied.show{animation:copiedAnimation 2s ease-in-out forwards}.storyly__modern-layout .storyly__story-group .storyly__stories-container .copied span{margin-left:10px;display:inline-block}@keyframes copiedAnimation{0%,to{transform:translate(-50%,-10vh)}25%,75%{transform:translate(-50%,2vh)}}.storyly__modern-layout .storyly__story-header{width:var(--i--storyly-story-layer-width)!important;margin:0 auto 16px;z-index:100;opacity:1;transition:opacity .5s ease;border:none}.storyly__modern-layout .storyly__story-header .storyly__story-info{display:flex;justify-content:space-between;align-items:center}.storyly__modern-layout .storyly__story-header .storyly__story-info .storyly__story-actions{display:flex;z-index:99;max-width:30%}.storyly__modern-layout .storyly__story-header .storyly__story-info .action{margin-left:8px}.storyly__modern-layout .storyly__story-header .storyly__story-info .storyly__sg-info{display:flex;align-items:center;max-width:70%}.storyly__modern-layout .storyly__story-header .storyly__story-info .storyly__sg-info img{box-sizing:border-box;width:38px;height:38px;border-radius:50%;border:2px solid #fff}.storyly__modern-layout .storyly__story-header .storyly__story-info .storyly__sg-info h4{margin:0 12px;color:#fff;font-size:16px;font-weight:500;line-height:20px;user-select:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.storyly__modern-layout .storyly__story-header .storyly__story-info .storyly__sg-info .ad-group-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='43' height='43' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='21.376' cy='21.376' r='20.485' stroke='url(%23paint0_linear_798_17889)' stroke-width='1.781'/%3E%3Ccircle cx='21.312' cy='21.703' r='20' fill='url(%23paint1_linear_798_17889)' fill-opacity='.2'/%3E%3Cpath d='M14.659 25.703h1.318l.586-1.821h2.607l.591 1.821h1.319l-2.5-7.046h-1.421l-2.5 7.046zm3.169-5.737h.083l.947 2.944H16.88l.948-2.944zm5.966 5.825c.752 0 1.329-.342 1.622-.923h.082v.835h1.221v-7.402H25.5v2.915h-.083c-.279-.576-.89-.938-1.622-.938-1.352 0-2.187 1.055-2.187 2.754v.01c0 1.69.85 2.749 2.187 2.749zm.381-1.025c-.83 0-1.333-.65-1.333-1.724v-.01c0-1.074.508-1.728 1.333-1.728s1.343.659 1.343 1.728v.01c0 1.07-.513 1.724-1.343 1.724z' fill='%23fff'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_798_17889' x1='42.752' y1='21.376' x2='0' y2='21.376' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%237A4BFF'/%3E%3Cstop offset='1' stop-color='%2300E0E4'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint1_linear_798_17889' x1='41.312' y1='21.703' x2='1.312' y2='21.703' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%237A4BFF'/%3E%3Cstop offset='1' stop-color='%2300E0E4'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");width:43px;height:43px}.storyly__modern-layout .story-group-navigation-button{font-size:14px;line-height:24px;display:flex;flex-direction:column;position:absolute;bottom:3.7%;max-width:250px;color:#fff;font-weight:500;z-index:1000;user-select:none}.storyly__modern-layout .story-group-navigation-button h6{font-weight:500;font-size:11px;line-height:14px;letter-spacing:.03em;color:#fff;margin-top:0;margin-bottom:8px}.storyly__modern-layout .story-group-navigation-button-container{cursor:pointer;display:flex;align-items:center;justify-content:flex-start;background:hsla(0,0%,100%,.06);border-radius:9px;padding:12px}.storyly__modern-layout .story-group-navigation-button-container-icon{margin-right:10px}.storyly__modern-layout .story-group-navigation-button-container-icon svg{margin-top:6px}.storyly__modern-layout .story-group-navigation-button-container-inner{display:flex;align-items:center;justify-content:center;min-width:0}.storyly__modern-layout .story-group-navigation-button-container-inner .story-group-cover-image{width:38px;height:38px;flex:0 0 38px;border:2px solid #fff;border-radius:50%;margin-right:10px;margin-left:10px}.storyly__modern-layout .story-group-navigation-button-container-inner .story-group-cover-image img{height:100%;width:100%;border-radius:50%}.storyly__modern-layout .story-group-navigation-button-container-inner .story-group-title{font-size:14px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.storyly__modern-layout .story-group-navigation-button.next-story-group{right:2.1%}.storyly__modern-layout .story-group-navigation-button.next-story-group .story-group-navigation-button-container{color:#fff;border:none;flex-direction:row-reverse}.storyly__modern-layout .story-group-navigation-button.next-story-group .story-group-navigation-button-container-icon{margin-right:0;margin-left:10px}.storyly__modern-layout .story-group-navigation-button.next-story-group .story-group-navigation-button-container-icon .prev-story-group-icon{display:none}.storyly__modern-layout .story-group-navigation-button.prev-story-group{left:2.1%}.storyly__modern-layout .story-group-navigation-button.prev-story-group .story-group-navigation-button-container{color:#fff;border:none;flex-direction:row}.storyly__modern-layout .story-group-navigation-button.prev-story-group .next-story-group-icon{display:none}@media only screen and (max-height:600px){.storyly__modern-layout .story-group-navigation-button h6{display:none}.storyly__modern-layout .story-group-navigation-button .story-group-cover-image{width:24px;height:24px;flex:0 0 24px;margin-right:8px;margin-left:8px;box-sizing:border-box}.storyly__modern-layout .story-group-navigation-button{bottom:1.5%}}.storyly__modern-layout .storyly__action-container{position:absolute;top:42px;right:30px;z-index:1002;width:76px;display:flex;justify-content:space-between;align-items:center}.storyly__modern-layout .storyly__action-container .storyly__keyboard-shortcuts{position:absolute;top:42px;right:44px;border-radius:12px;background:#242424;padding:16px;width:218px;opacity:0;visibility:hidden;transition:all .2s ease-in-out}.storyly__modern-layout .storyly__action-container .storyly__keyboard-shortcuts h6{font-style:normal;font-weight:500;font-size:11px;line-height:14px;letter-spacing:.05em;text-transform:uppercase;color:#b3b3b3;padding-bottom:13px;margin:0;border-bottom:1px solid hsla(0,0%,100%,.03)}.storyly__modern-layout .storyly__action-container .storyly__keyboard-shortcuts-menu{margin:0;padding:0}.storyly__modern-layout .storyly__action-container .storyly__keyboard-shortcuts-menu-item{display:flex;color:#fff;font-size:13px;line-height:16px;font-weight:400;margin-bottom:12px}.storyly__modern-layout .storyly__action-container .storyly__keyboard-shortcuts-menu-item:last-child{margin-bottom:0}.storyly__modern-layout .storyly__action-container .storyly__keyboard-shortcuts-menu-item:first-child{margin-top:12px}.storyly__modern-layout .storyly__action-container .storyly__keyboard-shortcuts-menu-item-icon{background:hsla(0,0%,100%,.1);border-radius:4px;width:32px;height:20px;margin-right:10px;margin-left:10px;display:flex;align-items:center;justify-content:center}.storyly__modern-layout .storyly__action-container.active .storyly__keyboard-shortcuts{opacity:1;visibility:visible}.storyly__modern-layout .storyly__action-container.active .close-story{pointer-events:none!important;cursor:auto!important;opacity:.5}.storyly__modern-layout button.icon{cursor:pointer!important;background-repeat:no-repeat!important;background-position:50%!important;pointer-events:auto!important;width:32px;height:32px;flex:0 0 32px;border:none;background-color:hsla(0,0%,100%,.06);border-radius:9px}.storyly__modern-layout button.icon.close{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xOC44ODQgNS4xMTZhMS4yNSAxLjI1IDAgMDEwIDEuNzY4bC0xMiAxMmExLjI1IDEuMjUgMCAwMS0xLjc2OC0xLjc2OGwxMi0xMmExLjI1IDEuMjUgMCAwMTEuNzY4IDB6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik01LjExNiA1LjExNmExLjI1IDEuMjUgMCAwMTEuNzY4IDBsMTIgMTJhMS4yNSAxLjI1IDAgMDEtMS43NjggMS43NjhsLTEyLTEyYTEuMjUgMS4yNSAwIDAxMC0xLjc2OHoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)!important}.storyly__modern-layout button.icon.pause{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgeD0iLjQiIHdpZHRoPSI0LjIiIGhlaWdodD0iMTQiIHJ4PSIuNyIgZmlsbD0iI2ZmZiIvPjxyZWN0IHg9IjcuNCIgd2lkdGg9IjQuMiIgaGVpZ2h0PSIxNCIgcng9Ii43IiBmaWxsPSIjZmZmIi8+PC9zdmc+)!important}.storyly__modern-layout button.icon.play{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.105 10.928L8.023 4.218C7.163 3.645 6 4.268 6 5.298V18.7c0 1.045 1.163 1.652 2.023 1.08l10.082-6.71c.758-.49.758-1.636 0-2.142z" fill="%23fff"/></svg>')!important}.storyly__modern-layout button.icon.sound-off{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath d='M5.2 4L4 5.2l4.467 4.467H4v5.666h3.778l4.722 4.723v-6.357l4.014 4.014a6.54 6.54 0 01-2.125 1.115v1.945a8.49 8.49 0 003.485-1.71L19.8 21l1.2-1.2-8.5-8.5L5.2 4zm13.4 10.993a6.46 6.46 0 00.51-2.493 6.616 6.616 0 00-4.722-6.337V4.217C18.176 5.077 21 8.457 21 12.5c0 1.417-.35 2.748-.973 3.92l-1.426-1.427zm-4.212-6.3A4.25 4.25 0 0116.75 12.5c0 .208-.019.406-.047.595l-2.314-2.314V8.694zm-3.863-1.775L12.5 4.944v3.948l-1.974-1.974z'/%3E%3C/svg%3E")!important}.storyly__modern-layout button.icon.sound-on{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23FFF'%3E%3Cpath d='M4 9.592v5.816h3.778l4.722 4.846V4.746L7.778 9.592H4zM16.75 12.5a4.374 4.374 0 00-2.361-3.906v7.802a4.348 4.348 0 002.36-3.896z'/%3E%3Cpath d='M14.389 4v1.997c2.73.833 4.722 3.43 4.722 6.503 0 3.072-1.993 5.67-4.722 6.503V21c3.787-.882 6.61-4.352 6.61-8.5S18.177 4.882 14.39 4z'/%3E%3C/svg%3E")!important}.storyly__modern-layout button.icon.check{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.666 7.833L9.5 17l-4.167-4.166" stroke="%23fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>')!important}.storyly__modern-layout button.icon.share{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTUiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTS4zNDYgNS4yMjNjLS4zODctLjEyOS0uMzktLjMzNy4wMDgtLjQ3TDE0LjUuMDM4Yy4zOTItLjEzLjYxNi4wODkuNTA3LjQ3M2wtNC4wNDMgMTQuMTQ2Yy0uMTExLjM5Mi0uMzM3LjQwNS0uNTAzLjAzM0w3Ljc5OCA4LjY5Nmw0LjQ0Ny01LjkzLTUuOTMgNC40NDctNS45NjktMS45OXoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)!important}.storyly__modern-layout button.icon.close-black{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 6L6 18M6 6l12 12" stroke="%23000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>')!important}.storyly__modern-layout button.icon.keyboard-shortcut{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTIgMmgxNGEuNzc4Ljc3OCAwIDAxLjc3OC43Nzh2MTIuNDQ0QS43NzguNzc4IDAgMDExNiAxNkgyYS43NzguNzc4IDAgMDEtLjc3OC0uNzc4VjIuNzc4QS43NzguNzc4IDAgMDEyIDJ6bTEuNTU2IDMuMTExdjEuNTU2SDUuMTFWNS4xMUgzLjU1NnptMCAzLjExMXYxLjU1Nkg1LjExVjguMjIySDMuNTU2em0wIDMuMTExdjEuNTU2aDEwLjg4OXYtMS41NTZIMy41NTR6bTMuMTEtMy4xMXYxLjU1NWgxLjU1NlY4LjIyMkg2LjY2N3ptMC0zLjExMnYxLjU1NmgxLjU1NlY1LjExSDYuNjY3em0zLjExMiAwdjEuNTU2aDEuNTU1VjUuMTFIOS43Nzh6bTMuMTEgMHYxLjU1NmgxLjU1NlY1LjExSDEyLjg5em0tMy4xMSAzLjExMXYxLjU1NmgxLjU1NVY4LjIyMkg5Ljc3OHptMy4xMSAwdjEuNTU2aDEuNTU2VjguMjIySDEyLjg5eiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPg==)!important}.storyly__modern-layout button.icon.download{background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3" stroke="%23fff"/></svg>')!important}.storyly__modern-layout[direction=rtl] .storyly__action-container{right:auto;left:30px}.storyly__modern-layout[direction=rtl] .storyly__action-container .storyly__keyboard-shortcuts{right:auto;left:44px}.storyly__modern-layout[direction=rtl] .story-group-navigation-button.next-story-group{left:2.1%!important;right:auto!important}.storyly__modern-layout[direction=rtl] .story-group-navigation-button.next-story-group .next-story-group-icon{display:none}.storyly__modern-layout[direction=rtl] .story-group-navigation-button.next-story-group .prev-story-group-icon{display:block}.storyly__modern-layout[direction=rtl] .story-group-navigation-button.next-story-group .story-group-title{margin-left:10px}.storyly__modern-layout[direction=rtl] .story-group-navigation-button.prev-story-group{right:2.1%!important;left:auto!important}.storyly__modern-layout[direction=rtl] .story-group-navigation-button.prev-story-group .prev-story-group-icon{display:none}.storyly__modern-layout[direction=rtl] .story-group-navigation-button.prev-story-group .next-story-group-icon{display:block}.storyly__modern-layout[direction=rtl] .storyly__stories-container .storyly__story-next-story{transform-origin:right}.storyly__modern-layout[direction=rtl] .storyly__stories-container .storyly__story-prev-story{transform-origin:left}.storyly__modern-layout[direction=rtl] .storyly__story-group-progress-bar .progress-wrapper .progress:first-child{margin-right:0!important;margin-left:.2%}.storyly__modern-layout[direction=rtl] .storyly__story-group-progress-bar .progress-wrapper .progress:last-child{margin-left:0!important;margin-right:.2%}@keyframes timedAnimation{5%{display:block}to{visibility:visible;opacity:1}}.storyly__story-group-overlay{display:flex;justify-content:center;align-items:center;position:absolute;visibility:hidden;opacity:0;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,#1d1a16,#2c2e31 52.08%,#171717);z-index:1001;transition:all .4s ease-in-out;cursor:pointer}.storyly__story-group-overlay.active{visibility:visible;opacity:.65}.storyly__classic-layout{width:var(--i--storyly-story-layer-width)!important;height:var(--i--storyly-story-layer-height)!important;top:50%;transform:translateY(-50%);font-size:calc(var(--i--storyly-story-layer-height, 100vh)/10)!important;margin:0 auto;position:relative;transition:transform .2s ease-out}@media only screen and (max-height:575.98px) and (orientation:landscape){.storyly__classic-layout{transform:translateY(-50%)!important}.storyly__classic-layout .navigation-buttons{display:block!important}.storyly__classic-layout .icon.close{display:none!important}}.storyly__classic-layout[embed-mode]{width:100%!important;height:100%!important}.storyly__classic-layout[embed-mode] .storyly__stories-container{border-radius:.35em!important;background-color:#000}.storyly__classic-layout[embed-mode] .storyly__story-group[playable]:not([replay]):hover .storyly__embed-play-container{display:flex}.storyly__classic-layout[embed-mode] .storyly__story-group[playable]:not([replay]):hover .storyly__stories-container .storyly__story.active:before{backdrop-filter:blur(8px);display:block}.storyly__classic-layout[embed-mode] .storyly__story-group[playable] .storyly__story-header .progress-wrapper,.storyly__classic-layout[embed-mode] .storyly__story-group[playable] .storyly__story-header .storyly__story-actions{visibility:hidden}.storyly__classic-layout[embed-mode] .storyly__story-group[playable] .storyly__story-header .progress-wrapper{box-sizing:border-box;padding-left:3%;padding-right:3%}.storyly__classic-layout[embed-mode] .storyly__story-group:not([playable]) .storyly__embed-play-container{display:none}.storyly__classic-layout[embed-mode] .storyly__story-group[replay] .storyly__stories-container .storyly__story.active:before{display:block}.storyly__classic-layout[embed-mode] .storyly__story-group[replay] .storyly__embed-play-container{display:flex}.storyly__classic-layout[embed-mode] .storyly__story-group[replay] .storyly__embed-play-container .play-icon{display:none}.storyly__classic-layout[embed-mode] .storyly__story-group[replay] .storyly__embed-play-container .re-play-icon{display:block}.storyly__classic-layout[embed-mode] .storyly__story-group .storyly__stories-container .storyly__story.active:before{content:"";position:absolute;left:0;right:0;background-color:rgba(0,0,0,.2);width:100%;height:100%;z-index:2;display:none;z-index:99999999}.storyly__classic-layout[embed-mode] .storyly__story-group .storyly__story-header .progress-wrapper{padding-left:3%;padding-right:3%}.storyly__classic-layout[embed-mode] .storyly__story-group .storyly__embed-play-container{width:100%;height:100%;justify-content:center;align-items:center;position:relative;z-index:9999999;cursor:pointer;display:none;border-radius:18px}.storyly__classic-layout[embed-mode] .storyly__story-group .storyly__embed-play-container .play-icon{display:block}.storyly__classic-layout[embed-mode] .storyly__story-group .storyly__embed-play-container .re-play-icon{display:none}@media only screen and (max-width:648px){.storyly__classic-layout[embed-mode] .storyly__story-group .storyly__embed-play-container{display:flex}}.storyly__classic-layout .storyly__stories-container{width:100%;height:100%;margin:auto!important;contain:strict!important;bottom:0!important;left:0!important;position:absolute!important;right:0!important;top:0!important;opacity:1!important;-ms-touch-action:none!important;touch-action:none!important;border-radius:8px}.storyly__classic-layout .storyly__stories-container .storyly__story-header{background:linear-gradient(180deg,rgba(0,0,0,.4),transparent);position:absolute;z-index:100;width:100%;height:10%;opacity:1;transition:opacity .5s ease;border:none}.storyly__classic-layout .storyly__stories-container .storyly__story-header .progress-wrapper{width:100%;display:flex;justify-content:center;margin-top:2px;height:.3125em;padding-top:.078125em;box-sizing:border-box}.storyly__classic-layout .storyly__stories-container .storyly__story-header .progress-wrapper .progress{height:2px;display:inline-block;margin-left:.6%;margin-right:.6%;width:100%;position:relative}.storyly__classic-layout .storyly__stories-container .storyly__story-header .progress-wrapper .progress.seen span{width:100%}.storyly__classic-layout .storyly__stories-container .storyly__story-header .progress-wrapper .progress.active span{width:0;transition-duration:.1s}.storyly__classic-layout .storyly__stories-container .storyly__story-header .progress-wrapper .progress span{transition:width .1s linear;height:100%;position:absolute;width:0}.storyly__classic-layout .storyly__stories-container .storyly__story-header .storyly__story-info{margin:.15625em .1875em;display:flex;justify-content:space-between;align-items:center}.storyly__classic-layout .storyly__stories-container .storyly__story-header .storyly__story-info .storyly__story-actions{display:flex;z-index:99;max-width:30%}.storyly__classic-layout .storyly__stories-container .storyly__story-header .storyly__story-info .action{margin-left:8px}.storyly__classic-layout .storyly__stories-container .storyly__story-header .storyly__story-info .storyly__sg-info{display:flex;align-items:center;height:30px;max-width:70%}.storyly__classic-layout .storyly__stories-container .storyly__story-header .storyly__story-info .storyly__sg-info img{width:.5em;height:.5em;border-radius:50%;border:2px solid #fff}.storyly__classic-layout .storyly__stories-container .storyly__story-header .storyly__story-info .storyly__sg-info h4{margin:0 .75625em;color:#fff;font-size:.21875em;font-weight:700;user-select:none;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:100%}.storyly__classic-layout .storyly__stories-container .storyly__story-header .storyly__story-info .storyly__sg-info .ad-group-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='43' height='43' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='21.376' cy='21.376' r='20.485' stroke='url(%23paint0_linear_798_17889)' stroke-width='1.781'/%3E%3Ccircle cx='21.312' cy='21.703' r='20' fill='url(%23paint1_linear_798_17889)' fill-opacity='.2'/%3E%3Cpath d='M14.659 25.703h1.318l.586-1.821h2.607l.591 1.821h1.319l-2.5-7.046h-1.421l-2.5 7.046zm3.169-5.737h.083l.947 2.944H16.88l.948-2.944zm5.966 5.825c.752 0 1.329-.342 1.622-.923h.082v.835h1.221v-7.402H25.5v2.915h-.083c-.279-.576-.89-.938-1.622-.938-1.352 0-2.187 1.055-2.187 2.754v.01c0 1.69.85 2.749 2.187 2.749zm.381-1.025c-.83 0-1.333-.65-1.333-1.724v-.01c0-1.074.508-1.728 1.333-1.728s1.343.659 1.343 1.728v.01c0 1.07-.513 1.724-1.343 1.724z' fill='%23fff'/%3E%3Cdefs%3E%3ClinearGradient id='paint0_linear_798_17889' x1='42.752' y1='21.376' x2='0' y2='21.376' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%237A4BFF'/%3E%3Cstop offset='1' stop-color='%2300E0E4'/%3E%3C/linearGradient%3E%3ClinearGradient id='paint1_linear_798_17889' x1='41.312' y1='21.703' x2='1.312' y2='21.703' gradientUnits='userSpaceOnUse'%3E%3Cstop stop-color='%237A4BFF'/%3E%3Cstop offset='1' stop-color='%2300E0E4'/%3E%3C/linearGradient%3E%3C/defs%3E%3C/svg%3E");width:43px;height:43px}.storyly__classic-layout .storyly__stories-container .storyly__story{width:100%;height:100%;opacity:0;z-index:0;user-select:none;background:#000;transition:opacity .3s ease-in;outline:none;cursor:auto;position:absolute}.storyly__classic-layout .storyly__stories-container .storyly__story.active{opacity:1;z-index:2}.storyly__classic-layout .storyly__stories-container .storyly__story.ad-story{transition:none}.storyly__classic-layout .storyly__stories-container .storyly__story .story-image{position:absolute;top:0;width:100%;pointer-events:none;flex-shrink:0;margin:auto;float:left;user-select:none}.storyly__classic-layout .storyly__stories-container .storyly__story .story-video{position:fixed;top:0;width:100%;pointer-events:none;max-height:100%!important;left:0;margin:auto;float:left}.storyly__classic-layout .storyly__stories-container .storyly__story .layers-container{position:absolute;width:100%;height:100%;top:0;left:0}.storyly__classic-layout .storyly__stories-container .storyly__story .layers-container .component-layer{box-sizing:border-box!important;display:grid!important;position:absolute!important;pointer-events:none;padding:68px 32px 32px;left:0;right:0;width:100%;height:100%;margin:0 auto}.storyly__classic-layout .storyly__stories-container .storyly__story .layers-container .component-layer :not(.no-pointer-events){pointer-events:auto!important;box-sizing:border-box;user-select:none}.storyly__classic-layout .storyly__stories-container .storyly__story .layers-container .component-layer>:first-child{transition:opacity .3s ease-in-out,visibility .3s ease-in-out,bottom .3s ease-in-out}.storyly__classic-layout .storyly__stories-container .storyly__story .layers-container .component-layer>:first-child.timed-interactive-animation-visually-hide{visibility:hidden;opacity:0}.storyly__classic-layout .storyly__stories-container .storyly__story .layers-container .component-layer>:first-child.timed-interactive-animation-hide{display:none}.storyly__classic-layout .storyly__stories-container .storyly__story .layers-container .emoji-animation span{width:32px;font-size:.4em;margin:.4em!important;position:absolute;bottom:-10%;animation:emojiAnimation 1.5s;animation-timing-function:ease-in-out;animation-fill-mode:forwards;opacity:1}.storyly__classic-layout .storyly__stories-container .storyly__story .layers-container .confetti-animation{width:100%;height:100%;position:absolute;top:0!important;pointer-events:none}.storyly__classic-layout .storyly__stories-container .storyly__story .layers-container [dir=ltr]{text-align:left!important}.storyly__classic-layout .storyly__stories-container .storyly__story.story-9_16 .story-image,.storyly__classic-layout .storyly__stories-container .storyly__story.story-9_16 .story-video{top:50%;left:50%;transform:translate(-50%,-50%)}.storyly__classic-layout .storyly__stories-container .share-container{font-family:Storyly-Inter,sans-serif;width:100%;height:100%;z-index:2001;position:absolute;background:rgba(0,0,0,.5);top:0;left:0;display:none;justify-content:center}.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper{background:#242424;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border-radius:12px}.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .share-header{padding:8px 12px 8px 16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid hsla(0,0%,100%,.1);margin-bottom:12px}.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .share-header h6{padding:0;opacity:.5;margin:0;font-size:12px;line-height:1!important;font-style:normal;font-weight:500;line-height:normal;text-transform:uppercase;color:#fff}.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .download-media,.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .get-link{padding-bottom:8px;padding-inline-start:16px;padding-inline-end:16px;text-align:center;cursor:pointer;display:flex;align-items:center}.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .download-media:last-child,.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .get-link:last-child{margin-bottom:8px}.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .download-media .download-icon,.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .download-media .share-icon,.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .get-link .download-icon,.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .get-link .share-icon{width:48px;height:48px;background:hsla(0,0%,100%,.1);border-radius:8px;display:flex;justify-content:center;align-items:center}.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .download-media .download-icon button,.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .download-media .share-icon button,.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .get-link .download-icon button,.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .get-link .share-icon button{background-color:transparent;display:flex;align-items:center;justify-content:center;width:100%}.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .download-media p,.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .get-link p{color:#fff;text-align:left;font-size:14px;font-style:normal;font-weight:400;line-height:normal;margin:0;padding:0 0 0 8px}.storyly__classic-layout .storyly__stories-container .share-container .share-wrapper .close-share{background-color:transparent;width:24px;height:24px;flex:0 0 24px;display:flex;justify-content:center;align-items:center;padding:0}.storyly__classic-layout .storyly__stories-container .copied{font-family:Storyly-Inter,sans-serif;position:absolute;width:80%;background-color:#222;border-radius:6px;box-shadow:4px 4px 20px 0 rgba(36,36,80,.1);padding:12px;margin:0;display:flex;align-items:center;justify-content:center;left:50%;transform:translate(-50%,150vh);bottom:0;color:#fff;font-size:14px;line-height:16px;z-index:2000}.storyly__classic-layout .storyly__stories-container .copied button{background-color:transparent}.storyly__classic-layout .storyly__stories-container .copied.show{animation:copiedLinkAnimation 2s ease-in-out forwards}.storyly__classic-layout .storyly__stories-container .copied span{margin-left:10px;display:inline-block}@keyframes copiedLinkAnimation{0%,to{transform:translate(-50%,150vh)}25%,75%{transform:translate(-50%,-4vh)}}.storyly__classic-layout .storyly__stories-container .accessibility-switch-button{position:absolute;width:24px;height:24px;background-color:transparent;bottom:8px;right:8px;z-index:999999;padding:0;border:none;box-shadow:0 0 0 2px rgba(0,0,0,.2);border-radius:50%;box-sizing:content-box}.storyly__classic-layout .storyly__stories-container .accessibility-switch-button svg{pointer-events:none}.storyly__classic-layout .storyly__stories-container .accessibility-switch-button svg rect{fill:hsla(0,0%,100%,.2)}.storyly__classic-layout .storyly__stories-container .accessibility-switch-button[data-pressed=true] rect{fill:#01ea85}@media only screen and (max-width:648px){.storyly__classic-layout .storyly__stories-container{border-radius:0}.storyly__classic-layout .storyly__stories-container .storyly__story .story-image,.storyly__classic-layout .storyly__stories-container .storyly__story .story-video{border-radius:0!important}}@media only screen and (max-width:648px){.storyly__classic-layout:not([embed-mode]) .storyly__stories-container{width:var(--storyly-story-width);height:var(--storyly-story-height)}}.storyly__classic-layout .navigation-buttons.hovered .navigate-button,.storyly__classic-layout .navigation-buttons.show .navigate-button,.storyly__classic-layout .navigation-buttons:hover .navigate-button{opacity:1}.storyly__classic-layout .navigation-buttons .navigate-button{opacity:0;transition:opacity .4s ease-in-out;height:32px!important;width:32px!important;transform:translateY(-50%)!important;top:50%!important;bottom:auto!important;cursor:pointer;pointer-events:all!important;position:absolute}.storyly__classic-layout .navigation-buttons .navigate-button button{width:100%;height:100%;background-repeat:no-repeat;pointer-events:none;border-radius:50%;outline:none;border:2px solid #fff;background-color:#000;display:block}.storyly__classic-layout .navigation-buttons .navigate-button button:hover{background-color:#fff}.storyly__classic-layout .navigation-buttons .navigate-button button:focus-visible{outline:3px inset #00e0e4}.storyly__classic-layout .navigation-buttons .navigate-button.next-button{right:-60px}.storyly__classic-layout .navigation-buttons .navigate-button.next-button button{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="9" height="14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.845 12.333L7.178 7 1.845 1.667" stroke="%23fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>')!important;background-position:55% 50%!important}.storyly__classic-layout .navigation-buttons .navigate-button.next-button button:hover{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="9" height="14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M1.845 12.333L7.178 7 1.845 1.667" stroke="%23000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>')!important}.storyly__classic-layout .navigation-buttons .navigate-button.prev-button{left:-60px}.storyly__classic-layout .navigation-buttons .navigate-button.prev-button button{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="8" height="14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.667 1.667L1.333 7l5.334 5.333" stroke="%23fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>')!important;background-position:45% 50%!important}.storyly__classic-layout .navigation-buttons .navigate-button.prev-button button:hover{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="8" height="14" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6.667 1.667L1.333 7l5.334 5.333" stroke="%23000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>')!important}.storyly__classic-layout .navigation-buttons.accessibility-navigation-buttons .prev-button{left:8px;z-index:99999}.storyly__classic-layout .navigation-buttons.accessibility-navigation-buttons .next-button{right:8px;z-index:99999}@keyframes navigationFadeOut{0%{opacity:1}to{opacity:0}}@keyframes navigationFadeIn{0%{opacity:0}to{opacity:1}}@keyframes progressAnimation{0%{width:0}to{width:100%}}@keyframes emojiAnimation{0%{bottom:-10%}to{bottom:50%;opacity:0}}.storyly__classic-layout .swiper{width:100%;height:100%}@media only screen and (max-width:648px){.storyly__classic-layout{width:100%!important;height:100%!important;--i--storyly-story-layer-width:100vw;--i--storyly-story-layer-height:var(--storyly-story-vh);-webkit-touch-callout:none;-webkit-text-size-adjust:none;-webkit-user-select:none;user-select:none;top:0;transform:translateY(0)}}.storyly__classic-layout button.icon{background-repeat:no-repeat!important;background-position:50%!important;cursor:pointer!important;border:none!important;pointer-events:auto!important;background:50% no-repeat!important;width:30px;height:30px}.storyly__classic-layout button.icon.close{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16 17.867l-6.767 6.766c-.266.267-.577.4-.933.4-.356 0-.667-.133-.933-.4a1.28 1.28 0 01-.4-.933c0-.356.133-.667.4-.933L14.133 16 7.367 9.233a1.28 1.28 0 01-.4-.933c0-.356.133-.667.4-.933.266-.267.577-.4.933-.4.356 0 .667.133.933.4L16 14.133l6.767-6.766c.266-.267.578-.4.933-.4.356 0 .667.133.933.4.267.266.4.577.4.933 0 .355-.133.667-.4.933L17.867 16l6.766 6.767c.267.266.4.577.4.933 0 .355-.133.667-.4.933-.266.267-.577.4-.933.4-.355 0-.667-.133-.933-.4L16 17.867z" fill="%23fff"/></svg>')!important}.storyly__classic-layout button.icon.pause{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><rect x="8.533" y="6.667" width="5.6" height="18.667" rx=".933" fill="%23fff"/><rect x="17.866" y="6.667" width="5.6" height="18.667" rx=".933" fill="%23fff"/></svg>')!important}.storyly__classic-layout button.icon.play{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.2 24.5c-.378.244-.761.256-1.15.033-.389-.222-.583-.555-.583-1V8.267c0-.445.194-.778.583-1 .389-.223.772-.211 1.15.033l12 7.667c.356.222.533.533.533.933s-.177.711-.533.933l-12 7.667z" fill="%23fff"/></svg>')!important}.storyly__classic-layout button.icon.sound-off{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23.687 26.477l-2.79-2.79c-.305.22-.63.422-.978.608a6.34 6.34 0 01-1.078.457.73.73 0 01-.748-.114.868.868 0 01-.343-.723c0-.135.034-.254.102-.355a.62.62 0 01.279-.229c.287-.084.57-.194.85-.33.279-.135.545-.287.799-.456l-4.06-4.11v4.135c0 .372-.177.634-.533.787-.355.152-.668.084-.938-.203l-3.832-3.806H7.146a.841.841 0 01-.622-.241.841.841 0 01-.241-.622v-4.668c0-.254.08-.461.24-.622a.841.841 0 01.623-.24h3.095L5.242 7.93A.744.744 0 015 7.36a.839.839 0 01.266-.571.744.744 0 01.546-.228c.21 0 .401.076.57.228l18.471 18.547a.759.759 0 01.229.558c0 .22-.077.414-.229.584a.863.863 0 01-.596.228.775.775 0 01-.571-.229zM18.841 7.5c1.827.643 3.294 1.751 4.402 3.324s1.662 3.34 1.662 5.303c0 .88-.119 1.738-.355 2.575a8.487 8.487 0 01-1.091 2.372l-1.117-1.141a6.874 6.874 0 00.749-1.827c.16-.643.24-1.303.24-1.98 0-1.674-.469-3.175-1.407-4.503-.94-1.328-2.178-2.228-3.717-2.702a.522.522 0 01-.343-.228.691.691 0 01-.114-.38c0-.305.118-.542.355-.711.237-.17.482-.203.736-.102zm1.243 10.175l-2.334-2.36V11.99a4.344 4.344 0 011.89 1.687c.465.753.698 1.578.698 2.474 0 .254-.021.508-.064.761a5.01 5.01 0 01-.19.762zm-4.364-4.39l-2.816-2.816 1.345-1.345c.27-.27.583-.33.938-.177.356.152.533.414.533.786v3.552z" fill="%23fff"/></svg>')!important}.storyly__classic-layout button.icon.sound-on{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19.515 25.23c-.309.11-.586.069-.831-.122a.931.931 0 01-.368-.777c0-.163.04-.304.123-.422a.578.578 0 01.367-.232 8.211 8.211 0 003.979-2.97c1.017-1.398 1.526-2.979 1.526-4.74 0-1.763-.509-3.343-1.526-4.742a8.21 8.21 0 00-3.979-2.97.548.548 0 01-.367-.259.81.81 0 01-.123-.422c0-.327.127-.581.382-.763a.829.829 0 01.817-.11 9.512 9.512 0 014.7 3.57C25.405 11.961 26 13.86 26 15.966s-.595 4.006-1.785 5.695a9.512 9.512 0 01-4.7 3.57zM6.926 19.427a.904.904 0 01-.667-.26A.904.904 0 016 18.5v-5.013c0-.273.086-.495.259-.668a.903.903 0 01.667-.259h3.515l4.115-4.114c.29-.29.627-.354 1.008-.19.381.163.572.444.572.844v13.787c0 .4-.19.681-.572.845-.381.163-.717.09-1.008-.218l-4.115-4.087H6.926zm10.845 1.199v-9.292c1 .309 1.803.9 2.412 1.771.608.872.912 1.835.912 2.888 0 1.072-.304 2.03-.912 2.875a4.699 4.699 0 01-2.412 1.758z" fill="%23fff"/></svg>')!important}.storyly__classic-layout button.icon.share-android{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.94 25.952a2.932 2.932 0 01-2.169-.904 2.964 2.964 0 01-.855-2.566c.024-.16.06-.313.108-.458l-6.795-3.952a3.31 3.31 0 01-.988.711c-.386.185-.78.277-1.18.277-.852 0-1.575-.297-2.17-.891C6.298 17.574 6 16.85 6 15.999c0-.85.297-1.573.892-2.168.594-.594 1.317-.891 2.168-.891.402 0 .787.08 1.157.24.37.161.707.386 1.012.675l6.795-3.903a1.678 1.678 0 01-.108-.41 2.952 2.952 0 01-.037-.434c0-.851.298-1.574.892-2.168.595-.595 1.317-.892 2.169-.892.851 0 1.574.297 2.168.892.595.594.892 1.317.892 2.168 0 .852-.297 1.575-.892 2.169-.594.594-1.317.892-2.168.892a3.57 3.57 0 01-1.181-.193 2.205 2.205 0 01-.94-.627L12 15.084c.048.129.08.285.096.47s.024.333.024.446c0 .112-.008.237-.024.373a2.12 2.12 0 01-.096.422l6.82 3.831c.256-.24.561-.433.915-.578a3.16 3.16 0 011.205-.217c.851 0 1.574.297 2.168.892.595.594.892 1.317.892 2.169 0 .85-.297 1.574-.892 2.168-.594.595-1.317.892-2.168.892z" fill="%23fff"/></svg>')!important}.storyly__classic-layout button.icon.share-ios{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.98 18.643a.933.933 0 01-.687-.277.934.934 0 01-.277-.688v-9.84l-1.447 1.47c-.194.161-.419.242-.676.242a.926.926 0 01-.675-.29.915.915 0 01-.266-.675c0-.273.097-.507.29-.7l3.063-3.063a.736.736 0 01.326-.229c.12-.04.237-.06.35-.06.112 0 .229.02.35.06.12.04.228.117.325.23l3.111 3.11a.885.885 0 01.266.652.968.968 0 01-.266.675.939.939 0 01-.687.29.939.939 0 01-.687-.29l-1.448-1.423v9.841a.933.933 0 01-.277.688.933.933 0 01-.688.277zM10.023 26c-.53 0-.981-.189-1.351-.567a1.85 1.85 0 01-.555-1.339V12.685c0-.53.185-.98.555-1.35.37-.37.82-.555 1.35-.555h2.726c.274 0 .479.092.615.277.137.185.206.414.206.688 0 .257-.069.478-.206.663-.136.185-.341.277-.615.277h-2.725v11.41h11.963v-11.41h-2.75c-.289 0-.502-.092-.638-.277a1.124 1.124 0 01-.205-.687c0-.274.068-.499.205-.676.136-.177.35-.265.639-.265h2.75c.53 0 .984.185 1.362.555.378.37.567.82.567 1.35v11.41c0 .514-.189.96-.567 1.338a1.858 1.858 0 01-1.363.567H10.024z" fill="%23fff"/></svg>')!important}.storyly__classic-layout button.icon.check{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18.666 7.833L9.5 17l-4.167-4.166" stroke="%23fff" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/></svg>')!important}.storyly__classic-layout button.icon.share{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 7.377a.873.873 0 000 1.746V7.377zm2.5.873v-.873.873zm-2.5 6.627a.873.873 0 000 1.746v-1.746zm-5 1.746a.873.873 0 000-1.746v1.746zm0-7.5a.873.873 0 000-1.746v1.746zm5 0H17V7.377h-2.5v1.746zm2.5 0c.902 0 1.75.323 2.363.874L20.53 8.7c-.95-.855-2.222-1.322-3.53-1.322v1.746zm2.363.874c.609.549.93 1.271.93 2.003h1.748c0-1.258-.556-2.443-1.51-3.3l-1.168 1.297zm.93 2.003c0 1.505-1.385 2.877-3.292 2.877v1.746c2.694 0 5.04-1.985 5.04-4.623h-1.747zm-3.292 2.877h-2.5v1.746H17v-1.746zm-7.5 0H7v1.746h2.5v-1.746zm-2.5 0c-.902 0-1.75-.323-2.362-.875L3.47 15.301c.95.855 2.222 1.322 3.53 1.322v-1.746zm-2.362-.875c-.61-.548-.932-1.27-.932-2.002H1.961c0 1.258.556 2.443 1.51 3.3l1.168-1.298zM3.707 12c0-1.505 1.386-2.877 3.294-2.877V7.377c-2.695 0-5.04 1.985-5.04 4.623h1.746zm3.294-2.877h2.5V7.377H7v1.746z" fill="%23fff"/><path d="M8.667 12h6.667" stroke="%23fff" stroke-width="1.747" stroke-linecap="round" stroke-linejoin="round"/></svg>')!important}.storyly__classic-layout button.icon.close-black{background-image:url('data:image/svg+xml;charset=utf-8,<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 6L6 18M6 6l12 12" stroke="%23000" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>')!important}.storyly__classic-layout button.icon.download{background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M7 10l5 5 5-5M12 15V3" stroke="%23fff"/></svg>')!important}.storyly__mobile-view-close-story{position:absolute;right:2%;top:2%;background-repeat:no-repeat!important;background-position:50%!important;cursor:pointer!important;border:none!important;pointer-events:auto!important;width:30px;height:30px;background:50% no-repeat!important;background-image:url('data:image/svg+xml;charset=utf-8,<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M18.884 5.116a1.25 1.25 0 010 1.768l-12 12a1.25 1.25 0 01-1.768-1.768l12-12a1.25 1.25 0 011.768 0z" fill="%23fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M5.116 5.116a1.25 1.25 0 011.768 0l12 12a1.25 1.25 0 01-1.768 1.768l-12-12a1.25 1.25 0 010-1.768z" fill="%23fff"/></svg>')!important}@media only screen and (max-width:648px){.storyly__mobile-view-close-story{display:none!important}}.storyly__mobile-view-close-story[direction=rtl]{left:2%;right:auto!important}@charset "UTF-8";.storyly__story-bottom_sheet{--translateY:0px;font-size:calc(var(--i--storyly-story-layer-height, 100vh)/10);pointer-events:none;visibility:hidden;overflow-x:hidden;position:absolute;top:0;height:100%;width:100%;z-index:2010;transition:opacity,visibility .25s}.storyly__story-bottom_sheet.bottomSheetActive{visibility:visible;pointer-events:auto}.storyly__story-bottom_sheet.bottomSheetActive .storyly__story-bottom_sheet__overlay{opacity:1}.storyly__story-bottom_sheet__overlay{opacity:0;display:block;position:absolute;height:100%;width:100%;background-color:rgba(0,0,0,.5);transition:opacity .3s;top:0}.storyly__story-bottom_sheet__sheet{display:flex;flex-direction:column;position:absolute;left:0;bottom:0;width:100%;max-height:76%;overflow-y:hidden;background-color:#fff;border-radius:.25em .25em 0 0;transition:transform .25s cubic-bezier(.4,0,.2,1);transform:translateY(100%)}.bottomSheetActive .storyly__story-bottom_sheet__sheet{transform:translateY(0)}.storyly__story-bottom_sheet__sheet.active{transform:var(--translateY)}.storyly__story-bottom_sheet__sheet__inner-container{overflow-y:auto}.storyly__story-bottom_sheet__handle{position:sticky;top:0;background-color:#fff;display:flex;align-items:center;justify-content:flex-end;padding:.1875em}.storyly__story-bottom_sheet__handle.bordered{box-shadow:0 -4px 20px -4px rgba(0,0,0,.25)}.storyly__story-bottom_sheet__footer{padding:.1875em;box-shadow:0 4px 20px -4px rgba(0,0,0,.25);border-top:1px solid #eee}.storyly__story-modal{width:62.5vw;max-height:65vh;position:relative;border-radius:8px;box-shadow:0 -1px 8px rgba(0,0,0,.25);position:absolute;top:50%;left:50%;transform:translate(-50%);z-index:1002;overflow:hidden;opacity:0;visibility:hidden;transition:transform .25s ease,opacity .25s ease-in,max-height .3s;display:flex;flex-direction:column}.storyly__story-modal *{box-sizing:border-box}.storyly__story-modal.active{opacity:1;visibility:visible;transform:translate(-50%,-50%)}.storyly__story-modal.active~.storyly__action-container{z-index:1000}.storyly__story-modal-header{flex:0 0 56px;border-bottom:1px solid #eee;background-color:#fff;display:flex;align-items:center;padding:16px}.storyly__story-modal-header-close-icon{cursor:pointer;margin-left:auto;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;background-color:#f5f5f5}.storyly__story-modal-body{z-index:2;background-color:#fff;flex:0 0 48vh;overflow:hidden}.storyly__story-modal-footer{background-color:#fff;position:sticky;z-index:2;bottom:0;padding:16px;flex:0 0 72px;border-top:1px solid #eee;box-shadow:0 4px 20px -4px rgba(0,0,0,.25)}@media (max-width:767px){.storyly__story-modal{width:calc(100vw - 16px)}}.storyly__story-product-cart-container:not(.modern-layout-product-cart){z-index:2;font-size:calc(var(--i--storyly-story-layer-height, 100vh)/10);position:absolute;top:12%;left:1px;width:1.5em;height:1em;display:flex;align-items:center;justify-content:flex-start}.storyly__story-product-cart-container:not(.modern-layout-product-cart) .storyly__story-product-cart{cursor:pointer;display:flex;align-items:center;justify-content:space-between;background:#fff;border:1px solid #eee;border-radius:0 .78125em .78125em 0}.storyly__story-product-cart-container:not(.modern-layout-product-cart) .storyly__story-product-cart .storyly__story-product-cart-icon{padding:.125em}.storyly__story-product-cart-container:not(.modern-layout-product-cart) .storyly__story-product-cart .storyly__story-product-cart-icon svg{display:block;width:.375em;height:.375em}.storyly__story-product-cart-container:not(.modern-layout-product-cart) .storyly__story-product-cart .storyly__story-product-cart-count{color:#fff;background-color:#000;font-size:.203125em;height:1.8461538462em;width:2.1538461538em;margin-right:.6153846154em;border-radius:1em;line-height:1.23}.storyly__story-product-cart-container:not(.modern-layout-product-cart) .storyly__story-product-cart .storyly__story-product-cart-count .count-number{position:relative;display:flex;justify-content:center;overflow:hidden;height:100%}.storyly__story-product-cart-container:not(.modern-layout-product-cart) .storyly__story-product-cart .storyly__story-product-cart-count .count-number>span{display:flex;text-align:center;align-items:center;flex-direction:column;opacity:0;flex-shrink:2;flex-basis:min-content;position:absolute;right:0;transition:all .2s ease}.storyly__story-product-cart-container:not(.modern-layout-product-cart) .storyly__story-product-cart .storyly__story-product-cart-count .count-number>span span{flex:0 0 1.8461538462em;width:min-content;line-height:1.8}.storyly__story-product-cart-container:not(.modern-layout-product-cart) .storyly__story-product-cart .storyly__story-product-cart-count .count-number>span.visible{position:static;width:100%;opacity:1}.storyly__story-product-cart-container:not(.modern-layout-product-cart) .storyly__story-product-cart[nocount=true] .storyly__story-product-cart-icon{padding-left:.28125em;padding-right:.25em}.storyly__story-product-cart-container:not(.modern-layout-product-cart) .storyly__story-product-cart[nocount=true] .storyly__story-product-cart-count{width:0;min-width:0}.storyly__story-product-cart-container.modern-layout-product-cart{z-index:2;position:absolute;font-size:calc(var(--i--storyly-story-layer-height, 100vh)/10);top:42px;width:62px;height:32px;right:118px;display:flex;align-items:center;justify-content:flex-start}.storyly__story-product-cart-container.modern-layout-product-cart .storyly__story-product-cart{padding:3px;cursor:pointer;display:flex;align-items:center;justify-content:space-between;background:#fff;border-radius:12px}.storyly__story-product-cart-container.modern-layout-product-cart .storyly__story-product-cart .storyly__story-product-cart-icon{margin-right:6px;margin-left:4px}.storyly__story-product-cart-container.modern-layout-product-cart .storyly__story-product-cart .storyly__story-product-cart-icon svg{display:block;width:20px;height:20px}.storyly__story-product-cart-container.modern-layout-product-cart .storyly__story-product-cart .storyly__story-product-cart-count{color:#fff;height:26px;width:26px;background:#212121;border-radius:10px}.storyly__story-product-cart-container.modern-layout-product-cart .storyly__story-product-cart .storyly__story-product-cart-count .count-number{position:relative;display:flex;justify-content:center;overflow:hidden;height:100%}.storyly__story-product-cart-container.modern-layout-product-cart .storyly__story-product-cart .storyly__story-product-cart-count .count-number>span{display:flex;text-align:center;align-items:center;flex-direction:column;opacity:0;flex-shrink:2;flex-basis:min-content;position:absolute;right:0;transition:all .2s ease}.storyly__story-product-cart-container.modern-layout-product-cart .storyly__story-product-cart .storyly__story-product-cart-count .count-number>span span{flex:0 0 26px;line-height:26px;width:min-content;font-size:15px}.storyly__story-product-cart-container.modern-layout-product-cart .storyly__story-product-cart .storyly__story-product-cart-count .count-number>span.visible{position:static;width:100%;opacity:1}.storyly__story-product-cart-items-container{padding:.25em}.storyly__story-product-cart-items-container ul{margin:0;padding:0;list-style:none}.storyly__story-product-cart-items-container .storyly__story-product-cart-item{position:relative;background-color:#f5f5f5;border-radius:.25em;box-shadow:0 0 9.57143px hsla(0,0%,52.5%,.1);border:1px solid #eee;margin-bottom:.1875em;overflow:hidden;transition:transform .3s cubic-bezier(.6,.04,.98,.335)}.storyly__story-product-cart-items-container .storyly__story-product-cart-item:last-child{margin-bottom:0}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container{z-index:2;position:relative;border-radius:inherit;background:#fff;padding:.1875em;display:flex;align-items:center}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info{display:flex;flex-direction:column;justify-content:space-between;width:100%;height:1.515625em}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info h3,.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info p,.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info span{margin:0;padding:0}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-variants-container{display:grid;justify-items:start;overflow:hidden}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-variants-container .storyly__story-product-cart-product-title{min-width:0;white-space:nowrap;display:flex;width:100%}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-variants-container .storyly__story-product-cart-product-title h3{font-size:.21875em;line-height:1.21;color:#212121;font-weight:400;overflow:hidden;text-overflow:ellipsis}@keyframes leftright{0%,20%{transform:translateX(0);left:0}80%,to{transform:translateX(-100%);left:100%}}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-variants-container .storyly__story-product-cart-product-variants{font-size:.203125em;margin-top:.3076923077em;line-height:1.23;width:100%;color:#616161;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;display:inline-block;white-space:nowrap;text-overflow:ellipsis}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-variants-container .storyly__story-product-cart-product-variants span{vertical-align:top;max-width:33%;overflow:hidden;display:inline-block;white-space:nowrap;text-overflow:ellipsis}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-variants-container .storyly__story-product-cart-product-variants span[data-type=bg]{display:inline-flex;height:1.0769230769em;width:1.0769230769em;border-radius:50%;border:1px solid #eee}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-counter{display:grid;grid-auto-flow:column;gap:.25em;align-items:center}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-price{display:flex;flex-direction:column;width:100%;overflow:hidden}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-price span{display:inline-block;width:100%;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-price span:first-child{color:#757575;text-decoration-line:line-through;font-size:.1875em;line-height:1.16}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-price span:last-child{color:#212121;font-size:.21875em;line-height:1.21;text-decoration-line:none;font-weight:700;margin-top:4px}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .counter{display:flex;justify-content:space-between;align-items:center;margin-inline-start:auto;border:1px solid #e0e0e0;border-radius:.3125em;padding:.125em}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .counter-count{font-size:.21875em;line-height:1.285;font-weight:600;color:#000;margin:0 .7142em}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .counter-button{cursor:pointer;font-size:inherit;border:none;background:#f5f5f5;border-radius:50%;padding:.0625em;display:flex;align-items:center;justify-content:center}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .counter-button svg{display:block;pointer-events:none}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-image{flex:0 0 1.515625em;height:1.515625em;margin-inline-end:.1875em}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-image img{width:100%;height:100%;border:1px solid #eee;border-radius:.15625em;object-fit:cover}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-delete{position:absolute;top:50%;right:.25em;transform:translateY(-50%)}.storyly__story-product-cart-items-container .storyly__story-product-cart-item .storyly__story-product-cart-product-delete svg{display:block;color:#ff4d50}.storyly__story-product-cart-items-container.modern-layout-product-cart-container{padding:12px 24px 24px;height:100%}.storyly__story-product-cart-items-container.modern-layout-product-cart-container ul{padding:1px;overflow:auto;height:100%}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item{border-radius:16px}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item:first-of-type{margin-top:12px}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container{padding:12px}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-title{width:100%}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info{height:97px}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info h3{font-size:16px!important;line-height:24px!important;width:100%;text-align:left;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;white-space:normal;-webkit-box-orient:vertical}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-variants-container{display:flex;align-items:center;justify-content:space-between}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-variants{font-size:14px;margin-top:0;text-align:right;line-height:1.5;max-width:50%;color:#484848}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-variants span{vertical-align:bottom}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-variants span[data-type=bg]{height:24px;width:24px;border:1px solid #f5f5f5}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-counter{display:grid;grid-auto-flow:column;gap:.25em;align-items:center}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-price{width:100%;flex-direction:row;align-items:center}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-price span:first-child{width:unset;font-size:12px;line-height:1.16}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .storyly__story-product-cart-product-price span:last-child{width:unset;color:#212121;font-size:14px;line-height:1.21;margin-left:4px;margin-top:0}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .counter{border-radius:20px;padding:8px}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .counter-count{font-size:15px;line-height:1.2;margin:0 14px}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .counter-button{cursor:pointer;border-radius:50%;padding:4px;width:24px!important;height:24px!important}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .counter-button svg{display:block;pointer-events:none}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .counter .storyly-spinner-container{width:24px!important;height:24px!important}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-info .counter .storyly-spinner-container div{border-width:2px}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-image{flex:0 0 97px;height:97px;margin-inline-end:12px;display:flex}.storyly__story-product-cart-items-container.modern-layout-product-cart-container .storyly__story-product-cart-item .storyly__story-product-cart-product-container .storyly__story-product-cart-product-image img{border:1px solid #eee;border-radius:10px}.storyly__story-product-cart-items-footer{display:flex;align-items:center}.storyly__story-product-cart-items-footer p{margin:0;padding:0}.storyly__story-product-cart-items-footer p:first-child{font-size:.1875em;line-height:1.16;color:#757575}.storyly__story-product-cart-items-footer .storyly__story-product-cart-items-footer-price{max-width:2.53125em}.storyly__story-product-cart-items-footer .storyly__story-product-cart-items-footer-price .total-price-container{display:grid;grid-auto-flow:column;align-items:center;margin-top:4px}.storyly__story-product-cart-items-footer .storyly__story-product-cart-items-footer-price .total-price-container span{width:100%;white-space:nowrap;overflow:hidden!important;text-overflow:ellipsis}.storyly__story-product-cart-items-footer .storyly__story-product-cart-items-footer-price .total-price-container span:last-child{color:#757575;font-size:.1875em;line-height:1.16;text-decoration-line:line-through;overflow:hidden}.storyly__story-product-cart-items-footer .storyly__story-product-cart-items-footer-price .total-price-container span:first-child{color:#000;font-size:.25em;line-height:1.1875;font-weight:500;margin-inline-end:8px;text-decoration:none}.storyly__story-product-cart-items-footer .storyly__story-product-cart-items-footer-button{cursor:pointer;margin:.1875em 0;font-size:inherit;margin-inline-start:auto;background:#000;border-radius:1.5625em;padding:.1875em .25em;display:flex;align-items:center;border:none;outline:none}.storyly__story-product-cart-items-footer .storyly__story-product-cart-items-footer-button span{color:#fff;font-size:.21875em;font-weight:600}.storyly__story-product-cart-items-footer .storyly__story-product-cart-items-footer-button svg{margin-inline-start:.09375em}.storyly__story-product-cart-items-footer.modern-layout-product-cart p:first-child{font-size:14px;line-height:1.5;color:#9e9e9e}.storyly__story-product-cart-items-footer.modern-layout-product-cart .storyly__story-product-cart-items-footer-price{max-width:100%;width:100%;display:flex;align-items:center}.storyly__story-product-cart-items-footer.modern-layout-product-cart .storyly__story-product-cart-items-footer-price .total-price-container{display:flex;align-items:center;margin-top:0;width:100%}.storyly__story-product-cart-items-footer.modern-layout-product-cart .storyly__story-product-cart-items-footer-price .total-price-container span{width:100%}.storyly__story-product-cart-items-footer.modern-layout-product-cart .storyly__story-product-cart-items-footer-price .total-price-container span:last-child{width:unset;max-width:25%;color:#757575;font-size:16px}.storyly__story-product-cart-items-footer.modern-layout-product-cart .storyly__story-product-cart-items-footer-price .total-price-container span:first-child{width:unset;color:#000;font-size:18px;max-width:25%;margin-inline-start:8px}.storyly__story-product-cart-items-footer.modern-layout-product-cart .storyly__story-product-cart-items-footer-button{margin:0;margin-inline-start:auto;border-radius:100px;padding:10px 16px;height:40px}.storyly__story-product-cart-items-footer.modern-layout-product-cart .storyly__story-product-cart-items-footer-button span{font-size:14px;white-space:pre;margin-right:6px}.storyly__story-product-cart-items-footer.modern-layout-product-cart .storyly__story-product-cart-items-footer-button svg{margin-inline-start:0;width:16px;height:16px}.storyly__classic-layout .storyly__story-product-cart-modal{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;font-size:calc(var(--i--storyly-story-layer-height, 100vh)/10);animation:modal-animation .2s;animation-timing-function:linear}.storyly__classic-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);z-index:99}.storyly__classic-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content{z-index:100;position:absolute;background:#f2f2f7;backdrop-filter:blur(27.1828px);border-radius:.21875em;top:50%;left:50%;transform:translate(-50%,-50%);width:75%;overflow:hidden}.storyly__classic-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-message{color:#000;font-size:.265625em;line-height:1.29;font-weight:700;text-align:center;margin:1.1176470588em .9411764706em}.storyly__classic-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-actions{display:flex;justify-content:center;padding:0 .125em;border-top:1px solid rgba(60,60,67,.36)}.storyly__classic-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-actions button{background:#f2f2f7;font-size:.265625em;padding:.6470588235em 0;line-height:1.29;font-weight:400;width:100%;color:#0a7aff;border:none;outline:none}.storyly__classic-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-cancel{cursor:pointer;border-right:1px solid rgba(60,60,67,.36)!important}.storyly__classic-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-remove{cursor:pointer;border-left:1px solid rgba(60,60,67,.36)!important}.storyly__modern-layout .storyly__story-product-cart-modal{position:absolute;top:0;left:0;width:100%;height:100%;z-index:100;animation:modal-animation .2s;animation-timing-function:linear}@keyframes modal-animation{0%{opacity:0}to{opacity:1}}.storyly__modern-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.6);z-index:99}.storyly__modern-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content{z-index:100;padding:24px 16px;position:absolute;background:#fff;box-shadow:0 -1px 7px rgba(0,0,0,.25);border-radius:16px;top:50%;left:50%;transform:translate(-50%,-50%);width:360px;overflow:hidden}.storyly__modern-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-message{background:#f5f5f5;font-weight:500;border-radius:16px;font-size:20px;line-height:24px;display:flex;flex-direction:column;align-items:center;text-align:center;color:#212121;padding:24px 20px;margin-bottom:24px}.storyly__modern-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-message .storyly__story-product-cart-modal-delete-icon{text-align:center;margin-bottom:12px}.storyly__modern-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-message .storyly__story-product-cart-modal-delete-icon  svg{width:40px;height:40px;color:#212121}.storyly__modern-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-actions{display:flex;flex-direction:column-reverse;justify-content:center;align-items:center}.storyly__modern-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-actions button{background:#fff;border:1px solid #e0e0e0;color:#000;font-size:17px;padding:12px 0;line-height:17px;font-weight:600;width:100%;outline:none;border-radius:100px}.storyly__modern-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-actions button:last-child{color:#fff;outline:none;background-color:#000;margin-bottom:12px}.storyly__modern-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-cancel,.storyly__modern-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-content .storyly__story-product-cart-modal-remove{cursor:pointer}.storyly__classic-layout .storyly__story-product-cart-modal .storyly__story-product-cart-modal-delete-icon{display:none}.storyly__story-product-cart-empty-state{padding:0 .375em .25em;text-align:center}.storyly__story-product-cart-empty-state .storyly__story-product-cart-empty-state-body{background:#f5f5f5;border-radius:.25em;margin-bottom:.375em;padding:.25em .3125em .375em;display:flex;align-items:center;justify-content:center;flex-direction:column}.storyly__story-product-cart-empty-state .storyly__story-product-cart-empty-state-body .storyly__story-product-cart-empty-state-body-text p{font-size:.3125em;line-height:1.2;color:#212121;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden}.storyly__story-product-cart-empty-state .storyly__story-product-cart-empty-state-body .storyly__story-product-cart-empty-state-body-icon svg{display:block;height:.75em;width:.75em}.storyly__story-product-cart-empty-state.modern-layout-empty-state{padding:0;height:100%}.storyly__story-product-cart-empty-state.modern-layout-empty-state .storyly__story-product-cart-empty-state-body{width:327px;background:#f5f5f5;border-radius:16px;margin-bottom:0;padding:24px 20px;top:50%;left:50%;transform:translate(-50%,-50%);position:absolute}.storyly__story-product-cart-empty-state.modern-layout-empty-state .storyly__story-product-cart-empty-state-body .storyly__story-product-cart-empty-state-body-text p{font-size:20px}.storyly__story-product-cart-empty-state.modern-layout-empty-state .storyly__story-product-cart-empty-state-body .storyly__story-product-cart-empty-state-body-icon svg{height:48px;width:48px}.storyly__story-product-cart-empty-state-button button{display:block;border:none;outline:none;font-size:.21875em;line-height:1.21;color:#fff;font-weight:600;width:100%;padding:.8571428571em 0;background:#000;border-radius:100px}.storyly__story-product-cart-empty-state-button.modern-layout-footer-button button{cursor:pointer;font-size:14px;width:unset;padding:12px 16px;border-radius:100px;margin-left:auto}.product-detail.bottom-sheet,.product-detail.modal{display:flex;align-items:flex-start;padding:.375em .25em 0;height:100%;transition:opacity .3s ease-in-out}.product-detail.bottom-sheet .product-detail-media,.product-detail.modal .product-detail-media{flex:0 0 50%;padding-inline-end:.25em;display:flex;justify-content:flex-start;height:100%;overflow:hidden}.product-detail.bottom-sheet .product-detail-media-small,.product-detail.modal .product-detail-media-small{display:flex;flex-direction:column;align-items:center;overflow-y:auto;margin-inline-end:.25em;flex-shrink:0}.product-detail.bottom-sheet .product-detail-media-small-container,.product-detail.modal .product-detail-media-small-container{cursor:pointer;margin-bottom:.25em;border:2px solid transparent;pointer-events:none}.product-detail.bottom-sheet .product-detail-media-small-container img,.product-detail.modal .product-detail-media-small-container img{pointer-events:all;width:56px;height:56px;border:1px solid rgba(124,124,150,.2);border-radius:4px;object-fit:contain;box-sizing:content-box;display:block}.product-detail.bottom-sheet .product-detail-media-small-container.selected,.product-detail.modal .product-detail-media-small-container.selected{border-color:#212121;border-radius:7px;box-sizing:content-box}.product-detail.bottom-sheet .product-detail-media-small-container.selected img,.product-detail.modal .product-detail-media-small-container.selected img{border-color:transparent}.product-detail.bottom-sheet .product-detail-media-large,.product-detail.modal .product-detail-media-large{height:100%;padding-bottom:.375em;flex-grow:1;display:flex;justify-content:center}.product-detail.bottom-sheet .product-detail-media-large img,.product-detail.modal .product-detail-media-large img{cursor:zoom-in;height:100%;border:1px solid rgba(124,124,150,.2);border-radius:.125em;object-fit:contain}.product-detail.bottom-sheet .product-detail-variants,.product-detail.modal .product-detail-variants{flex:0 0 50%;overflow-y:auto;padding-inline-start:.25em;height:100%}.product-detail.bottom-sheet .product-detail-variants h4,.product-detail.modal .product-detail-variants h4{font-weight:600;font-size:.25em;line-height:1.5;color:#070710;margin:0;padding-bottom:1em}.product-detail.bottom-sheet .product-detail-variants .product-detail-price,.product-detail.modal .product-detail-variants .product-detail-price{display:flex;align-items:center;margin-bottom:.5em}.product-detail.bottom-sheet .product-detail-variants .product-detail-price .product-card-current-price,.product-detail.modal .product-detail-variants .product-detail-price .product-card-current-price{font-weight:500;font-size:.28125em;line-height:1.5;color:#212121;margin-inline-end:.45em;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.product-detail.bottom-sheet .product-detail-variants .product-detail-price .product-card-old-price,.product-detail.modal .product-detail-variants .product-detail-price .product-card-old-price{font-weight:400;font-size:.25em;line-height:1.5;text-decoration-line:line-through;color:#757575;overflow:hidden;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant,.product-detail.modal .product-detail-variants .product-detail-variant{margin-bottom:.125em}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row,.product-detail.modal .product-detail-variants .product-detail-variant-row{display:flex;justify-content:flex-start;flex-shrink:0;align-items:center;flex-wrap:wrap}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div,.product-detail.modal .product-detail-variants .product-detail-variant-row div{cursor:pointer;position:relative;font-size:.203125em;line-height:1.54;margin-inline-end:1.23em;margin-bottom:1.23em;height:2.46em;min-width:2.46em;border-radius:1.23em}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div span,.product-detail.modal .product-detail-variants .product-detail-variant-row div span{pointer-events:none;font-weight:500;height:inherit;min-width:inherit;padding:0 .61538em;border-radius:inherit;color:#484848;display:flex;align-items:center;justify-content:center;border:1.5px solid #f5f5f5;background-color:#eee}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div.selected,.product-detail.modal .product-detail-variants .product-detail-variant-row div.selected{outline:2px solid #000}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div.selected span,.product-detail.modal .product-detail-variants .product-detail-variant-row div.selected span{border-color:#fff}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div.disabled,.product-detail.modal .product-detail-variants .product-detail-variant-row div.disabled{opacity:.5;pointer-events:none;cursor:default}.product-detail.bottom-sheet .product-detail-variants .product-detail-title-small,.product-detail.modal .product-detail-variants .product-detail-title-small{font-weight:500;font-size:.21875em;line-height:1.2142;color:#9e9e9e;margin:0;padding-bottom:.5714em;letter-spacing:.1em}.product-detail.bottom-sheet .product-detail-variants .product-detail-title-small div,.product-detail.modal .product-detail-variants .product-detail-title-small div{display:flex;justify-content:flex-start}.product-detail.bottom-sheet .product-detail-variants .product-detail-description,.product-detail.modal .product-detail-variants .product-detail-description{padding-top:.125em;padding-bottom:.3125em}.product-detail.bottom-sheet .product-detail-variants .product-detail-description p,.product-detail.modal .product-detail-variants .product-detail-description p{margin:0;font-weight:400;font-size:.21875em;line-height:1.2142;color:#212121}.product-detail.bottom-sheet{flex-direction:column;padding:0;overflow:hidden}.product-detail.bottom-sheet .product-detail-media{display:block;padding:0;overflow:initial;width:100%}.product-detail.bottom-sheet .product-detail-media-small{flex-direction:row;overflow-x:auto;overflow-y:hidden;width:100%}.product-detail.bottom-sheet .product-detail-media-small:after{content:"";min-width:.25em;height:100%}.product-detail.bottom-sheet .product-detail-media-small-container{height:2.4375em;margin-inline-end:.125em}.product-detail.bottom-sheet .product-detail-media-small-container:first-child{margin-inline-start:.25em}.product-detail.bottom-sheet .product-detail-media-small-container:last-child{margin-inline-end:0}.product-detail.bottom-sheet .product-detail-media-small-container img{height:100%;width:auto;object-fit:cover;border:1.5px solid #eee;border-radius:.15625em}.product-detail.bottom-sheet .product-detail-media-small-container.selected{border-color:transparent;border-radius:.0625em}.product-detail.bottom-sheet .product-detail-media-small-container.selected img{border-color:#eee}.product-detail.bottom-sheet .product-detail-media-large{display:none}.product-detail.bottom-sheet .product-detail-variants{width:100%;padding:0;overflow:hidden}.product-detail.bottom-sheet .product-detail-variants .product-detail-price,.product-detail.bottom-sheet .product-detail-variants .product-detail-title-md{display:none}.product-detail.bottom-sheet .product-detail-variants .product-detail-title-small{margin-inline-end:1.142em;margin-top:1.7142em;padding-bottom:0;color:#616161}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant{display:flex;align-items:flex-start;overflow:hidden;width:100%;border-top:1px solid #eee;padding:0;padding-inline-start:.25em;margin:0;height:1.15625em}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant:after{content:"";min-width:.25em;height:100%}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant:last-child{margin-bottom:0}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row{flex-wrap:nowrap;overflow-y:hidden;overflow-x:auto;align-items:flex-start;height:100%;margin-top:.1875em;flex-shrink:unset;padding-inline-end:.25em;padding-top:2px;padding-left:2px}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div{min-width:3.077em;height:3.077em;margin-bottom:0;flex-shrink:0}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div span{box-sizing:border-box;padding:0 .615em;height:100%;min-width:3.077em;flex:0 0 3.077em;border-radius:1.5384em}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div.selected{border-radius:3.077em}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div.selected span{height:100%;min-width:2.77em;flex:0 0 2.77em;border:2px solid #fff;border-radius:inherit}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div.selected span:after{content:"";position:absolute;left:0;right:0;bottom:-1em;width:.384em;height:.384em;border-radius:50%;background-color:#000;margin-right:auto;margin-left:auto}.product-detail.bottom-sheet .product-detail-variants .product-detail-variant-row div:last-child{margin-inline-end:0}.product-detail.bottom-sheet .product-detail-variants .product-detail-description{border-top:1px solid #eee;padding:0 .25em .25em}.product-detail.bottom-sheet .product-detail-variants .product-detail-description .product-detail-title-small{margin-bottom:.8571em}.product-detail.bottom-sheet .storyly__alert-box{width:calc(100% - 24px - .5em);margin-top:.1875em}.product-detail.modal{flex-wrap:wrap;font-size:64px}.product-detail-footer{display:flex;align-items:center;justify-content:space-between;background:#fff}.product-detail-footer.modal{font-size:64px}.product-detail-footer.modal .product-detail-footer-price{display:none}.product-detail-footer.bottom-sheet{flex-direction:column;justify-content:flex-start;align-items:flex-start}.product-detail-footer.bottom-sheet .product-detail-footer-price{display:flex;align-items:center;margin-bottom:.1875em}.product-detail-footer.bottom-sheet .product-detail-footer-price .product-card-current-price{font-size:.25em;line-height:1.1875;font-weight:500;color:#000;margin-inline-end:.25em}.product-detail-footer.bottom-sheet .product-detail-footer-price .product-card-old-price{font-size:.1875em;line-height:1.16;font-weight:400;color:#757575;text-decoration-line:line-through}.product-detail-footer.bottom-sheet .product-detail-footer-action{width:100%}.product-detail-footer.bottom-sheet .product-detail-footer-action-button{flex-grow:1;display:flex}.product-detail-footer-action{display:flex;align-items:center;margin-left:auto}.product-detail-footer-action-button{display:flex;align-items:center;justify-content:center;gap:6px;cursor:pointer;color:#fff;border-radius:100px;font-size:.21875em;font-weight:600;padding:.8571em 1.5em;background-color:#000;border:none;margin-inline-start:.571em}.product-detail-footer-action-button-icon svg{vertical-align:text-bottom;pointer-events:none}.product-detail-footer-action-button .storyly-spinner-container{font-size:64px}.product-detail-footer-action-button .storyly-spinner-container div{border-color:#fff transparent transparent!important}.product-detail-footer-action .counter{display:flex;justify-content:space-between;align-items:center;border:.03125em solid #e0e0e0;border-radius:.3125em;padding:.125em}.product-detail-footer-action .counter-count{font-size:.21875em;line-height:1.285;font-weight:600;color:#000;margin:0 .7142em}.product-detail-footer-action .counter-button{cursor:pointer;font-size:inherit;border:none;background:#f5f5f5;border-radius:50%;padding:.0625em;display:flex;align-items:center;justify-content:center}.product-detail-footer-action .counter-button svg{display:block;pointer-events:none}.product-checkout-footer{padding:.375em;text-align:center;background:#f5f5f5;transform:translateY(-80%);border-bottom-left-radius:8px;border-bottom-right-radius:8px;z-index:1;animation:product-footer-checkout-animation .3s cubic-bezier(.39,.58,.57,1);animation-fill-mode:both}.product-checkout-footer p{margin:0;font-size:.21875em;line-height:1.2142;font-weight:400;color:#212121}.product-checkout-footer p svg{vertical-align:text-bottom}.product-checkout-footer-buttons{margin-top:.21875em;display:flex;align-items:center;justify-content:center;gap:.1875em}.product-checkout-footer-buttons button{cursor:pointer;border:none;font-size:inherit;width:2.96875em;padding:.15625em 0;border-radius:100px;display:flex;align-items:center;justify-content:center}.product-checkout-footer-buttons button span{font-size:.21875em;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-word}.product-checkout-footer-buttons button svg{margin-inline-end:.125em}.product-checkout-footer-buttons .continue-button{color:#424242;background:#fff;border:1px solid #e0e0e0}.product-checkout-footer-buttons .checkout-button{color:#fff;background:#000}.product-checkout-footer.modal{font-size:64px}.product-checkout-footer.modal p svg{width:24px;height:24px}.product-checkout-footer.bottom-sheet{background:unset;padding:.25em}.product-checkout-footer.bottom-sheet p{display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:.8em;background-color:#f5f5f5;padding-top:1em;padding-bottom:0;font-size:.3125em}.product-checkout-footer.bottom-sheet p span{line-height:1.2;margin:.4em 1em 1.2em}.product-checkout-footer.bottom-sheet .product-checkout-footer-buttons{flex-direction:column-reverse;margin-top:.375em}.product-checkout-footer.bottom-sheet .product-checkout-footer-buttons button{width:100%}@keyframes product-footer-checkout-animation{0%{transform:translateY(-80%)}to{transform:translateY(-5%)}}.storyly-spinner-container.storyly-android-spinner{display:inline-block;position:relative;display:flex;align-items:center;justify-content:center}.storyly-spinner-container.storyly-android-spinner div{box-sizing:border-box;display:block;position:absolute;width:66%;height:66%;border-radius:50%;animation:android-spinner 1.2s cubic-bezier(.5,0,.5,1) infinite;border:.03125em solid transparent;border-top-color:#000}.storyly-spinner-container.storyly-android-spinner div:first-child{animation-delay:-.45s}.storyly-spinner-container.storyly-android-spinner div:nth-child(2){animation-delay:-.3s}.storyly-spinner-container.storyly-android-spinner div:nth-child(3){animation-delay:-.15s}@keyframes android-spinner{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.storyly-spinner-container.storyly-ios-spinner{display:inline-block;position:relative}.storyly-spinner-container.storyly-ios-spinner div{transform-origin:40px 40px;animation:ios-spinner 1.2s linear infinite}.storyly-spinner-container.storyly-ios-spinner div:after{content:" ";display:block;position:absolute;top:3px;left:37px;width:6px;height:18px;border-radius:20%;background:#fff}.storyly-spinner-container.storyly-ios-spinner div:first-child{transform:rotate(0deg);animation-delay:-1.1s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(2){transform:rotate(30deg);animation-delay:-1s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(3){transform:rotate(60deg);animation-delay:-.9s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(4){transform:rotate(90deg);animation-delay:-.8s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(5){transform:rotate(120deg);animation-delay:-.7s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(6){transform:rotate(150deg);animation-delay:-.6s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(7){transform:rotate(180deg);animation-delay:-.5s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(8){transform:rotate(210deg);animation-delay:-.4s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(9){transform:rotate(240deg);animation-delay:-.3s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(10){transform:rotate(270deg);animation-delay:-.2s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(11){transform:rotate(300deg);animation-delay:-.1s}.storyly-spinner-container.storyly-ios-spinner div:nth-child(12){transform:rotate(330deg);animation-delay:0s}@keyframes ios-spinner{0%{opacity:1}to{opacity:0}}.storyly__alert-box{position:relative;border:1px solid #e0e0e0;background:#f5f5f5;border-radius:16px;width:calc(100% - 24px);max-height:0;height:100%;display:flex;align-items:center;padding-inline:12px;opacity:0;margin-left:auto;margin-right:auto;visibility:hidden;transition:all .3s ease}.storyly__alert-box-close{cursor:pointer;position:absolute;right:12px;top:12px}.storyly__alert-box-close svg{display:block}.storyly__alert-box-message{width:100%}.storyly__alert-box-message p{font-weight:400;font-size:14px;line-height:17px;color:#212121;margin:0;margin-inline-start:8px;max-width:90%}.storyly__alert-box-icon{display:flex;align-items:center;justify-content:center}.storyly__alert-box.active{padding-block:20px;max-height:75px;visibility:visible;opacity:1;margin-bottom:12px}.storyly__story-modal .storyly__alert-box{width:100%!important}.storyly__video-seekbar{position:absolute;bottom:0;width:100%;height:.875em;padding:0 .1875em;align-items:center;box-sizing:border-box;display:flex;background:linear-gradient(1turn,rgba(9,9,9,.5),rgba(9,9,9,0) 52.26%);opacity:0;transition:opacity .4s ease-in-out}.storyly__video-seekbar:hover .progress-indicator{opacity:1!important}.storyly__video-seekbar.hovered,.storyly__video-seekbar.show{opacity:1}.storyly__video-seekbar .video-time{font-size:.203125em;font-family:Storyly-Inter;color:#fff;font-weight:400;flex:0 0 10%}.storyly__video-seekbar .action-icon{flex:0 0 6%}.storyly__video-seekbar .action-icon .pause-icon,.storyly__video-seekbar .action-icon .play-icon{display:flex;cursor:pointer}.storyly__video-seekbar .seekbar{margin:0 8px;height:.046875em;position:relative;flex:0 0 77%}.storyly__video-seekbar .seekbar .interactive-lines{display:flex;height:100%;width:100%;cursor:pointer}.storyly__video-seekbar .seekbar .interactive-lines .interactive-line{width:100%;height:100%;background:linear-gradient(90deg,hsla(0,0%,100%,.6) 0 100%);display:inline-block;border-radius:100px;margin:0 .02734375em}.storyly__video-seekbar .seekbar .progress-indicator{background:#fff;border-radius:50%;width:.1875em;height:.1875em;display:inline-block;position:absolute;top:-.07em;cursor:pointer;opacity:0;transition:opacity .2s ease-in-out}.storyly__share-popup{display:inline-flex;flex-direction:column;align-items:flex-start;gap:16px;z-index:2002;padding:24px 16px;overflow:hidden;box-shadow:0 -.96px 6.71px 0 rgba(0,0,0,.25);background:#242424;border:1px solid hsla(0,0%,100%,.06);border-radius:16px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:#fff;transition:all .4s ease-in-out}.storyly__share-popup.active{visibility:visible}.storyly__share-popup:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;display:block;background-color:rgba(0,0,0,.55)}.storyly__share-popup .header{display:flex;align-items:center;justify-content:space-between;width:100%}.storyly__share-popup .header .text-wrapper{position:relative;align-self:stretch;color:#fff;font-family:Storyly-Inter;font-size:15px;font-style:normal;font-weight:700;line-height:22px}.storyly__share-popup .header .close-icon-wrapper{cursor:pointer;display:inline-flex;gap:6.4px;padding:4px;flex:0 0 auto;background-color:hsla(0,0%,100%,.1019607843);border-radius:80px;align-items:flex-start;position:relative}.storyly__share-popup .divider{position:relative;align-self:stretch;width:100%;height:1px;background-color:hsla(0,0%,100%,.0588235294)}.storyly__share-popup .share-social-media{display:inline-flex;align-items:flex-start;gap:16px;position:relative;flex:0 0 auto}.storyly__share-popup .share-social-media .social-media{cursor:pointer;display:inline-flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;position:relative;flex:0 0 auto;text-decoration:none;color:#fff}.storyly__share-popup .share-social-media .social-media:hover{transform:scale(1.03);transition:all .3s ease-in-out}.storyly__share-popup .share-social-media .social-media div{position:relative;width:64px;font-family:Storyly-Inter;font-weight:400;color:#fff;font-size:13px;text-align:center;letter-spacing:0;line-height:normal}.storyly__share-popup .share-other-media{flex-direction:column;align-items:flex-start;gap:12px;display:flex;position:relative;align-self:stretch;width:100%;flex:0 0 auto}.storyly__share-popup .share-other-media .share-icon-wrapper{align-self:stretch;width:100%;flex:0 0 auto;display:flex;align-items:center;gap:12px;position:relative;cursor:pointer}.storyly__share-popup .share-other-media .share-icon-wrapper:hover{transform:scale(1.03);transition:all .3s ease}.storyly__share-popup .share-other-media .share-icon-wrapper .share-icon{display:flex;align-items:center;justify-content:flex-end;gap:12px;padding:12px;position:relative;flex:1;flex-grow:1;background-color:hsla(0,0%,100%,.1019607843);border-radius:4px;overflow:hidden;border:1px solid hsla(0,0%,100%,.0588235294)}.storyly__share-popup .share-other-media .share-icon-wrapper .share-icon .icon{position:relative;width:24px;height:24px}.storyly__share-popup .share-other-media .share-icon-wrapper .share-icon .icon svg{display:block}.storyly__share-popup .share-other-media .share-icon-wrapper .share-icon .text{position:relative;flex:1;font-family:Storyly-Inter;font-weight:400;color:#fff;font-size:13px;letter-spacing:0;line-height:normal}.storyly__share-popup-overlay{cursor:pointer;position:absolute;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.5);z-index:2001}.storyly__groups-overlay{z-index:2147483647!important;position:fixed;visibility:hidden;width:100vw!important;height:100vh!important;height:calc(var(--vh, 1vh)*100)!important;left:0;transition-property:top;transition-duration:.3s;transition-timing-function:ease-in;text-align:left!important;--i--storyly-story-layer-width:min(85vw,47.8125vh);--i--storyly-story-layer-height:min(85vh,151.11111vw);background-color:#000;top:200vh}@media only screen and (max-width:648px){.storyly__groups-overlay{transition-duration:.4s!important;position:fixed!important}}@media only screen and (max-height:575.98px) and (orientation:landscape){.storyly__groups-overlay{--i--storyly-story-layer-width:min(90vw,50.625vh);--i--storyly-story-layer-height:min(90vh,160vw)}}.storyly__groups-overlay[embed-mode]{width:100%!important;height:100%!important;position:absolute!important;transition-property:unset!important;transition-duration:unset!important;top:0!important;background-color:unset}.storyly__groups-overlay[embed-mode] .swiper-cube-shadow{display:none!important}.storyly__groups-overlay[direction=rtl]{text-align:right!important}.storyly__groups-overlay.active{top:0;bottom:0;transform:translate(0);visibility:visible!important}.storyly__groups-overlay .background-blur-canvas{width:100%!important;height:100%!important;position:absolute!important;left:0!important;top:0!important}.storyly__groups-overlay .swiper-slide{visibility:hidden}.storyly__groups-overlay .swiper-slide.swiper-slide-active{visibility:visible}@font-face{font-family:swiper-icons;src:url("data:application/font-woff;charset=utf-8;base64, d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA");font-weight:400;font-style:normal}:root{--swiper-theme-color:#007aff}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;list-style:none;padding:0;z-index:1}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;box-sizing:content-box}.swiper-android .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-pointer-events{touch-action:pan-y}.swiper-pointer-events.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-3d,.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-cube-shadow,.swiper-3d .swiper-slide,.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-bottom,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(270deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(90deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(0deg,rgba(0,0,0,.5),transparent)}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(180deg,rgba(0,0,0,.5),transparent)}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-horizontal.swiper-css-mode>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-vertical.swiper-css-mode>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-centered.swiper-vertical>.swiper-wrapper:before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center}.swiper-virtual.swiper-css-mode .swiper-wrapper:after{content:"";position:absolute;left:0;top:0;pointer-events:none}.swiper-virtual.swiper-css-mode.swiper-horizontal .swiper-wrapper:after{height:1px;width:var(--swiper-virtual-size)}.swiper-virtual.swiper-css-mode.swiper-vertical .swiper-wrapper:after{width:1px;height:var(--swiper-virtual-size)}:root{--swiper-navigation-size:44px}.swiper-button-next,.swiper-button-prev{position:absolute;top:50%;width:calc(var(--swiper-navigation-size)/44*27);height:var(--swiper-navigation-size);margin-top:calc(0px - var(--swiper-navigation-size)/2);z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color,var(--swiper-theme-color))}.swiper-button-next.swiper-button-disabled,.swiper-button-prev.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-next:after,.swiper-button-prev:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;text-transform:none;font-variant:normal;line-height:1}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:10px;right:auto}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:"prev"}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:10px;left:auto}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:"next"}.swiper-button-lock{display:none}.swiper-pagination{position:absolute;text-align:center;transition:opacity .3s;transform:translateZ(0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal,.swiper-pagination-custom,.swiper-pagination-fraction{bottom:10px;left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width,var(--swiper-pagination-bullet-size,8px));height:var(--swiper-pagination-bullet-height,var(--swiper-pagination-bullet-size,8px));display:inline-block;border-radius:50%;background:var(--swiper-pagination-bullet-inactive-color,#000);opacity:var(--swiper-pagination-bullet-inactive-opacity,.2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity,1);background:var(--swiper-pagination-color,var(--swiper-theme-color))}.swiper-pagination-vertical.swiper-pagination-bullets,.swiper-vertical>.swiper-pagination-bullets{right:10px;top:50%;transform:translate3d(0,-50%,0)}.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap,6px) 0;display:block}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:transform .2s,top .2s}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap,4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translateX(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:transform .2s,left .2s}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:transform .2s,right .2s}.swiper-pagination-progressbar{background:rgba(0,0,0,.25);position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color,var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite{width:100%;height:4px;left:0;top:0}.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-vertical>.swiper-pagination-progressbar{width:4px;height:100%;left:0;top:0}.swiper-pagination-lock{display:none}.swiper-scrollbar{border-radius:10px;position:relative;-ms-touch-action:none;background:rgba(0,0,0,.1)}.swiper-horizontal>.swiper-scrollbar{position:absolute;left:1%;bottom:3px;z-index:50;height:5px;width:98%}.swiper-vertical>.swiper-scrollbar{position:absolute;right:3px;top:1%;z-index:50;width:5px;height:98%}.swiper-scrollbar-drag{height:100%;width:100%;position:relative;background:rgba(0,0,0,.5);border-radius:10px;left:0;top:0}.swiper-scrollbar-cursor-drag{cursor:move}.swiper-scrollbar-lock{display:none}.swiper-zoom-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center}.swiper-zoom-container>canvas,.swiper-zoom-container>img,.swiper-zoom-container>svg{max-width:100%;max-height:100%;object-fit:contain}.swiper-slide-zoomed{cursor:move}.swiper-lazy-preloader{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;animation:swiper-preloader-spin 1s linear infinite;box-sizing:border-box;border-radius:50%;border:4px solid var(--swiper-preloader-color,var(--swiper-theme-color));border-top:4px solid transparent}.swiper-lazy-preloader-white{--swiper-preloader-color:#fff}.swiper-lazy-preloader-black{--swiper-preloader-color:#000}@keyframes swiper-preloader-spin{to{transform:rotate(1turn)}}.swiper .swiper-notification{position:absolute;left:0;top:0;pointer-events:none;opacity:0;z-index:-1000}.swiper-free-mode>.swiper-wrapper{transition-timing-function:ease-out;margin:0 auto}.swiper-grid>.swiper-wrapper{flex-wrap:wrap}.swiper-grid-column>.swiper-wrapper{flex-wrap:wrap;flex-direction:column}.swiper-fade.swiper-free-mode .swiper-slide{transition-timing-function:ease-out}.swiper-fade .swiper-slide{pointer-events:none;transition-property:opacity}.swiper-fade .swiper-slide .swiper-slide{pointer-events:none}.swiper-fade .swiper-slide-active,.swiper-fade .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-cube{overflow:visible}.swiper-cube .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube .swiper-slide .swiper-slide{pointer-events:none}.swiper-cube.swiper-rtl .swiper-slide{transform-origin:100% 0}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-next,.swiper-cube .swiper-slide-next+.swiper-slide,.swiper-cube .swiper-slide-prev{pointer-events:auto;visibility:visible}.swiper-cube .swiper-slide-shadow-bottom,.swiper-cube .swiper-slide-shadow-left,.swiper-cube .swiper-slide-shadow-right,.swiper-cube .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:"";background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-flip{overflow:visible}.swiper-flip .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip .swiper-slide .swiper-slide{pointer-events:none}.swiper-flip .swiper-slide-active,.swiper-flip .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-flip .swiper-slide-shadow-bottom,.swiper-flip .swiper-slide-shadow-left,.swiper-flip .swiper-slide-shadow-right,.swiper-flip .swiper-slide-shadow-top{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-creative .swiper-slide{-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden;transition-property:transform,opacity,height}.swiper-cards{overflow:visible}.swiper-cards .swiper-slide{transform-origin:center bottom;-webkit-backface-visibility:hidden;backface-visibility:hidden;overflow:hidden}.storyly__story-modal{width:62.5vw;max-height:65vh;position:relative;border-radius:8px;box-shadow:0 -1px 8px rgba(0,0,0,.25);position:absolute;top:50%;left:50%;transform:translate(-50%);z-index:1002;overflow:hidden;opacity:0;visibility:hidden;transition:transform .25s ease,opacity .25s ease-in,max-height .3s;display:flex;flex-direction:column}.storyly__story-modal *{box-sizing:border-box}.storyly__story-modal.active{opacity:1;visibility:visible;transform:translate(-50%,-50%)}.storyly__story-modal.active~.storyly__action-container{z-index:1000}.storyly__story-modal-header{flex:0 0 56px;border-bottom:1px solid #eee;background-color:#fff;display:flex;align-items:center;padding:16px}.storyly__story-modal-header-close-icon{cursor:pointer;margin-left:auto;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;background-color:#f5f5f5}.storyly__story-modal-body{z-index:2;background-color:#fff;flex:0 0 48vh;overflow:hidden}.storyly__story-modal-footer{background-color:#fff;position:sticky;z-index:2;bottom:0;padding:16px;flex:0 0 72px;border-top:1px solid #eee;box-shadow:0 4px 20px -4px rgba(0,0,0,.25)}@media (max-width:767px){.storyly__story-modal{width:calc(100vw - 16px)}}`,r.textContent+=(0,y.inlineStoryGroupStyle)(this.properties_)}},{key:"setOverlayVh_",value:function(){var e=.01*window.innerHeight;this.groupsOverlay_.style.setProperty("--vh","".concat(e,"px"))}},{key:"close",value:function(){this.handleCloseGroup_()}},{key:"openStory",value:function(e){var t=this,r=e.group,n=e.story,o=e.playMode;this.openStoryParams_=[r,n,o],this.groups_.length>0&&this.loadShareParams_().then(function(){t.handleOpenStoryByUrl_()}).catch(function(){})}},{key:"setSegments",value:function(e){var r=this;this.userConfig_.segments&&(0,v.isArraysEqual)(this.userConfig_.segments,e)||(this.segmentsDebounce_&&clearTimeout(this.segmentsDebounce_),this.segmentsDebounce_=setTimeout(function(){var n;r.groupShadowRoot_.innerHTML="",r.storylyFontCssDom_.remove(),r.renderMainDoms_();var o=[].concat((0,t.default)(null!==(n=r.userConfig_.segments)&&void 0!==n?n:[]),(0,t.default)(Array.isArray(e)?e:[])).length>0?(0,t.default)(new Set(e.map(function(e){return String(e)}))):null;r.init_=!1,r.userConfig_=R(R({},r.userConfig_),{},{segments:o}),r.init(r.userConfig_)},200))}},{key:"setProperties",value:function(e){var t;(0,y.removeClass)(this.groupsWrapper_,this.properties_.storyGroupAlign),this.properties_=R(R(R({},this.properties_),e),{},{scrollIndicatorOptions:R(R({},this.properties_.scrollIndicatorOptions),(null==e?void 0:e.scrollIndicatorOptions)||{})}),(0,y.setClass)(this.groupsWrapper_,this.properties_.storyGroupAlign),this.globalInstanceData.properties=this.properties_,this.groupShadowRoot_.querySelector("#storyly__story-group-style-tag").textContent=(0,y.inlineStyle)(this.properties_,this.instanceId_),this.storyShadowRoot_.querySelector("style").textContent+=(0,y.inlineStoryGroupStyle)(this.properties_),null===(t=this.isoTopeSorting_)||void 0===t||t.arrange({sortBy:"order"}),this.setContainerHeight_()}},{key:"setExternalData",value:function(){var e=(0,n.default)(h.default.mark(function e(r){var o,s=this;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&0!==!r.length){e.next=2;break}return e.abrupt("return");case 2:if(this.externalData_=r,!(this.hiddenPersonalizedGroups_.length>0)){e.next=13;break}return o=(0,t.default)(this.groups_),e.next=7,this.hiddenPersonalizedGroups_.forEach(function(){var e=(0,n.default)(h.default.mark(function e(t){var r,n,i,a,u;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==m.groupTypes.PERSONALIZED){e.next=11;break}return e.next=3,(0,S.createPersonalizedImpl)(s.externalData_,t);case 3:if(!(r=e.sent).hidden){e.next=6;break}return e.abrupt("return");case 6:if(!(n=(0,S.createUserPropertyImpl)(s.userPropertyData_,r)).hidden){e.next=9;break}return e.abrupt("return");case 9:i=s.createGroupInstanceAndReorderCircleNodes_(n),a=i.newGroupInstance,u=i.order,o.splice(u,0,R(R({},a),{},{hidden:void 0}));case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 7:this.groups_=o.filter(function(e){return Boolean(e)}),this.isoTopeSorting_.reloadItems(),this.isoTopeSorting_.updateSortData(),this.isoTopeSorting_.arrange({sortBy:"order"}),this.setContainerHeight_(),S.StoryGroupAnimationImpl.add(this.groupCircleNodes_,this.properties_.storyGroupAnimation);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setUserPropertiesData",value:function(){var e=(0,n.default)(h.default.mark(function e(r){var n,o,s,i=this;return h.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&null!==(n=Object.keys(r))&&void 0!==n&&n.length){e.next=2;break}return e.abrupt("return");case 2:this.userPropertyData_=r,this.hiddenPersonalizedGroups_.length>0&&(o=this.hiddenPersonalizedGroups_.map(function(e){return e.group_id}),s=(0,t.default)(this.groups_.filter(function(e){return!o.includes(e.group_id)})),this.hiddenPersonalizedGroups_.forEach(function(e){var t=(0,S.createUserPropertyImpl)(i.userPropertyData_,e);if(!t.hidden){var r=i.createGroupInstanceAndReorderCircleNodes_(t),n=r.newGroupInstance,o=r.order;s.splice(o,0,R(R({},n),{},{hidden:void 0}))}}),this.groups_=s.filter(function(e){return Boolean(e)}),this.isoTopeSorting_.reloadItems(),this.isoTopeSorting_.updateSortData(),this.isoTopeSorting_.arrange({sortBy:"order"}),this.setContainerHeight_(),S.StoryGroupAnimationImpl.add(this.groupCircleNodes_,this.properties_.storyGroupAnimation));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setEmbedContainerRatio",value:function(e){this.groupsOverlay_.style.setProperty("--i--storyly-story-layer-width","".concat(e.width,"px")),this.groupsOverlay_.style.setProperty("--i--storyly-story-layer-height","".concat(e.height,"px"))}},{key:"setStorylyHydration",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(r))throw new Error("Hydration Data must be an Array!");if(this.storylyHydration=r,this.hiddenPersonalizedGroups_.length>0){var n=this.hiddenPersonalizedGroups_.map(function(e){return e.group_id}),o=(0,t.default)(this.groups_.filter(function(e){return!n.includes(e.group_id)}));this.hiddenPersonalizedGroups_.forEach(function(t){var r=(0,v.getProductLayers)(t).flatMap(function(e){return e.products});if(r.length&&r.every(function(t){return e.storylyHydration.some(function(e){return e.product_group_id===t.product_group_id})})){var n=e.createGroupInstanceAndReorderCircleNodes_(t),s=n.newGroupInstance,i=n.order;o.splice(i,0,R(R({},s),{},{hidden:!1}))}}),this.groups_=o.filter(function(e){return Boolean(e)}),this.isoTopeSorting_.reloadItems(),this.isoTopeSorting_.updateSortData(),this.isoTopeSorting_.arrange({sortBy:"order"}),this.setContainerHeight_(),S.StoryGroupAnimationImpl.add(this.groupCircleNodes_,this.properties_.storyGroupAnimation)}}},{key:"updateCart",value:function(e){this.isStorylyCartActive=!0,this.setProductCartItems(e)}},{key:"setProductCartItems",value:function(e){this.storylyCheckoutProducts=e||{products:[],price:"",sales_price:"",price_currency:""};var t=this.getActiveGroup_();if(t){var r=t.instance;r&&r.storyCart&&e&&r.storyCart.updateCart(e)}}},{key:"setLang",value:function(e){var t=e.language,r=e.json;this.userConfig_.lang=t,this.userConfig_.langJson=r,this.handleI18n_()}},{key:"remove",value:function(){this.parentElement.removeChild(this),this.storyShadowDom_.remove(),this.storylyFontCssDom_.remove()}}]),l}((0,d.default)(HTMLElement));window.StorylyWeb=F;var H=F;exports.default=H;
},{"@babel/runtime/helpers/typeof":"b9XL","@babel/runtime/helpers/toConsumableArray":"Fhqp","@babel/runtime/helpers/slicedToArray":"HETk","@babel/runtime/helpers/asyncToGenerator":"agGE","@babel/runtime/helpers/defineProperty":"IxO8","@babel/runtime/helpers/classCallCheck":"fcMS","@babel/runtime/helpers/createClass":"P8NW","@babel/runtime/helpers/inherits":"d4H2","@babel/runtime/helpers/possibleConstructorReturn":"pxk2","@babel/runtime/helpers/getPrototypeOf":"UJE0","@babel/runtime/helpers/wrapNativeSuper":"ozpi","@babel/runtime/regenerator":"PMvg","uuid":"D6fo","./lib/api":"nMub","./lib/storage":"NA5d","./lib/style":"vgU2","./lib/util":"PesM","./constants/playmode":"Ooqf","./main.scss":"yCDU","./service/custom-story-group-design-impl":"TkWu","./constants/common":"VKZr","./service":"hs1C","./constants/layouts":"kUgL","./constants/events":"d0lR","./constants/directions":"w67G","./constants/instanceStyleKeys":"FlW1","./layouts/Modern":"ajqo","./layouts/Classic":"egGP","./constants/barLayouts":"HgmH","./components/AdGroup":"R6v9","./lang/de.json":"wnBO","./lang/tr.json":"W6mp","./lang/es.json":"TK6j","./lang/he.json":"Jl2B","./lang/pt.json":"UwaE","./lang/en.json":"sNTB"}],"Focm":[function(require,module,exports) {
"use strict";var e=n(require("./StorylyEmbed")),t=n(require("./StorylyWeb")),o=n(require("./lib/storage"));function n(e){return e&&e.__esModule?e:{default:e}}var r=new URLSearchParams(window.location.search),l=r.get("StorylyTestEnv"),s=r.get("ip"),y=o.default.getItemFromGlobal("Storyly_userConfig"),i=["v2-beta","latest","local"];l&&y&&i.includes(l)?window.storylyInit||(window.storylyInit=!0,HTMLElement.prototype.init=function(){},fetch("local"===l?"https://".concat(null!=s?s:"dev.storyly",":8083/src.a2b27638.js"):"https://web-story.storyly.io/".concat(l,"/storyly-web.js")).then(function(e){return e.text()}).then(function(e){customElements.define("storyly-web",window.StorylyWeb);var t=document.createElement("script");t.setAttribute("custom-element","storyly-web"),t.innerHTML=e,t.async=!0,document.body.appendChild(t),setTimeout(function(){var e=document.querySelector("storyly-web"),t=document.createElement("div");t.innerText='Storyly Test Env Activated!!. Now you are in "'.concat(l,'" script!'),t.style.color="red",t.style.fontSize="20px",t.style.fontWeight="bold",e.parentNode.insertBefore(t,e),e.init(y)},7500)})):(customElements.get("storyly-web")||customElements.define("storyly-web",t.default),customElements.get("storyly-web-embed")||customElements.define("storyly-web-embed",e.default));
},{"./StorylyEmbed":"vBxD","./StorylyWeb":"Lwlj","./lib/storage":"NA5d"}],"Yi9z":[function(require,module,exports) {
module.exports=function(n){return new Promise(function(e,o){var r=document.createElement("script");r.async=!0,r.type="text/javascript",r.charset="utf-8",r.src=n,r.onerror=function(n){r.onerror=r.onload=null,o(n)},r.onload=function(){r.onerror=r.onload=null,e()},document.getElementsByTagName("head")[0].appendChild(r)})};
},{}],0:[function(require,module,exports) {
var b=require("TUK3");b.register("js",require("Yi9z"));
},{}]},{},[0,"Focm"], null)